var HS=Object.defineProperty,zS=Object.defineProperties;var WS=Object.getOwnPropertyDescriptors;var Hy=Object.getOwnPropertySymbols;var GS=Object.prototype.hasOwnProperty,qS=Object.prototype.propertyIsEnumerable;var zy=(e,n,t)=>n in e?HS(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,I=(e,n)=>{for(var t in n||={})GS.call(n,t)&&zy(e,t,n[t]);if(Hy)for(var t of Hy(n))qS.call(n,t)&&zy(e,t,n[t]);return e},q=(e,n)=>zS(e,WS(n));var ot=null,Oc=!1,Of=1,KS=null,lt=Symbol("SIGNAL");function G(e){let n=ot;return ot=e,n}function Fc(){return ot}var Ds={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Es(e){if(Oc)throw new Error("");if(ot===null)return;ot.consumerOnSignalRead(e);let n=ot.producersTail;if(n!==void 0&&n.producer===e)return;let t,r=ot.recomputing;if(r&&(t=n!==void 0?n.nextProducer:ot.producers,t!==void 0&&t.producer===e)){ot.producersTail=t,t.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===ot&&(!r||JS(i,ot)))return;let o=Qi(ot),s={producer:e,consumer:ot,nextProducer:t,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};ot.producersTail=s,n!==void 0?n.nextProducer=s:ot.producers=s,o&&Ky(e,s)}function Wy(){Of++}function Pf(e){if(!(Qi(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Of)){if(!e.producerMustRecompute(e)&&!jc(e)){Nf(e);return}e.producerRecomputeValue(e),Nf(e)}}function Ff(e){if(e.consumers===void 0)return;let n=Oc;Oc=!0;try{for(let t=e.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||YS(r)}}finally{Oc=n}}function Lf(){return ot?.consumerAllowSignalWrites!==!1}function YS(e){e.dirty=!0,Ff(e),e.consumerMarkedDirty?.(e)}function Nf(e){e.dirty=!1,e.lastCleanEpoch=Of}function Cs(e){return e&&Gy(e),G(e)}function Gy(e){e.producersTail=void 0,e.recomputing=!0}function Lc(e,n){G(n),e&&qy(e)}function qy(e){e.recomputing=!1;let n=e.producersTail,t=n!==void 0?n.nextProducer:e.producers;if(t!==void 0){if(Qi(e))do t=jf(t);while(t!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function jc(e){for(let n=e.producers;n!==void 0;n=n.nextProducer){let t=n.producer,r=n.lastReadVersion;if(r!==t.version||(Pf(t),r!==t.version))return!0}return!1}function Ss(e){if(Qi(e)){let n=e.producers;for(;n!==void 0;)n=jf(n)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function Ky(e,n){let t=e.consumersTail,r=Qi(e);if(t!==void 0?(n.nextConsumer=t.nextConsumer,t.nextConsumer=n):(n.nextConsumer=void 0,e.consumers=n),n.prevConsumer=t,e.consumersTail=n,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)Ky(i.producer,i)}function jf(e){let n=e.producer,t=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:n.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(n.consumers=r,!Qi(n)){let o=n.producers;for(;o!==void 0;)o=jf(o)}return t}function Qi(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Vf(e){KS?.(e)}function JS(e,n){let t=n.producersTail;if(t!==void 0){let r=n.producers;do{if(r===e)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Bf(e,n){return Object.is(e,n)}function Vc(e,n){let t=Object.create(ZS);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(Pf(t),Es(t),t.value===Pc)throw t.error;return t.value};return r[lt]=t,Vf(t),r}var Rf=Symbol("UNSET"),kf=Symbol("COMPUTING"),Pc=Symbol("ERRORED"),ZS=q(I({},Ds),{value:Rf,dirty:!0,error:null,equal:Bf,kind:"computed",producerMustRecompute(e){return e.value===Rf||e.value===kf},producerRecomputeValue(e){if(e.value===kf)throw new Error("");let n=e.value;e.value=kf;let t=Cs(e),r,i=!1;try{r=e.computation(),G(null),i=n!==Rf&&n!==Pc&&r!==Pc&&e.equal(n,r)}catch(o){r=Pc,e.error=o}finally{Lc(e,t)}if(i){e.value=n;return}e.value=r,e.version++}});function QS(){throw new Error}var Yy=QS;function Jy(e){Yy(e)}function Uf(e){Yy=e}var XS=null;function $f(e,n){let t=Object.create(Bc);t.value=e,n!==void 0&&(t.equal=n);let r=()=>Zy(t);return r[lt]=t,Vf(t),[r,s=>Is(t,s),s=>Qy(t,s)]}function Zy(e){return Es(e),e.value}function Is(e,n){Lf()||Jy(e),e.equal(e.value,n)||(e.value=n,eI(e))}function Qy(e,n){Lf()||Jy(e),Is(e,n(e.value))}var Bc=q(I({},Ds),{equal:Bf,value:void 0,kind:"signal"});function eI(e){e.version++,Wy(),Ff(e),XS?.(e)}function Hf(e){let n=G(null);try{return e()}finally{G(n)}}function H(e){return typeof e=="function"}function Xi(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Uc=Xi(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ts(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var qe=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(o){n=o instanceof Uc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Xy(o)}catch(s){n=n??[],s instanceof Uc?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Uc(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Xy(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Ts(t,n)}remove(n){let{_finalizers:t}=this;t&&Ts(t,n),n instanceof e&&n._removeParent(this)}};qe.EMPTY=(()=>{let e=new qe;return e.closed=!0,e})();var zf=qe.EMPTY;function $c(e){return e instanceof qe||e&&"closed"in e&&H(e.remove)&&H(e.add)&&H(e.unsubscribe)}function Xy(e){H(e)?e():e.unsubscribe()}var Jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var eo={setTimeout(e,n,...t){let{delegate:r}=eo;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=eo;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Hc(e){eo.setTimeout(()=>{let{onUnhandledError:n}=Jt;if(n)n(e);else throw e})}function xs(){}var ev=Wf("C",void 0,void 0);function tv(e){return Wf("E",void 0,e)}function nv(e){return Wf("N",e,void 0)}function Wf(e,n,t){return{kind:e,value:n,error:t}}var $r=null;function to(e){if(Jt.useDeprecatedSynchronousErrorHandling){let n=!$r;if(n&&($r={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=$r;if($r=null,t)throw r}}else e()}function rv(e){Jt.useDeprecatedSynchronousErrorHandling&&$r&&($r.errorThrown=!0,$r.error=e)}var Hr=class extends qe{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,$c(n)&&n.add(this)):this.destination=rI}static create(n,t,r){return new no(n,t,r)}next(n){this.isStopped?qf(nv(n),this):this._next(n)}error(n){this.isStopped?qf(tv(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?qf(ev,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tI=Function.prototype.bind;function Gf(e,n){return tI.call(e,n)}var Kf=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){zc(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){zc(r)}else zc(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){zc(t)}}},no=class extends Hr{constructor(n,t,r){super();let i;if(H(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Jt.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Gf(n.next,o),error:n.error&&Gf(n.error,o),complete:n.complete&&Gf(n.complete,o)}):i=n}this.destination=new Kf(i)}};function zc(e){Jt.useDeprecatedSynchronousErrorHandling?rv(e):Hc(e)}function nI(e){throw e}function qf(e,n){let{onStoppedNotification:t}=Jt;t&&eo.setTimeout(()=>t(e,n))}var rI={closed:!0,next:xs,error:nI,complete:xs};var ro=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Zt(e){return e}function Yf(...e){return Jf(e)}function Jf(e){return e.length===0?Zt:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var ee=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=oI(t)?t:new no(t,r,i);return to(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=iv(r),new r((i,o)=>{let s=new no({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ro](){return this}pipe(...t){return Jf(t)(this)}toPromise(t){return t=iv(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function iv(e){var n;return(n=e??Jt.Promise)!==null&&n!==void 0?n:Promise}function iI(e){return e&&H(e.next)&&H(e.error)&&H(e.complete)}function oI(e){return e&&e instanceof Hr||iI(e)&&$c(e)}function sI(e){return H(e?.lift)}function ae(e){return n=>{if(sI(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(e,n,t,r,i){return new Zf(e,n,t,r,i)}var Zf=class extends Hr{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){n.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};var ov=Xi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Be=(()=>{class e extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Wc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ov}next(t){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?zf:(this.currentObservers=null,o.push(t),new qe(()=>{this.currentObservers=null,Ts(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ee;return t.source=this,t}}return e.create=(n,t)=>new Wc(n,t),e})(),Wc=class extends Be{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:zf}};var Ke=class extends Be{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var yt=new ee(e=>e.complete());function sv(e){return e&&H(e.schedule)}function av(e){return e[e.length-1]}function Gc(e){return H(av(e))?e.pop():void 0}function er(e){return sv(av(e))?e.pop():void 0}function Wr(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t}function qc(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})}function cv(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function zr(e){return this instanceof zr?(this.v=e,this):new zr(e)}function lv(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(i[f]=function(g){return new Promise(function(m,y){o.push([f,g,m,y])>1||c(f,g)})},p&&(i[f]=p(i[f])))}function c(f,p){try{l(r[f](p))}catch(g){h(o[0][3],g)}}function l(f){f.value instanceof zr?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function uv(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof cv=="function"?cv(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Kc=e=>e&&typeof e.length=="number"&&typeof e!="function";function Yc(e){return H(e?.then)}function Jc(e){return H(e[ro])}function Zc(e){return Symbol.asyncIterator&&H(e?.[Symbol.asyncIterator])}function Qc(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function aI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Xc=aI();function el(e){return H(e?.[Xc])}function tl(e){return lv(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield zr(t.read());if(i)return yield zr(void 0);yield yield zr(r)}}finally{t.releaseLock()}})}function nl(e){return H(e?.getReader)}function Me(e){if(e instanceof ee)return e;if(e!=null){if(Jc(e))return cI(e);if(Kc(e))return lI(e);if(Yc(e))return uI(e);if(Zc(e))return dv(e);if(el(e))return dI(e);if(nl(e))return fI(e)}throw Qc(e)}function cI(e){return new ee(n=>{let t=e[ro]();if(H(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function lI(e){return new ee(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function uI(e){return new ee(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Hc)})}function dI(e){return new ee(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function dv(e){return new ee(n=>{hI(e,n).catch(t=>n.error(t))})}function fI(e){return dv(tl(e))}function hI(e,n){var t,r,i,o;return qc(this,void 0,void 0,function*(){try{for(t=uv(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})}function vt(e,n,t,r=0,i=!1){let o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function rl(e,n=0){return ae((t,r)=>{t.subscribe(ce(r,i=>vt(r,e,()=>r.next(i),n),()=>vt(r,e,()=>r.complete(),n),i=>vt(r,e,()=>r.error(i),n)))})}function il(e,n=0){return ae((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function fv(e,n){return Me(e).pipe(il(n),rl(n))}function hv(e,n){return Me(e).pipe(il(n),rl(n))}function pv(e,n){return new ee(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function gv(e,n){return new ee(t=>{let r;return vt(t,n,()=>{r=e[Xc](),vt(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}function ol(e,n){if(!e)throw new Error("Iterable cannot be null");return new ee(t=>{vt(t,n,()=>{let r=e[Symbol.asyncIterator]();vt(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function mv(e,n){return ol(tl(e),n)}function yv(e,n){if(e!=null){if(Jc(e))return fv(e,n);if(Kc(e))return pv(e,n);if(Yc(e))return hv(e,n);if(Zc(e))return ol(e,n);if(el(e))return gv(e,n);if(nl(e))return mv(e,n)}throw Qc(e)}function Ae(e,n){return n?yv(e,n):Me(e)}function K(...e){let n=er(e);return Ae(e,n)}function Qf(e,n){let t=H(e)?e:()=>e,r=i=>i.error(t());return new ee(n?i=>n.schedule(r,0,i):r)}function sl(e){return!!e&&(e instanceof ee||H(e.lift)&&H(e.subscribe))}var Gr=Xi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function re(e,n){return ae((t,r)=>{let i=0;t.subscribe(ce(r,o=>{r.next(e.call(n,o,i++))}))})}var{isArray:pI}=Array;function gI(e,n){return pI(n)?e(...n):e(n)}function al(e){return re(n=>gI(e,n))}var{isArray:mI}=Array,{getPrototypeOf:yI,prototype:vI,keys:bI}=Object;function cl(e){if(e.length===1){let n=e[0];if(mI(n))return{args:n,keys:null};if(_I(n)){let t=bI(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function _I(e){return e&&typeof e=="object"&&yI(e)===vI}function ll(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function Xf(...e){let n=er(e),t=Gc(e),{args:r,keys:i}=cl(e);if(r.length===0)return Ae([],n);let o=new ee(wI(r,n,i?s=>ll(i,s):Zt));return t?o.pipe(al(t)):o}function wI(e,n,t=Zt){return r=>{vv(n,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)vv(n,()=>{let l=Ae(e[c],n),u=!1;l.subscribe(ce(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function vv(e,n,t){e?vt(t,e,n):n()}function bv(e,n,t,r,i,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&n.complete()},f=g=>l<r?p(g):c.push(g),p=g=>{o&&n.next(g),l++;let m=!1;Me(t(g,u++)).subscribe(ce(n,y=>{i?.(y),o?f(y):n.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;c.length&&l<r;){let y=c.shift();s?vt(n,s,()=>p(y)):p(y)}h()}catch(y){n.error(y)}}))};return e.subscribe(ce(n,f,()=>{d=!0,h()})),()=>{a?.()}}function ut(e,n,t=1/0){return H(n)?ut((r,i)=>re((o,s)=>n(r,o,i,s))(Me(e(r,i))),t):(typeof n=="number"&&(t=n),ae((r,i)=>bv(r,i,e,t)))}function _v(e=1/0){return ut(Zt,e)}function wv(){return _v(1)}function io(...e){return wv()(Ae(e,er(e)))}function Ms(e){return new ee(n=>{Me(e()).subscribe(n)})}function eh(...e){let n=Gc(e),{args:t,keys:r}=cl(e),i=new ee(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Me(t[u]).subscribe(ce(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?ll(r,a):a),o.complete())}))}});return n?i.pipe(al(n)):i}function Nt(e,n){return ae((t,r)=>{let i=0;t.subscribe(ce(r,o=>e.call(n,o,i++)&&r.next(o)))})}function As(e){return ae((n,t)=>{let r=null,i=!1,o;r=n.subscribe(ce(t,void 0,void 0,s=>{o=Me(e(s,As(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function oo(e,n){return H(n)?ut(e,n,1):ut(e,1)}function th(e){return ae((n,t)=>{let r=!1;n.subscribe(ce(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function Nn(e){return e<=0?()=>yt:ae((n,t)=>{let r=0;n.subscribe(ce(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Dv(e=DI){return ae((n,t)=>{let r=!1;n.subscribe(ce(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function DI(){return new Gr}function Rs(e){return ae((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function On(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Nt((i,o)=>e(i,o,r)):Zt,Nn(1),t?th(n):Dv(()=>new Gr))}function ul(e){return e<=0?()=>yt:ae((n,t)=>{let r=[];n.subscribe(ce(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function nh(...e){let n=er(e);return ae((t,r)=>{(n?io(e,t,n):io(e,t)).subscribe(r)})}function Ot(e,n){return ae((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ce(r,c=>{i?.unsubscribe();let l=0,u=o++;Me(e(c,u)).subscribe(i=ce(r,d=>r.next(n?n(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ks(e){return ae((n,t)=>{Me(e).subscribe(ce(t,()=>t.complete(),xs)),!t.closed&&n.subscribe(t)})}function dt(e,n,t){let r=H(e)||n||t?{next:e,error:n,complete:t}:e;return r?ae((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ce(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Zt}var rh;function dl(){return rh}function pn(e){let n=rh;return rh=e,n}var Ev=Symbol("NotFound");function so(e){return e===Ev||e?.name==="\u0275NotFound"}var vh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",M=class extends Error{code;constructor(n,t){super(Qr(n,t)),this.code=n}};function SI(e){return`NG0${Math.abs(e)}`}function Qr(e,n){return`${SI(e)}${n?": "+n:""}`}function le(e){for(let n in e)if(e[n]===le)return n;throw Error("")}function xv(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Fn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Fn).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function bh(e,n){return e?n?`${e} ${n}`:e:n||""}var II=le({__forward_ref__:le});function bt(e){return e.__forward_ref__=bt,e.toString=function(){return Fn(this())},e}function Ye(e){return _h(e)?e():e}function _h(e){return typeof e=="function"&&e.hasOwnProperty(II)&&e.__forward_ref__===bt}function O(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function mn(e){return{providers:e.providers||[],imports:e.imports||[]}}function js(e){return TI(e,ml)}function wh(e){return js(e)!==null}function TI(e,n){return e.hasOwnProperty(n)&&e[n]||null}function xI(e){let n=e?.[ml]??null;return n||null}function oh(e){return e&&e.hasOwnProperty(hl)?e[hl]:null}var ml=le({\u0275prov:le}),hl=le({\u0275inj:le}),N=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=O({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Dh(e){return e&&!!e.\u0275providers}var Eh=le({\u0275cmp:le}),Ch=le({\u0275dir:le}),Sh=le({\u0275pipe:le}),Ih=le({\u0275mod:le}),Os=le({\u0275fac:le}),Xr=le({__NG_ELEMENT_ID__:le}),Cv=le({__NG_ENV_ID__:le});function Th(e){return yl(e,"@NgModule"),e[Ih]||null}function rr(e){return yl(e,"@Component"),e[Eh]||null}function xh(e){return yl(e,"@Directive"),e[Ch]||null}function Mv(e){return yl(e,"@Pipe"),e[Sh]||null}function yl(e,n){if(e==null)throw new M(-919,!1)}function co(e){return typeof e=="string"?e:e==null?"":String(e)}function Av(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():co(e)}var Rv=le({ngErrorCode:le}),MI=le({ngErrorMessage:le}),AI=le({ngTokenPath:le});function Mh(e,n){return kv("",-200,n)}function vl(e,n){throw new M(-201,!1)}function kv(e,n,t){let r=new M(n,e);return r[Rv]=n,r[MI]=e,t&&(r[AI]=t),r}function RI(e){return e[Rv]}var sh;function Nv(){return sh}function It(e){let n=sh;return sh=e,n}function Ah(e,n,t){let r=js(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(n!==void 0)return n;vl(e,"")}var kI={},qr=kI,NI="__NG_DI_FLAG__",ah=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=Kr(t)||0;try{return this.injector.get(n,r&8?null:qr,r)}catch(i){if(so(i))return i;throw i}}};function OI(e,n=0){let t=dl();if(t===void 0)throw new M(-203,!1);if(t===null)return Ah(e,void 0,n);{let r=PI(n),i=t.retrieve(e,r);if(so(i)){if(r.optional)return null;throw i}return i}}function j(e,n=0){return(Nv()||OI)(Ye(e),n)}function S(e,n){return j(e,Kr(n))}function Kr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function PI(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function ch(e){let n=[];for(let t=0;t<e.length;t++){let r=Ye(e[t]);if(Array.isArray(r)){if(r.length===0)throw new M(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=FI(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}n.push(j(i,o))}else n.push(j(r))}return n}function FI(e){return e[NI]}function Yr(e,n){let t=e.hasOwnProperty(Os);return t?e[Os]:null}function bl(e,n){e.forEach(t=>Array.isArray(t)?bl(t,n):n(t))}function Rh(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Vs(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Ov(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let o=i-2;e[i]=e[o],i--}e[n]=t,e[n+1]=r}}function Pv(e,n,t){let r=lo(e,n);return r>=0?e[r|1]=t:(r=~r,Ov(e,r,n,t)),r}function _l(e,n){let t=lo(e,n);if(t>=0)return e[t|1]}function lo(e,n){return LI(e,n,1)}function LI(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}var ir={},Tt=[],uo=new N(""),kh=new N("",-1),Nh=new N(""),Ps=class{get(n,t=qr){if(t===qr){let i=kv("",-201);throw i.name="\u0275NotFound",i}return t}};function ei(e){return{\u0275providers:e}}function Fv(...e){return{\u0275providers:Oh(!0,e),\u0275fromNgModule:!0}}function Oh(e,...n){let t=[],r=new Set,i,o=s=>{t.push(s)};return bl(n,s=>{let a=s;pl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Lv(i,o),t}function Lv(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];Ph(i,o=>{n(o,r)})}}function pl(e,n,t,r){if(e=Ye(e),!e)return!1;let i=null,o=oh(e),s=!o&&rr(e);if(!o&&!s){let c=e.ngModule;if(o=oh(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)pl(l,n,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{bl(o.imports,u=>{pl(u,n,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Lv(l,n)}if(!a){let l=Yr(i)||(()=>new i);n({provide:i,useFactory:l,deps:Tt},i),n({provide:Nh,useValue:i,multi:!0},i),n({provide:uo,useValue:()=>j(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;Ph(c,u=>{n(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function Ph(e,n){for(let t of e)Dh(t)&&(t=t.\u0275providers),Array.isArray(t)?Ph(t,n):n(t)}var jI=le({provide:String,useValue:le});function jv(e){return e!==null&&typeof e=="object"&&jI in e}function VI(e){return!!(e&&e.useExisting)}function BI(e){return!!(e&&e.useFactory)}function Jr(e){return typeof e=="function"}function Vv(e){return!!e.useClass}var Bs=new N(""),fl={},Sv={},ih;function Us(){return ih===void 0&&(ih=new Ps),ih}var ke=class{},Zr=class extends ke{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,uh(n,s=>this.processProvider(s)),this.records.set(kh,ao(void 0,this)),i.has("environment")&&this.records.set(ke,ao(void 0,this));let o=this.records.get(Bs);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Nh,Tt,{self:!0}))}retrieve(n,t){let r=Kr(t)||0;try{return this.get(n,qr,r)}catch(i){if(so(i))return i;throw i}}destroy(){Ns(this),this._destroyed=!0;let n=G(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(n)}}onDestroy(n){return Ns(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Ns(this);let t=pn(this),r=It(void 0),i;try{return n()}finally{pn(t),It(r)}}get(n,t=qr,r){if(Ns(this),n.hasOwnProperty(Cv))return n[Cv](this);let i=Kr(r),o,s=pn(this),a=It(void 0);try{if(!(i&4)){let l=this.records.get(n);if(l===void 0){let u=WI(n)&&js(n);u&&this.injectableDefInScope(u)?l=ao(lh(n),fl):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l,i)}let c=i&2?Us():this.parent;return t=i&8&&t===qr?null:t,c.get(n,t)}catch(c){let l=RI(c);throw l===-200||l===-201?new M(l,null):c}finally{It(a),pn(s)}}resolveInjectorInitializers(){let n=G(null),t=pn(this),r=It(void 0),i;try{let o=this.get(uo,Tt,{self:!0});for(let s of o)s()}finally{pn(t),It(r),G(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(Fn(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=Ye(n);let t=Jr(n)?n:Ye(n&&n.provide),r=$I(n);if(!Jr(n)&&n.multi===!0){let i=this.records.get(t);i||(i=ao(void 0,fl,!0),i.factory=()=>ch(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let i=G(null);try{if(t.value===Sv)throw Mh(Fn(n));return t.value===fl&&(t.value=Sv,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&zI(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{G(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=Ye(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function lh(e){let n=js(e),t=n!==null?n.factory:Yr(e);if(t!==null)return t;if(e instanceof N)throw new M(204,!1);if(e instanceof Function)return UI(e);throw new M(204,!1)}function UI(e){if(e.length>0)throw new M(204,!1);let t=xI(e);return t!==null?()=>t.factory(e):()=>new e}function $I(e){if(jv(e))return ao(void 0,e.useValue);{let n=Fh(e);return ao(n,fl)}}function Fh(e,n,t){let r;if(Jr(e)){let i=Ye(e);return Yr(i)||lh(i)}else if(jv(e))r=()=>Ye(e.useValue);else if(BI(e))r=()=>e.useFactory(...ch(e.deps||[]));else if(VI(e))r=(i,o)=>j(Ye(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ye(e&&(e.useClass||e.provide));if(HI(e))r=()=>new i(...ch(e.deps));else return Yr(i)||lh(i)}return r}function Ns(e){if(e.destroyed)throw new M(205,!1)}function ao(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function HI(e){return!!e.deps}function zI(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function WI(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function uh(e,n){for(let t of e)Array.isArray(t)?uh(t,n):t&&Dh(t)?uh(t.\u0275providers,n):n(t)}function Ze(e,n){let t;e instanceof Zr?(Ns(e),t=e):t=new ah(e);let r,i=pn(t),o=It(void 0);try{return n()}finally{pn(i),It(o)}}function Bv(){return Nv()!==void 0||dl()!=null}var Qt=0,z=1,U=2,Je=3,Ft=4,Lt=5,$s=6,fo=7,st=8,or=9,Ln=10,Se=11,ho=12,Lh=13,ti=14,jt=15,ni=16,ri=17,ii=18,sr=19,jh=20,Pn=21,wl=22,Hs=23,xt=24,oi=25,zs=26,ht=27,Uv=1;var ar=7,Ws=8,Gs=9,_t=10;function yn(e){return Array.isArray(e)&&typeof e[Uv]=="object"}function Xt(e){return Array.isArray(e)&&e[Uv]===!0}function Vh(e){return(e.flags&4)!==0}function cr(e){return e.componentOffset>-1}function qs(e){return(e.flags&1)===1}function vn(e){return!!e.template}function po(e){return(e[U]&512)!==0}function si(e){return(e[U]&256)===256}var $v="svg",Hv="math";function Vt(e){for(;Array.isArray(e);)e=e[Qt];return e}function Bh(e,n){return Vt(n[e])}function en(e,n){return Vt(n[e.index])}function Dl(e,n){return e.data[n]}function zv(e,n){return e[n]}function Bt(e,n){let t=n[e];return yn(t)?t:t[Qt]}function El(e){return(e[U]&128)===128}function Wv(e){return Xt(e[Je])}function ai(e,n){return n==null?null:e[n]}function Uh(e){e[ri]=0}function $h(e){e[U]&1024||(e[U]|=1024,El(e)&&go(e))}function Gv(e,n){for(;e>0;)n=n[ti],e--;return n}function Ks(e){return!!(e[U]&9216||e[xt]?.dirty)}function Cl(e){e[Ln].changeDetectionScheduler?.notify(8),e[U]&64&&(e[U]|=1024),Ks(e)&&go(e)}function go(e){e[Ln].changeDetectionScheduler?.notify(0);let n=tr(e);for(;n!==null&&!(n[U]&8192||(n[U]|=8192,!El(n)));)n=tr(n)}function Hh(e,n){if(si(e))throw new M(911,!1);e[Pn]===null&&(e[Pn]=[]),e[Pn].push(n)}function qv(e,n){if(e[Pn]===null)return;let t=e[Pn].indexOf(n);t!==-1&&e[Pn].splice(t,1)}function tr(e){let n=e[Je];return Xt(n)?n[Je]:n}function Kv(e){return e[fo]??=[]}function Yv(e){return e.cleanup??=[]}var Y={lFrame:lb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var dh=!1;function Jv(){return Y.lFrame.elementDepthCount}function Zv(){Y.lFrame.elementDepthCount++}function zh(){Y.lFrame.elementDepthCount--}function Wh(){return Y.bindingsEnabled}function Qv(){return Y.skipHydrationRootTNode!==null}function Gh(e){return Y.skipHydrationRootTNode===e}function qh(){Y.skipHydrationRootTNode=null}function pe(){return Y.lFrame.lView}function Mt(){return Y.lFrame.tView}function ie(e){return Y.lFrame.contextLView=e,e[st]}function oe(e){return Y.lFrame.contextLView=null,e}function pt(){let e=Kh();for(;e!==null&&e.type===64;)e=e.parent;return e}function Kh(){return Y.lFrame.currentTNode}function Xv(){let e=Y.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function mo(e,n){let t=Y.lFrame;t.currentTNode=e,t.isParent=n}function Yh(){return Y.lFrame.isParent}function eb(){Y.lFrame.isParent=!1}function tb(){return Y.lFrame.contextLView}function Jh(){return dh}function Zh(e){let n=dh;return dh=e,n}function nb(){return Y.lFrame.bindingIndex}function rb(e){return Y.lFrame.bindingIndex=e}function Ys(){return Y.lFrame.bindingIndex++}function Qh(e){let n=Y.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function ib(){return Y.lFrame.inI18n}function ob(e,n){let t=Y.lFrame;t.bindingIndex=t.bindingRootIndex=e,Sl(n)}function sb(){return Y.lFrame.currentDirectiveIndex}function Sl(e){Y.lFrame.currentDirectiveIndex=e}function ab(e){let n=Y.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function Xh(e){Y.lFrame.currentQueryIndex=e}function GI(e){let n=e[z];return n.type===2?n.declTNode:n.type===1?e[Lt]:null}function ep(e,n,t){if(t&4){let i=n,o=e;for(;i=i.parent,i===null&&!(t&1);)if(i=GI(o),i===null||(o=o[ti],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=Y.lFrame=cb();return r.currentTNode=n,r.lView=e,!0}function Il(e){let n=cb(),t=e[z];Y.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function cb(){let e=Y.lFrame,n=e===null?null:e.child;return n===null?lb(e):n}function lb(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function ub(){let e=Y.lFrame;return Y.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var tp=ub;function Tl(){let e=ub();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function db(e){return(Y.lFrame.contextLView=Gv(e,Y.lFrame.contextLView))[st]}function lr(){return Y.lFrame.selectedIndex}function ur(e){Y.lFrame.selectedIndex=e}function xl(){let e=Y.lFrame;return Dl(e.tView,e.selectedIndex)}function fb(){return Y.lFrame.currentNamespace}var hb=!0;function Ml(){return hb}function Al(e){hb=e}function fh(e,n=null,t=null,r){let i=np(e,n,t,r);return i.resolveInjectorInitializers(),i}function np(e,n=null,t=null,r,i=new Set){let o=[t||Tt,Fv(e)];return r=r||(typeof e=="object"?void 0:Fn(e)),new Zr(o,n||Us(),r||null,i)}var Pt=class e{static THROW_IF_NOT_FOUND=qr;static NULL=new Ps;static create(n,t){if(Array.isArray(n))return fh({name:""},t,n,"");{let r=n.name??"";return fh({name:r},n.parent,n.providers,r)}}static \u0275prov=O({token:e,providedIn:"any",factory:()=>j(kh)});static __NG_ELEMENT_ID__=-1},Ne=new N(""),bn=(()=>{class e{static __NG_ELEMENT_ID__=qI;static __NG_ENV_ID__=t=>t}return e})(),hh=class extends bn{_lView;constructor(n){super(),this._lView=n}get destroyed(){return si(this._lView)}onDestroy(n){let t=this._lView;return Hh(t,n),()=>qv(t,n)}};function qI(){return new hh(pe())}var pb=!1,jn=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ke(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ee(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=O({token:e,providedIn:"root",factory:()=>new e})}return e})(),ph=class extends Be{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Bv()&&(this.destroyRef=S(bn,{optional:!0})??void 0,this.pendingTasks=S(jn,{optional:!0})??void 0)}emit(n){let t=G(null);try{super.next(n)}finally{G(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&typeof n=="object"){let c=n;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof qe&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Re=ph;function gl(...e){}function rp(e){let n,t;function r(){e=gl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function ip(e){return queueMicrotask(()=>e()),()=>{e=gl}}var op="isAngularZone",Fs=op+"_ID",KI=0,ft=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Re(!1);onMicrotaskEmpty=new Re(!1);onStable=new Re(!1);onError=new Re(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=pb}=n;if(typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,ZI(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(op)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new M(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,YI,gl,gl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},YI={};function sp(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function JI(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){rp(()=>{e.callbackScheduled=!1,gh(e),e.isCheckStableRunning=!0,sp(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),gh(e)}function ZI(e){let n=()=>{JI(e)},t=KI++;e._inner=e._inner.fork({name:"angular",properties:{[op]:!0,[Fs]:t,[Fs+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(QI(c))return r.invokeTask(o,s,a,c);try{return Iv(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),Tv(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Iv(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!XI(c)&&n(),Tv(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,gh(e),sp(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function gh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Iv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Tv(e){e._nesting--,sp(e)}var Ls=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Re;onMicrotaskEmpty=new Re;onStable=new Re;onError=new Re;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function QI(e){return gb(e,"__ignore_ng_zone__")}function XI(e){return gb(e,"__scheduler_tick__")}function gb(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var gn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},tn=new N("",{factory:()=>{let e=S(ft),n=S(ke),t;return r=>{e.runOutsideAngular(()=>{n.destroyed&&!t?setTimeout(()=>{throw r}):(t??=n.get(gn),t.handleError(r))})}}}),mb={provide:uo,useValue:()=>{let e=S(gn,{optional:!0})},multi:!0};function nn(e,n){let[t,r,i]=$f(e,n?.equal),o=t,s=o[lt];return o.set=r,o.update=i,o.asReadonly=yb.bind(o),o}function yb(){let e=this[lt];if(e.readonlyFn===void 0){let n=()=>this();n[lt]=e,e.readonlyFn=n}return e.readonlyFn}var Rl=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=eT}return e})();function eT(){return new Rl(pe(),pt())}var nr=class{},Js=new N("",{factory:()=>!0});var ap=new N(""),kl=(()=>{class e{internalPendingTasks=S(jn);scheduler=S(nr);errorHandler=S(tn);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=O({token:e,providedIn:"root",factory:()=>new e})}return e})(),cp=(()=>{class e{static \u0275prov=O({token:e,providedIn:"root",factory:()=>new mh})}return e})(),mh=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[t,r]of this.queues)t===null?n||=this.flushQueue(r):n||=t.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let t=!1;for(let r of n)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},yh=class{[lt];constructor(n){this[lt]=n}destroy(){this[lt].destroy()}};function Ue(e){return Hf(e)}function na(e){return{toString:e}.toString()}function lT(e){return typeof e=="function"}function qb(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var Ll=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},pi=(()=>{let e=()=>Kb;return e.ngInherit=!0,e})();function Kb(e){return e.type.prototype.ngOnChanges&&(e.setInput=dT),uT}function uT(){let e=Jb(this),n=e?.current;if(n){let t=e.previous;if(t===ir)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function dT(e,n,t,r,i){let o=this.declaredInputs[r],s=Jb(e)||fT(e,{previous:ir,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Ll(l&&l.currentValue,t,c===ir),qb(e,n,i,t)}var Yb="__ngSimpleChanges__";function Jb(e){return e[Yb]||null}function fT(e,n){return e[Yb]=n}var vb=[];var ue=function(e,n=null,t){for(let r=0;r<vb.length;r++){let i=vb[r];i(e,n,t)}},te=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(te||{});function hT(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=Kb(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function Zb(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),l&&((e.viewHooks??=[]).push(t,l),(e.viewCheckHooks??=[]).push(t,l)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function Ol(e,n,t){Qb(e,n,3,t)}function Pl(e,n,t,r){(e[U]&3)===t&&Qb(e,n,t,r)}function lp(e,n){let t=e[U];(t&3)===n&&(t&=16383,t+=1,e[U]=t)}function Qb(e,n,t,r){let i=r!==void 0?e[ri]&65535:0,o=r??-1,s=n.length-1,a=0;for(let c=i;c<s;c++)if(typeof n[c+1]=="number"){if(a=n[c],r!=null&&a>=r)break}else n[c]<0&&(e[ri]+=65536),(a<o||o==-1)&&(pT(e,t,n,c),e[ri]=(e[ri]&4294901760)+c+2),c++}function bb(e,n){ue(te.LifecycleHookStart,e,n);let t=G(null);try{n.call(e)}finally{G(t),ue(te.LifecycleHookEnd,e,n)}}function pT(e,n,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=e[s];i?e[U]>>14<e[ri]>>16&&(e[U]&3)===n&&(e[U]+=16384,bb(a,o)):bb(a,o)}var vo=-1,li=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r,i){this.factory=n,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function gT(e){return(e.flags&8)!==0}function mT(e){return(e.flags&16)!==0}function yT(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{let o=i,s=t[++r];bT(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function vT(e){return e===3||e===4||e===6}function bT(e){return e.charCodeAt(0)===64}function bo(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?_b(e,t,i,null,n[++r]):_b(e,t,i,null,null))}}return e}function _b(e,n,t,r,i){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),i!==null&&e.splice(o++,0,i)}function Xb(e){return e!==vo}function jl(e){return e&32767}function _T(e){return e>>16}function Vl(e,n){let t=_T(e),r=n;for(;t>0;)r=r[ti],t--;return r}var bp=!0;function wb(e){let n=bp;return bp=e,n}var wT=256,e_=wT-1,t_=5,DT=0,_n={};function ET(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Xr)&&(r=t[Xr]),r==null&&(r=t[Xr]=DT++);let i=r&e_,o=1<<i;n.data[e+(i>>t_)]|=o}function Bl(e,n){let t=n_(e,n);if(t!==-1)return t;let r=n[z];r.firstCreatePass&&(e.injectorIndex=n.length,up(r.data,e),up(n,null),up(r.blueprint,null));let i=Pp(e,n),o=e.injectorIndex;if(Xb(i)){let s=jl(i),a=Vl(i,n),c=a[z].data;for(let l=0;l<8;l++)n[o+l]=a[s+l]|c[s+l]}return n[o+8]=i,o}function up(e,n){e.push(0,0,0,0,0,0,0,0,n)}function n_(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Pp(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=a_(i),r===null)return vo;if(t++,i=i[ti],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return vo}function _p(e,n,t){ET(e,n,t)}function r_(e,n,t){if(t&8||e!==void 0)return e;vl(n,"NodeInjector")}function i_(e,n,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=e[or],o=It(void 0);try{return i?i.get(n,r,t&8):Ah(n,r,t&8)}finally{It(o)}}return r_(r,n,t)}function o_(e,n,t,r=0,i){if(e!==null){if(n[U]&2048&&!(r&2)){let s=xT(e,n,t,r,_n);if(s!==_n)return s}let o=s_(e,n,t,r,_n);if(o!==_n)return o}return i_(n,t,r,i)}function s_(e,n,t,r,i){let o=IT(t);if(typeof o=="function"){if(!ep(n,e,r))return r&1?r_(i,t,r):i_(n,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))vl(t);else return s}finally{tp()}}else if(typeof o=="number"){let s=null,a=n_(e,n),c=vo,l=r&1?n[jt][Lt]:null;for((a===-1||r&4)&&(c=a===-1?Pp(e,n):n[a+8],c===vo||!Eb(r,!1)?a=-1:(s=n[z],a=jl(c),n=Vl(c,n)));a!==-1;){let u=n[z];if(Db(o,a,u.data)){let d=CT(a,n,t,s,r,l);if(d!==_n)return d}c=n[a+8],c!==vo&&Eb(r,n[z].data[a+8]===l)&&Db(o,a,n)?(s=u,a=jl(c),n=Vl(c,n)):a=-1}}return i}function CT(e,n,t,r,i,o){let s=n[z],a=s.data[e+8],c=r==null?cr(a)&&bp:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=ST(a,s,t,c,l);return u!==null?Ul(n,s,u,a,i):_n}function ST(e,n,t,r,i){let o=e.providerIndexes,s=n.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:l;for(let f=d;f<h;f++){let p=s[f];if(f<c&&t===p||f>=c&&p.type===t)return f}if(i){let f=s[c];if(f&&vn(f)&&f.type===t)return c}return null}function Ul(e,n,t,r,i){let o=e[t],s=n.data;if(o instanceof li){let a=o;if(a.resolving){let f=Av(s[t]);throw Mh(f)}let c=wb(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],u,d=a.injectImpl?It(a.injectImpl):null,h=ep(e,r,0);try{o=e[t]=a.factory(void 0,i,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&hT(t,s[t],n)}finally{d!==null&&It(d),wb(c),a.resolving=!1,tp()}}return o}function IT(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(Xr)?e[Xr]:void 0;return typeof n=="number"?n>=0?n&e_:TT:n}function Db(e,n,t){let r=1<<e;return!!(t[n+(e>>t_)]&r)}function Eb(e,n){return!(e&2)&&!(e&1&&n)}var ci=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return o_(this._tNode,this._lView,n,Kr(r),t)}};function TT(){return new ci(pt(),pe())}function Ut(e){return na(()=>{let n=e.prototype.constructor,t=n[Os]||wp(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Os]||wp(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function wp(e){return _h(e)?()=>{let n=wp(Ye(e));return n&&n()}:Yr(e)}function xT(e,n,t,r,i){let o=e,s=n;for(;o!==null&&s!==null&&s[U]&2048&&!po(s);){let a=s_(o,s,t,r|2,_n);if(a!==_n)return a;let c=o.parent;if(!c){let l=s[jh];if(l){let u=l.get(t,_n,r);if(u!==_n)return u}c=a_(s),s=s[ti]}o=c}return i}function a_(e){let n=e[z],t=n.type;return t===2?n.declTNode:t===1?e[Lt]:null}function MT(){return Zl(pt(),pe())}function Zl(e,n){return new fr(en(e,n))}var fr=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=MT}return e})();function c_(e){return(e.flags&128)===128}var Fp=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(Fp||{}),l_=new Map,AT=0;function RT(){return AT++}function kT(e){l_.set(e[sr],e)}function Dp(e){l_.delete(e[sr])}var Cb="__ngContext__";function _o(e,n){yn(n)?(e[Cb]=n[sr],kT(n)):e[Cb]=n}function u_(e){return f_(e[ho])}function d_(e){return f_(e[Ft])}function f_(e){for(;e!==null&&!Xt(e);)e=e[Ft];return e}var NT;function Lp(e){NT=e}var Ql=new N("",{factory:()=>OT}),OT="ng";var Xl=new N(""),ra=new N("",{providedIn:"platform",factory:()=>"unknown"});var eu=new N("",{factory:()=>S(Ne).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var h_=!1,p_=new N("",{factory:()=>h_});var PT=(e,n,t,r)=>{};function FT(e,n,t,r){PT(e,n,t,r)}function jp(e){return(e.flags&32)===32}var LT=()=>null;function g_(e,n,t=!1){return LT(e,n,t)}function m_(e,n){let t=e.contentQueries;if(t!==null){let r=G(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];Xh(o),a.contentQueries(2,n[s],s)}}}finally{G(r)}}}function Ep(e,n,t){Xh(0);let r=G(null);try{n(e,t)}finally{G(r)}}function y_(e,n,t){if(Vh(n)){let r=G(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{G(r)}}}var on=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(on||{});var Cp=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vh})`}};function v_(e){return e instanceof Cp?e.changingThisBreaksApplicationSecurity:e}function jT(e,n){return e.createText(n)}function VT(e,n,t){e.setValue(n,t)}function b_(e,n,t){return e.createElement(n,t)}function $l(e,n,t,r,i){e.insertBefore(n,t,r,i)}function __(e,n,t){e.appendChild(n,t)}function Sb(e,n,t,r,i){r!==null?$l(e,n,t,r,i):__(e,n,t)}function BT(e,n,t,r){e.removeChild(null,n,t,r)}function UT(e,n,t){e.setAttribute(n,"style",t)}function $T(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function w_(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&yT(e,n,r),i!==null&&$T(e,n,i),o!==null&&UT(e,n,o)}function D_(e){return e instanceof Function?e():e}function HT(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}var E_="ng-template";function zT(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&HT(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Vp(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Vp(e){return e.type===4&&e.value!==E_}function WT(e,n,t){let r=e.type===4&&!t?E_:e.value;return n===r}function GT(e,n,t){let r=4,i=e.attrs,o=i!==null?YT(i):0,s=!1;for(let a=0;a<n.length;a++){let c=n[a];if(typeof c=="number"){if(!s&&!rn(r)&&!rn(c))return!1;if(s&&rn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!WT(e,c,t)||c===""&&n.length===1){if(rn(r))return!1;s=!0}}else if(r&8){if(i===null||!zT(e,i,c,t)){if(rn(r))return!1;s=!0}}else{let l=n[++a],u=qT(c,i,Vp(e),t);if(u===-1){if(rn(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(rn(r))return!1;s=!0}}}}return rn(r)||s}function rn(e){return(e&1)===0}function qT(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let s=n[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return JT(n,e)}function KT(e,n,t=!1){for(let r=0;r<n.length;r++)if(GT(e,n[r],t))return!0;return!1}function YT(e){for(let n=0;n<e.length;n++){let t=e[n];if(vT(t))return n}return e.length}function JT(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function Ib(e,n){return e?":not("+n.trim()+")":n}function ZT(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!rn(s)&&(n+=Ib(o,i),i=""),r=s,o=o||!rn(r);t++}return i!==""&&(n+=Ib(o,i)),n}function QT(e){return e.map(ZT).join(",")}function XT(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!rn(i))break;i=o}r++}return t.length&&n.push(1,...t),n}var Dn={};function Bp(e,n,t,r,i,o,s,a,c,l,u){let d=ht+r,h=d+i,f=ex(d,h),p=typeof l=="function"?l():l;return f[z]={type:e,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function ex(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:Dn);return t}function tx(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Bp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Up(e,n,t,r,i,o,s,a,c,l,u){let d=n.blueprint.slice();return d[Qt]=i,d[U]=r|4|128|8|64|1024,(l!==null||e&&e[U]&2048)&&(d[U]|=2048),Uh(d),d[Je]=d[ti]=e,d[st]=t,d[Ln]=s||e&&e[Ln],d[Se]=a||e&&e[Se],d[or]=c||e&&e[or]||null,d[Lt]=o,d[sr]=RT(),d[$s]=u,d[jh]=l,d[jt]=n.type==2?e[jt]:d,d}function nx(e,n,t){let r=en(n,e),i=tx(t),o=e[Ln].rendererFactory,s=$p(e,Up(e,i,null,C_(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=s}function C_(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function S_(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function $p(e,n){return e[ho]?e[Lh][Ft]=n:e[ho]=n,e[Lh]=n,n}function J(e=1){I_(Mt(),pe(),lr()+e,!1)}function I_(e,n,t,r){if(!r)if((n[U]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Ol(n,o,t)}else{let o=e.preOrderHooks;o!==null&&Pl(n,o,0,t)}ur(t)}var tu=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(tu||{});function Sp(e,n,t,r){let i=G(null);try{let[o,s,a]=e.inputs[t],c=null;(s&tu.SignalBased)!==0&&(c=n[o][lt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(n,r)),e.setInput!==null?e.setInput(n,c,r,t,o):qb(n,c,o,r)}finally{G(i)}}var wn=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(wn||{}),rx;function Hp(e,n){return rx(e,n)}var wo=new Set,nu=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(nu||{}),Vn=new N(""),Tb=new Set;function ru(e){Tb.has(e)||(Tb.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var zp=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=O({token:e,providedIn:"root",factory:()=>new e})}return e})(),T_=[0,1,2,3],x_=(()=>{class e{ngZone=S(ft);scheduler=S(nr);errorHandler=S(gn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){S(Vn,{optional:!0})}execute(){let t=this.sequences.size>0;t&&ue(te.AfterRenderHooksStart),this.executing=!0;for(let r of T_)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&ue(te.AfterRenderHooksEnd)}register(t){let{view:r}=t;r!==void 0?((r[oi]??=[]).push(t),go(r),r[U]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(nu.AFTER_NEXT_RENDER,t):t()}static \u0275prov=O({token:e,providedIn:"root",factory:()=>new e})}return e})(),Hl=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,i,o,s=null){this.impl=n,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[oi];n&&(this.view[oi]=n.filter(t=>t!==this))}};function iu(e,n){let t=n?.injector??S(Pt);return ru("NgAfterNextRender"),ox(e,t,n,!0)}function ix(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function ox(e,n,t,r){let i=n.get(zp);i.impl??=n.get(x_);let o=n.get(Vn,null,{optional:!0}),s=t?.manualCleanup!==!0?n.get(bn):null,a=n.get(Rl,null,{optional:!0}),c=new Hl(i.impl,ix(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var sx=new N("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:S(ke)})});function M_(e,n,t){let r=e.get(sx);if(Array.isArray(n))for(let i of n)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(n),t?.detachedLeaveAnimationFns?.push(n);r.scheduler&&r.scheduler(e)}function ax(e,n){for(let[t,r]of n)M_(e,r.animateFns)}function xb(e,n,t,r){let i=e?.[zs]?.enter;n!==null&&i&&i.has(t.index)&&ax(r,i)}function yo(e,n,t,r,i,o,s,a){if(i!=null){let c,l=!1;Xt(i)?c=i:yn(i)&&(l=!0,i=i[Qt]);let u=Vt(i);e===0&&r!==null?(xb(a,r,o,t),s==null?__(n,r,u):$l(n,r,u,s||null,!0)):e===1&&r!==null?(xb(a,r,o,t),$l(n,r,u,s||null,!0)):e===2?Mb(a,o,t,d=>{BT(n,u,l,d)}):e===3&&Mb(a,o,t,()=>{n.destroyNode(u)}),c!=null&&_x(n,e,t,c,o,r,s)}}function cx(e,n){A_(e,n),n[Qt]=null,n[Lt]=null}function lx(e,n,t,r,i,o){r[Qt]=i,r[Lt]=n,ou(e,r,t,1,i,o)}function A_(e,n){n[Ln].changeDetectionScheduler?.notify(9),ou(e,n,n[Se],2,null,null)}function ux(e){let n=e[ho];if(!n)return dp(e[z],e);for(;n;){let t=null;if(yn(n))t=n[ho];else{let r=n[_t];r&&(t=r)}if(!t){for(;n&&!n[Ft]&&n!==e;)yn(n)&&dp(n[z],n),n=n[Je];n===null&&(n=e),yn(n)&&dp(n[z],n),t=n&&n[Ft]}n=t}}function Wp(e,n){let t=e[Gs],r=t.indexOf(n);t.splice(r,1)}function R_(e,n){if(si(n))return;let t=n[Se];t.destroyNode&&ou(e,n,t,3,null,null),ux(n)}function dp(e,n){if(si(n))return;let t=G(null);try{n[U]&=-129,n[U]|=256,n[xt]&&Ss(n[xt]),hx(e,n),fx(e,n),n[z].type===1&&n[Se].destroy();let r=n[ni];if(r!==null&&Xt(n[Je])){r!==n[Je]&&Wp(r,n);let i=n[ii];i!==null&&i.detachView(e)}Dp(n)}finally{G(t)}}function Mb(e,n,t,r){let i=e?.[zs];if(i==null||i.leave==null||!i.leave.has(n.index))return r(!1);e&&wo.add(e[sr]),M_(t,()=>{if(i.leave&&i.leave.has(n.index)){let s=i.leave.get(n.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),dx(e,r)}else e&&wo.delete(e[sr]),r(!1)},i)}function dx(e,n){let t=e[zs]?.running;if(t){t.then(()=>{e[zs].running=void 0,wo.delete(e[sr]),n(!0)});return}n(!1)}function fx(e,n){let t=e.cleanup,r=n[fo];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[fo]=null);let i=n[Pn];if(i!==null){n[Pn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[Hs];if(o!==null){n[Hs]=null;for(let s of o)s.destroy()}}function hx(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof li)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ue(te.LifecycleHookStart,a,c);try{c.call(a)}finally{ue(te.LifecycleHookEnd,a,c)}}else{ue(te.LifecycleHookStart,i,o);try{o.call(i)}finally{ue(te.LifecycleHookEnd,i,o)}}}}}function px(e,n,t){return gx(e,n.parent,t)}function gx(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[Qt];if(cr(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===on.None||i===on.Emulated)return null}return en(r,t)}function mx(e,n,t){return vx(e,n,t)}function yx(e,n,t){return e.type&40?en(e,t):null}var vx=yx,Ab;function Gp(e,n,t,r){let i=px(e,r,n),o=n[Se],s=r.parent||n[Lt],a=mx(s,r,n);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Sb(o,i,t[c],a,!1);else Sb(o,i,t,a,!1);Ab!==void 0&&Ab(o,r,n,t,i)}function Zs(e,n){if(n!==null){let t=n.type;if(t&3)return en(n,e);if(t&4)return Ip(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return Zs(e,r);{let i=e[n.index];return Xt(i)?Ip(-1,i):Vt(i)}}else{if(t&128)return Zs(e,n.next);if(t&32)return Hp(n,e)()||Vt(e[n.index]);{let r=k_(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=tr(e[jt]);return Zs(i,r)}else return Zs(e,n.next)}}}return null}function k_(e,n){if(n!==null){let r=e[jt][Lt],i=n.projection;return r.projection[i]}return null}function Ip(e,n){let t=_t+e+1;if(t<n.length){let r=n[t],i=r[z].firstChild;if(i!==null)return Zs(r,i)}return n[ar]}function qp(e,n,t,r,i,o,s){for(;t!=null;){let a=r[or];if(t.type===128){t=t.next;continue}let c=r[t.index],l=t.type;if(s&&n===0&&(c&&_o(Vt(c),r),t.flags|=2),!jp(t))if(l&8)qp(e,n,t.child,r,i,o,!1),yo(n,e,a,i,c,t,o,r);else if(l&32){let u=Hp(t,r),d;for(;d=u();)yo(n,e,a,i,d,t,o,r);yo(n,e,a,i,c,t,o,r)}else l&16?bx(e,n,r,t,i,o):yo(n,e,a,i,c,t,o,r);t=s?t.projectionNext:t.next}}function ou(e,n,t,r,i,o){qp(t,r,e.firstChild,n,i,o,!1)}function bx(e,n,t,r,i,o){let s=t[jt],c=s[Lt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];yo(n,e,t[or],i,u,r,o,t)}else{let l=c,u=s[Je];c_(r)&&(l.flags|=128),qp(e,n,l,u,i,o,!0)}}function _x(e,n,t,r,i,o,s){let a=r[ar],c=Vt(r);a!==c&&yo(n,e,t,o,a,i,s);for(let l=_t;l<r.length;l++){let u=r[l];ou(u[z],u,e,n,o,a)}}function wx(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:wn.DashCase;i==null?e.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=wn.Important),e.setStyle(t,r,i,o))}}function N_(e,n,t,r,i){let o=lr(),s=r&2;try{ur(-1),s&&n.length>ht&&I_(e,n,ht,!1);let a=s?te.TemplateUpdateStart:te.TemplateCreateStart;ue(a,i,t),t(r,i)}finally{ur(o);let a=s?te.TemplateUpdateEnd:te.TemplateCreateEnd;ue(a,i,t)}}function Kp(e,n,t){xx(e,n,t),(t.flags&64)===64&&Mx(e,n,t)}function Yp(e,n,t=en){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(n,e):e[s];e[i++]=a}}}function Dx(e,n,t,r){let o=r.get(p_,h_)||t===on.ShadowDom||t===on.ExperimentalIsolatedShadowDom,s=e.selectRootElement(n,o);return Ex(s),s}function Ex(e){Cx(e)}var Cx=()=>null;function Sx(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function O_(e,n,t,r,i,o){let s=n[z];if(Jp(e,s,n,t,r)){cr(e)&&Tx(n,e.index);return}e.type&3&&(t=Sx(t)),Ix(e,n,t,r,i,o)}function Ix(e,n,t,r,i,o){if(e.type&3){let s=en(e,n);r=o!=null?o(r,e.value||"",t):r,i.setProperty(s,t,r)}else e.type&12}function Tx(e,n){let t=Bt(n,e);t[U]&16||(t[U]|=64)}function xx(e,n,t){let r=t.directiveStart,i=t.directiveEnd;cr(t)&&nx(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||Bl(t,n);let o=t.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=Ul(n,e,s,t);if(_o(c,n),o!==null&&Nx(n,s-r,c,a,t,o),vn(a)){let l=Bt(t.index,n);l[st]=Ul(n,e,s,t)}}}function Mx(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=sb();try{ur(o);for(let a=r;a<i;a++){let c=e.data[a],l=n[a];Sl(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Ax(c,l)}}finally{ur(-1),Sl(s)}}function Ax(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function P_(e,n){let t=e.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];KT(n,o.selectors,!1)&&(r??=[],vn(o)?r.unshift(o):r.push(o))}return r}function Rx(e,n,t,r,i,o){let s=en(e,n);kx(n[Se],s,o,e.value,t,r,i)}function kx(e,n,t,r,i,o,s){if(o==null)e.removeAttribute(n,i,t);else{let a=s==null?co(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}function Nx(e,n,t,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Sp(r,t,c,l)}}function F_(e,n,t,r,i){let o=ht+t,s=n[z],a=i(s,n,e,r,t);n[o]=a,mo(e,!0);let c=e.type===2;return c?(w_(n[Se],a,e),(Jv()===0||qs(e))&&_o(a,n),Zv()):_o(a,n),Ml()&&(!c||!jp(e))&&Gp(s,n,a,e),e}function L_(e){let n=e;return Yh()?eb():(n=n.parent,mo(n,!1)),n}function Ox(e,n){let t=e[or];if(!t)return;let r;try{r=t.get(tn,null)}catch{r=null}r?.(n)}function Jp(e,n,t,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=n.data[l];Sp(d,t[l],u,i),a=!0}if(o)for(let c of o){let l=t[c],u=n.data[c];Sp(u,l,r,i),a=!0}return a}function Px(e,n){let t=Bt(n,e),r=t[z];Fx(r,t);let i=t[Qt];i!==null&&t[$s]===null&&(t[$s]=g_(i,t[or])),ue(te.ComponentStart);try{Zp(r,t,t[st])}finally{ue(te.ComponentEnd,t[st])}}function Fx(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Zp(e,n,t){Il(n);try{let r=e.viewQuery;r!==null&&Ep(1,r,t);let i=e.template;i!==null&&N_(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[ii]?.finishViewCreation(e),e.staticContentQueries&&m_(e,n),e.staticViewQueries&&Ep(2,e.viewQuery,t);let o=e.components;o!==null&&Lx(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[U]&=-5,Tl()}}function Lx(e,n){for(let t=0;t<n.length;t++)Px(e,n[t])}function jx(e,n,t,r){let i=G(null);try{let o=n.tView,a=e[U]&4096?4096:16,c=Up(e,o,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[n.index];c[ni]=l;let u=e[ii];return u!==null&&(c[ii]=u.createEmbeddedView(o)),Zp(o,c,t),c}finally{G(i)}}function Rb(e,n){return!n||n.firstChild===null||c_(e)}function Xs(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(Vt(o)),Xt(o)&&j_(o,r);let s=t.type;if(s&8)Xs(e,n,t.child,r);else if(s&32){let a=Hp(t,n),c;for(;c=a();)r.push(c)}else if(s&16){let a=k_(n,t);if(Array.isArray(a))r.push(...a);else{let c=tr(n[jt]);Xs(c[z],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function j_(e,n){for(let t=_t;t<e.length;t++){let r=e[t],i=r[z].firstChild;i!==null&&Xs(r[z],r,i,n)}e[ar]!==e[Qt]&&n.push(e[ar])}function V_(e){if(e[oi]!==null){for(let n of e[oi])n.impl.addSequence(n);e[oi].length=0}}var B_=[];function Vx(e){return e[xt]??Bx(e)}function Bx(e){let n=B_.pop()??Object.create($x);return n.lView=e,n}function Ux(e){e.lView[xt]!==e&&(e.lView=null,B_.push(e))}var $x=q(I({},Ds),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{go(e.lView)},consumerOnSignalRead(){this.lView[xt]=this}});function Hx(e){let n=e[xt]??Object.create(zx);return n.lView=e,n}var zx=q(I({},Ds),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=tr(e.lView);for(;n&&!U_(n[z]);)n=tr(n);n&&$h(n)},consumerOnSignalRead(){this.lView[xt]=this}});function U_(e){return e.type!==2}function $_(e){if(e[Hs]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[Hs])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[U]&8192)}}var Wx=100;function H_(e,n=0){let r=e[Ln].rendererFactory,i=!1;i||r.begin?.();try{Gx(e,n)}finally{i||r.end?.()}}function Gx(e,n){let t=Jh();try{Zh(!0),Tp(e,n);let r=0;for(;Ks(e);){if(r===Wx)throw new M(103,!1);r++,Tp(e,1)}}finally{Zh(t)}}function qx(e,n,t,r){if(si(n))return;let i=n[U],o=!1,s=!1;Il(n);let a=!0,c=null,l=null;o||(U_(e)?(l=Vx(n),c=Cs(l)):Fc()===null?(a=!1,l=Hx(n),c=Cs(l)):n[xt]&&(Ss(n[xt]),n[xt]=null));try{Uh(n),rb(e.bindingStartIndex),t!==null&&N_(e,n,t,2,r);let u=(i&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&Ol(n,f,null)}else{let f=e.preOrderHooks;f!==null&&Pl(n,f,0,null),lp(n,0)}if(s||Kx(n),$_(n),z_(n,0),e.contentQueries!==null&&m_(e,n),!o)if(u){let f=e.contentCheckHooks;f!==null&&Ol(n,f)}else{let f=e.contentHooks;f!==null&&Pl(n,f,1),lp(n,1)}Jx(e,n);let d=e.components;d!==null&&G_(n,d,0);let h=e.viewQuery;if(h!==null&&Ep(2,h,r),!o)if(u){let f=e.viewCheckHooks;f!==null&&Ol(n,f)}else{let f=e.viewHooks;f!==null&&Pl(n,f,2),lp(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[wl]){for(let f of n[wl])f();n[wl]=null}o||(V_(n),n[U]&=-73)}catch(u){throw o||go(n),u}finally{l!==null&&(Lc(l,c),a&&Ux(l)),Tl()}}function z_(e,n){for(let t=u_(e);t!==null;t=d_(t))for(let r=_t;r<t.length;r++){let i=t[r];W_(i,n)}}function Kx(e){for(let n=u_(e);n!==null;n=d_(n)){if(!(n[U]&2))continue;let t=n[Gs];for(let r=0;r<t.length;r++){let i=t[r];$h(i)}}}function Yx(e,n,t){ue(te.ComponentStart);let r=Bt(n,e);try{W_(r,t)}finally{ue(te.ComponentEnd,r[st])}}function W_(e,n){El(e)&&Tp(e,n)}function Tp(e,n){let r=e[z],i=e[U],o=e[xt],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&jc(o)),s||=!1,o&&(o.dirty=!1),e[U]&=-9217,s)qx(r,e,r.template,e[st]);else if(i&8192){let a=G(null);try{$_(e),z_(e,1);let c=r.components;c!==null&&G_(e,c,1),V_(e)}finally{G(a)}}}function G_(e,n,t){for(let r=0;r<n.length;r++)Yx(e,n[r],t)}function Jx(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ur(~i);else{let o=i,s=t[++r],a=t[++r];ob(s,o);let c=n[o];ue(te.HostBindingsUpdateStart,c);try{a(2,c)}finally{ue(te.HostBindingsUpdateEnd,c)}}}}finally{ur(-1)}}function Qp(e,n){let t=Jh()?64:1088;for(e[Ln].changeDetectionScheduler?.notify(n);e;){e[U]|=t;let r=tr(e);if(po(e)&&!r)return e;e=r}return null}function q_(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function Zx(e,n,t,r=!0){let i=n[z];if(Qx(i,n,e,t),r){let s=Ip(t,e),a=n[Se],c=a.parentNode(e[ar]);c!==null&&lx(i,e[Lt],a,n,c,s)}let o=n[$s];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function xp(e,n){if(e.length<=_t)return;let t=_t+n,r=e[t];if(r){let i=r[ni];i!==null&&i!==e&&Wp(i,r),n>0&&(e[t-1][Ft]=r[Ft]);let o=Vs(e,_t+n);cx(r[z],r);let s=o[ii];s!==null&&s.detachView(o[z]),r[Je]=null,r[Ft]=null,r[U]&=-129}return r}function Qx(e,n,t,r){let i=_t+r,o=t.length;r>0&&(t[i-1][Ft]=n),r<o-_t?(n[Ft]=t[i],Rh(t,_t+r,n)):(t.push(n),n[Ft]=null),n[Je]=t;let s=n[ni];s!==null&&t!==s&&K_(s,n);let a=n[ii];a!==null&&a.insertView(e),Cl(n),n[U]|=128}function K_(e,n){let t=e[Gs],r=n[Je];if(yn(r))e[U]|=2;else{let i=r[Je][jt];n[jt]!==i&&(e[U]|=2)}t===null?e[Gs]=[n]:t.push(n)}var dr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,t=n[z];return Xs(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t}get context(){return this._lView[st]}set context(n){this._lView[st]=n}get destroyed(){return si(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Je];if(Xt(n)){let t=n[Ws],r=t?t.indexOf(this):-1;r>-1&&(xp(n,r),Vs(t,r))}this._attachedToViewContainer=!1}R_(this._lView[z],this._lView)}onDestroy(n){Hh(this._lView,n)}markForCheck(){Qp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[U]&=-129}reattach(){Cl(this._lView),this._lView[U]|=128}detectChanges(){this._lView[U]|=1024,H_(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=po(this._lView),t=this._lView[ni];t!==null&&!n&&Wp(t,this._lView),A_(this._lView[z],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=n;let t=po(this._lView),r=this._lView[ni];r!==null&&!t&&K_(r,this._lView),Cl(this._lView)}};var ia=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Xx;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=jx(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new dr(o)}}return e})();function Xx(){return eM(pt(),pe())}function eM(e,n){return e.type&4?new ia(n,e,Zl(e,n)):null}function su(e,n,t,r,i){let o=e.data[n];if(o===null)o=tM(e,n,t,r,i),ib()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Xv();o.injectorIndex=s===null?-1:s.injectorIndex}return mo(o,!0),o}function tM(e,n,t,r,i){let o=Kh(),s=Yh(),a=s?o:o&&o.parent,c=e.data[n]=rM(e,a,t,n,r,i);return nM(e,c,o,s),c}function nM(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function rM(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return Qv()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var iM=()=>null;function kb(e,n){return iM(e,n)}var Y_=class{},au=class{},Mp=class{resolveComponentFactory(n){throw new M(917,!1)}},oa=class{static NULL=new Mp},ui=class{},gi=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>oM()}return e})();function oM(){let e=pe(),n=pt(),t=Bt(n.index,e);return(yn(t)?t:e)[Se]}var J_=(()=>{class e{static \u0275prov=O({token:e,providedIn:"root",factory:()=>null})}return e})();var Fl={},Ap=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){let i=this.injector.get(n,Fl,r);return i!==Fl||t===Fl?i:this.parentInjector.get(n,t,r)}};function zl(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=bh(i,a);else if(o==2){let c=a,l=n[++s];r=bh(r,c+": "+l+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function V(e,n=0){let t=pe();if(t===null)return j(e,n);let r=pt();return o_(r,t,Ye(e),n)}function Z_(e,n,t,r,i){let o=r===null?null:{"":-1},s=i(e,t);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}cM(e,n,t,a,o,c,l)}o!==null&&r!==null&&sM(t,r,o)}function sM(e,n,t){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new M(-301,!1);r.push(n[i],o)}}function aM(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function cM(e,n,t,r,i,o,s){let a=r.length,c=null;for(let h=0;h<a;h++){let f=r[h];c===null&&vn(f)&&(c=f,aM(e,t,h)),_p(Bl(t,n),e,f.type)}pM(t,e.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=S_(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(t.mergedAttrs=bo(t.mergedAttrs,f.hostAttrs),uM(e,t,n,d,f),hM(d,f,i),s!==null&&s.has(f)){let[g,m]=s.get(f);t.directiveToIndex.set(f.type,[d,g+t.directiveStart,m+t.directiveStart])}else(o===null||!o.has(f))&&t.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let p=f.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),l=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}lM(e,t,o)}function lM(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=e.data[r];if(t===null||!t.has(i))Nb(0,n,i,r),Nb(1,n,i,r),Pb(n,r,!1);else{let o=t.get(i);Ob(0,n,o,r),Ob(1,n,o,r),Pb(n,r,!0)}}}function Nb(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),Q_(n,o)}}function Ob(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Q_(n,s)}}function Q_(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function Pb(e,n,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!t&&i===null||t&&o===null||Vp(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===n){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===n){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function uM(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=Yr(i.type,!0)),s=new li(o,vn(i),V,null);e.blueprint[r]=s,t[r]=s,dM(e,n,r,S_(e,t,i.hostVars,Dn),i)}function dM(e,n,t,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;fM(s)!=a&&s.push(a),s.push(t,r,o)}}function fM(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function hM(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;vn(n)&&(t[""]=e)}}function pM(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function X_(e,n,t,r,i,o,s,a){let c=n[z],l=c.consts,u=ai(l,s),d=su(c,e,t,r,u);return o&&Z_(c,n,d,ai(l,a),i),d.mergedAttrs=bo(d.mergedAttrs,d.attrs),d.attrs!==null&&zl(d,d.attrs,!1),d.mergedAttrs!==null&&zl(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function ew(e,n){Zb(e,n),Vh(n)&&e.queries.elementEnd(n)}function gM(e,n,t,r,i,o){let s=n.consts,a=ai(s,i),c=su(n,e,t,r,a);if(c.mergedAttrs=bo(c.mergedAttrs,c.attrs),o!=null){let l=ai(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&zl(c,c.attrs,!1),c.mergedAttrs!==null&&zl(c,c.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,c),c}function Xp(e){return nw(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function tw(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),r;for(;!(r=t.next()).done;)n(r.value)}}function nw(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function di(e,n,t){if(t===Dn)return!1;let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function mM(e,n,t,r){let i=di(e,n,t);return di(e,n+1,r)||i}function fp(e,n,t){return function r(i){let o=cr(e)?Bt(e.index,n):n;Qp(o,5);let s=n[st],a=Fb(n,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=Fb(n,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Fb(e,n,t,r){let i=G(null);try{return ue(te.OutputStart,n,t),t(r)!==!1}catch(o){return Ox(e,o),!1}finally{ue(te.OutputEnd,n,t),G(i)}}function yM(e,n,t,r,i,o,s,a){let c=qs(e),l=!1,u=null;if(!r&&c&&(u=bM(n,t,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=en(e,t),h=r?r(d):d;FT(t,h,o,a);let f=i.listen(h,o,a);if(!vM(o)){let p=r?g=>r(Vt(g[e.index])):e.index;rw(p,n,t,o,a,f,!1)}}return l}function vM(e){return e.startsWith("animation")||e.startsWith("transition")}function bM(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=n[fo],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function rw(e,n,t,r,i,o,s){let a=n.firstCreatePass?Yv(n):null,c=Kv(t),l=c.length;c.push(i,o),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function Lb(e,n,t,r,i,o){let s=n[t],a=n[z],l=a.data[t].outputs[r],d=s[l].subscribe(o);rw(e.index,a,n,i,o,d,!0)}var Rp=Symbol("BINDING");var Wl=class extends oa{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=rr(n);return new Do(t,this.ngModule)}};function _M(e){return Object.keys(e).map(n=>{let[t,r,i]=e[n],o={propName:t,templateName:n,isSignal:(r&tu.SignalBased)!==0};return i&&(o.transform=i),o})}function wM(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function DM(e,n,t){let r=n instanceof ke?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Ap(t,r):t}function EM(e){let n=e.get(ui,null);if(n===null)throw new M(407,!1);let t=e.get(J_,null),r=e.get(nr,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function CM(e,n){let t=iw(e);return b_(n,t,t==="svg"?$v:t==="math"?Hv:null)}function iw(e){return(e.selectors[0][0]||"div").toLowerCase()}var Do=class extends au{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=_M(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=wM(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=QT(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,i,o,s){ue(te.DynamicComponentStart);let a=G(null);try{let c=this.componentDef,l=SM(r,c,s,o),u=DM(c,i||this.ngModule,n),d=EM(u),h=d.rendererFactory.createRenderer(null,c),f=r?Dx(h,r,c.encapsulation,u):CM(c,h),p=s?.some(jb)||o?.some(y=>typeof y!="function"&&y.bindings.some(jb)),g=Up(null,l,null,512|C_(c),null,null,d,h,u,null,g_(f,u,!0));g[ht]=f,Il(g);let m=null;try{let y=X_(ht,g,2,"#host",()=>l.directiveRegistry,!0,0);w_(h,f,y),_o(f,g),Kp(l,g,y),y_(l,y,g),ew(l,y),t!==void 0&&TM(y,this.ngContentSelectors,t),m=Bt(y.index,g),g[st]=m[st],Zp(l,g,null)}catch(y){throw m!==null&&Dp(m),Dp(g),y}finally{ue(te.DynamicComponentEnd),Tl()}return new Gl(this.componentType,g,!!p)}finally{G(a)}}};function SM(e,n,t,r){let i=e?["ng-version","21.0.8"]:XT(n.selectors[0]),o=null,s=null,a=0;if(t)for(let u of t)a+=u[Rp].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let h of d.bindings){a+=h[Rp].requiredVars;let f=u+1;h.create&&(h.targetIdx=f,(o??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[n];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,h=xh(d);c.push(h)}return Bp(0,null,IM(o,s),1,a,c,null,null,null,[i],null)}function IM(e,n){return!e&&!n?null:t=>{if(t&1&&e)for(let r of e)r.create();if(t&2&&n)for(let r of n)r.update()}}function jb(e){let n=e[Rp].kind;return n==="input"||n==="twoWay"}var Gl=class extends Y_{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Dl(t[z],ht),this.location=Zl(this._tNode,t),this.instance=Bt(this._tNode.index,t)[st],this.hostView=this.changeDetectorRef=new dr(t,void 0),this.componentType=n}setInput(n,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let i=this._rootLView,o=Jp(r,i[z],i,n,t);this.previousInputValues.set(n,t);let s=Bt(r.index,i);Qp(s,1)}get injector(){return new ci(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function TM(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var mi=(()=>{class e{static __NG_ELEMENT_ID__=xM}return e})();function xM(){let e=pt();return AM(e,pe())}var MM=mi,ow=class extends MM{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Zl(this._hostTNode,this._hostLView)}get injector(){return new ci(this._hostTNode,this._hostLView)}get parentInjector(){let n=Pp(this._hostTNode,this._hostLView);if(Xb(n)){let t=Vl(n,this._hostLView),r=jl(n),i=t[z].data[r+8];return new ci(i,t)}else return new ci(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=Vb(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-_t}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=kb(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Rb(this._hostTNode,s)),a}createComponent(n,t,r,i,o,s,a){let c=n&&!lT(n),l;if(c)l=t;else{let m=t||{};l=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef,s=m.directives,a=m.bindings}let u=c?n:new Do(rr(n)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let y=(c?d:this.parentInjector).get(ke,null);y&&(o=y)}let h=rr(u.componentType??{}),f=kb(this._lContainer,h?.id??null),p=f?.firstChild??null,g=u.create(d,i,p,o,s,a);return this.insertImpl(g.hostView,l,Rb(this._hostTNode,f)),g}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if(Wv(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let c=i[Je],l=new ow(c,c[Lt],c[Je]);l.detach(l.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return Zx(s,i,o,r),n.attachToViewContainerRef(),Rh(hp(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=Vb(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=xp(this._lContainer,t);r&&(Vs(hp(this._lContainer),t),R_(r[z],r))}detach(n){let t=this._adjustIndex(n,-1),r=xp(this._lContainer,t);return r&&Vs(hp(this._lContainer),t)!=null?new dr(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function Vb(e){return e[Ws]}function hp(e){return e[Ws]||(e[Ws]=[])}function AM(e,n){let t,r=n[e.index];return Xt(r)?t=r:(t=q_(r,n,null,e),n[e.index]=t,$p(n,t)),kM(t,n,e,r),new ow(t,e,n)}function RM(e,n){let t=e[Se],r=t.createComment(""),i=en(n,e),o=t.parentNode(i);return $l(t,o,r,t.nextSibling(i),!1),r}var kM=PM,NM=()=>!1;function OM(e,n,t){return NM(e,n,t)}function PM(e,n,t,r){if(e[ar])return;let i;t.type&8?i=Vt(r):i=RM(n,t),e[ar]=i}var fi=class{},cu=class{};var ql=class extends fi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Wl(this);constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t;let o=Th(n);this._bootstrapComponents=D_(o.bootstrap),this._r3Injector=np(n,t,[{provide:fi,useValue:this},{provide:oa,useValue:this.componentFactoryResolver},...r],Fn(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Kl=class extends cu{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new ql(this.moduleType,n,[])}};var ea=class extends fi{injector;componentFactoryResolver=new Wl(this);instance=null;constructor(n){super();let t=new Zr([...n.providers,{provide:fi,useValue:this},{provide:oa,useValue:this.componentFactoryResolver}],n.parent||Us(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function sa(e,n,t=null){return new ea({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var FM=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Oh(!1,t.type),i=r.length>0?sa([r],this._injector,""):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=O({token:e,providedIn:"environment",factory:()=>new e(j(ke))})}return e})();function Fe(e){return na(()=>{let n=sw(e),t=q(I({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Fp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(FM).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||on.Emulated,styles:e.styles||Tt,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&ru("NgStandalone"),aw(t);let r=e.dependencies;return t.directiveDefs=Bb(r,LM),t.pipeDefs=Bb(r,Mv),t.id=BM(t),t})}function LM(e){return rr(e)||xh(e)}function Bn(e){return na(()=>({type:e.type,bootstrap:e.bootstrap||Tt,declarations:e.declarations||Tt,imports:e.imports||Tt,exports:e.exports||Tt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function jM(e,n){if(e==null)return ir;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=tu.None,c=null),t[o]=[r,a,c],n[o]=s}return t}function VM(e){if(e==null)return ir;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function we(e){return na(()=>{let n=sw(e);return aw(n),n})}function sw(e){let n={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||ir,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Tt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:jM(e.inputs,n),outputs:VM(e.outputs),debugInfo:null}}function aw(e){e.features?.forEach(n=>n(e))}function Bb(e,n){return e?()=>{let t=typeof e=="function"?e():e,r=[];for(let i of t){let o=n(i);o!==null&&r.push(o)}return r}:null}function BM(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function UM(e){return Object.getPrototypeOf(e.prototype).constructor}function gt(e){let n=UM(e.type),t=!0,r=[e];for(;n;){let i;if(vn(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new M(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let s=e;s.inputs=pp(e.inputs),s.declaredInputs=pp(e.declaredInputs),s.outputs=pp(e.outputs);let a=i.hostBindings;a&&GM(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&zM(e,c),l&&WM(e,l),$M(e,i),xv(e.outputs,i.outputs),vn(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===gt&&(t=!1)}}n=Object.getPrototypeOf(n)}HM(r)}function $M(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function HM(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=bo(i.hostAttrs,t=bo(t,i.hostAttrs))}}function pp(e){return e===ir?{}:e===Tt?[]:e}function zM(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function WM(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,o)=>{n(r,i,o),t(r,i,o)}:e.contentQueries=n}function GM(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function qM(e,n,t,r,i,o,s,a){if(t.firstCreatePass){e.mergedAttrs=bo(e.mergedAttrs,e.attrs);let u=e.tView=Bp(2,e,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,e),u.queries=t.queries.embeddedTView(e))}a&&(e.flags|=a),mo(e,!1);let c=YM(t,n,e,r);Ml()&&Gp(t,n,c,e),_o(c,n);let l=q_(c,n,c,e);n[r+ht]=l,$p(n,l),OM(l,e,n)}function KM(e,n,t,r,i,o,s,a,c,l,u){let d=t+ht,h;return n.firstCreatePass?(h=su(n,d,4,s||null,a||null),Wh()&&Z_(n,e,h,ai(n.consts,l),P_),Zb(n,h)):h=n.data[d],qM(h,e,n,t,r,i,o,c),qs(h)&&Kp(n,e,h),l!=null&&Yp(e,h,u),h}function sn(e,n,t,r,i,o,s,a){let c=pe(),l=Mt(),u=ai(l.consts,o);return KM(c,l,e,n,t,r,i,u,void 0,s,a),sn}var YM=JM;function JM(e,n,t,r){return Al(!0),n[Se].createComment("")}var eg=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function cw(e){return typeof e=="function"&&e[lt]!==void 0}function tg(e){return cw(e)&&typeof e.set=="function"}var ng=new N("");function hr(e){return!!e&&typeof e.then=="function"}function rg(e){return!!e&&typeof e.subscribe=="function"}var lw=new N("");var ig=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=S(lw,{optional:!0})??[];injector=S(Pt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Ze(this.injector,i);if(hr(o))t.push(o);else if(rg(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lu=new N("");function uw(){Uf(()=>{let e="";throw new M(600,e)})}function dw(e){return e.isBoundToModule}var ZM=10;var pr=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=S(tn);afterRenderManager=S(zp);zonelessEnabled=S(Js);rootEffectScheduler=S(cp);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Be;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=S(jn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(re(t=>!t))}constructor(){S(Vn,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=S(ke);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Pt.NULL){return this._injector.get(ft).run(()=>{ue(te.BootstrapComponentStart);let s=t instanceof au;if(!this._injector.get(ig).done){let p="";throw new M(405,p)}let c;s?c=t:c=this._injector.get(oa).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=dw(c)?void 0:this._injector.get(fi),u=r||c.selector,d=c.create(i,[],u,l),h=d.location.nativeElement,f=d.injector.get(ng,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Qs(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),ue(te.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ue(te.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(nu.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw ue(te.ChangeDetectionEnd),new M(101,!1);let t=G(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,G(t),this.afterTick.next(),ue(te.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ui,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<ZM;){ue(te.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{ue(te.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ks(i))continue;let o=r&&!this.zonelessEnabled?0:1;H_(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ks(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Qs(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(lu,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Qs(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new M(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Qs(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function Co(e,n,t,r){let i=pe(),o=Ys();if(di(i,o,n)){let s=Mt(),a=xl();Rx(a,i,e,n,t,r)}return Co}var FW=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Oe(e,n,t){let r=pe(),i=Ys();if(di(r,i,n)){let o=Mt(),s=xl();O_(s,r,e,n,r[Se],t)}return Oe}function Ub(e,n,t,r,i){Jp(n,e,t,i?"class":"style",r)}function x(e,n,t,r){let i=pe(),o=i[z],s=e+ht,a=o.firstCreatePass?X_(s,i,2,n,P_,Wh(),t,r):o.data[s];if(F_(a,i,e,n,fw),qs(a)){let c=i[z];Kp(c,i,a),y_(c,a,i)}return r!=null&&Yp(i,a),x}function T(){let e=Mt(),n=pt(),t=L_(n);return e.firstCreatePass&&ew(e,t),Gh(t)&&qh(),zh(),t.classesWithoutHost!=null&&gT(t)&&Ub(e,t,pe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&mT(t)&&Ub(e,t,pe(),t.stylesWithoutHost,!1),T}function at(e,n,t,r){return x(e,n,t,r),T(),at}function gr(e,n,t,r){let i=pe(),o=i[z],s=e+ht,a=o.firstCreatePass?gM(s,o,2,n,t,r):o.data[s];return F_(a,i,e,n,fw),r!=null&&Yp(i,a),gr}function mr(){let e=pt(),n=L_(e);return Gh(n)&&qh(),zh(),mr}var fw=(e,n,t,r,i)=>(Al(!0),b_(n[Se],r,fb()));function yi(){return pe()}var aa="en-US";var QM=aa;function hw(e){typeof e=="string"&&(QM=e.toLowerCase().replace(/_/g,"-"))}function fe(e,n,t){let r=pe(),i=Mt(),o=pt();return pw(i,r,r[Se],o,e,n,t),fe}function pw(e,n,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=fp(r,n,o),yM(r,e,n,s,t,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let h=u[d],f=u[d+1];c??=fp(r,n,o),Lb(r,n,h,f,i,c)}if(l&&l.length)for(let d of l)c??=fp(r,n,o),Lb(r,n,d,i,i,c)}}function ca(e=1){return db(e)}function la(e){let n=tb();return zv(n,ht+e)}function Nl(e,n){return e<<17|n<<2}function hi(e){return e>>17&32767}function XM(e){return(e&2)==2}function eA(e,n){return e&131071|n<<17}function kp(e){return e|2}function Eo(e){return(e&131068)>>2}function gp(e,n){return e&-131069|n<<2}function tA(e){return(e&1)===1}function Np(e){return e|1}function nA(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=hi(s),c=Eo(s);e[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||lo(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let h=hi(e[a+1]);e[r+1]=Nl(h,a),h!==0&&(e[h+1]=gp(e[h+1],r)),e[a+1]=eA(e[a+1],r)}else e[r+1]=Nl(a,0),a!==0&&(e[a+1]=gp(e[a+1],r)),a=r;else e[r+1]=Nl(c,0),a===0?a=r:e[c+1]=gp(e[c+1],r),c=r;l&&(e[r+1]=kp(e[r+1])),$b(e,u,r,!0),$b(e,u,r,!1),rA(n,u,e,r,o),s=Nl(a,c),o?n.classBindings=s:n.styleBindings=s}function rA(e,n,t,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&lo(o,n)>=0&&(t[r+1]=Np(t[r+1]))}function $b(e,n,t,r){let i=e[t+1],o=n===null,s=r?hi(i):Eo(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];iA(c,n)&&(a=!0,e[s+1]=r?Np(l):kp(l)),s=r?hi(l):Eo(l)}a&&(e[t+1]=r?kp(i):Np(i))}function iA(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?lo(e,n)>=0:!1}function ua(e,n){return oA(e,n,null,!0),ua}function oA(e,n,t,r){let i=pe(),o=Mt(),s=Qh(2);if(o.firstUpdatePass&&aA(o,e,s,r),n!==Dn&&di(i,s,n)){let a=o.data[lr()];fA(o,a,i,i[Se],e,i[s+1]=hA(n,t),r,s)}}function sA(e,n){return n>=e.expandoStartIndex}function aA(e,n,t,r){let i=e.data;if(i[t+1]===null){let o=i[lr()],s=sA(e,t);pA(o,r)&&n===null&&!s&&(n=!1),n=cA(i,o,n,r),nA(i,o,n,t,s,r)}}function cA(e,n,t,r){let i=ab(e),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=mp(null,e,n,t,r),t=ta(t,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==i)if(t=mp(i,e,n,t,r),o===null){let c=lA(e,n,r);c!==void 0&&Array.isArray(c)&&(c=mp(null,e,n,c[1],r),c=ta(c,n.attrs,r),uA(e,n,r,c))}else o=dA(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function lA(e,n,t){let r=t?n.classBindings:n.styleBindings;if(Eo(r)!==0)return e[hi(r)]}function uA(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[hi(i)]=r}function dA(e,n,t){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=ta(r,s,t)}return ta(r,n.attrs,t)}function mp(e,n,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],r=ta(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function ta(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Pv(e,s,t?!0:n[++o]))}return e===void 0?null:e}function fA(e,n,t,r,i,o,s,a){if(!(n.type&3))return;let c=e.data,l=c[a+1],u=tA(l)?Hb(c,n,t,i,Eo(l),s):void 0;if(!Yl(u)){Yl(o)||XM(l)&&(o=Hb(c,null,t,i,a,s));let d=Bh(lr(),t);wx(r,s,d,i,o)}}function Hb(e,n,t,r,i,o){let s=n===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=t[i+1];h===Dn&&(h=d?Tt:void 0);let f=d?_l(h,r):u===r?h:void 0;if(l&&!Yl(f)&&(f=_l(c,r)),Yl(f)&&(a=f,s))return a;let p=e[i+1];i=s?hi(p):Eo(p)}if(n!==null){let c=o?n.residualClasses:n.residualStyles;c!=null&&(a=_l(c,r))}return a}function Yl(e){return e!==void 0}function hA(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=Fn(v_(e)))),e}function pA(e,n){return(e.flags&(n?8:16))!==0}function R(e,n=""){let t=pe(),r=Mt(),i=e+ht,o=r.firstCreatePass?su(r,i,1,n,null):r.data[i],s=gA(r,t,o,n,e);t[i]=s,Ml()&&Gp(r,t,s,o),mo(o,!1)}var gA=(e,n,t,r,i)=>(Al(!0),jT(n[Se],r));function mA(e,n,t,r=""){return di(e,Ys(),t)?n+co(t)+r:Dn}function yA(e,n,t,r,i,o=""){let s=nb(),a=mM(e,s,t,i);return Qh(2),a?n+co(t)+r+co(i)+o:Dn}function vi(e){return an("",e),vi}function an(e,n,t){let r=pe(),i=mA(r,e,n,t);return i!==Dn&&gw(r,lr(),i),an}function uu(e,n,t,r,i){let o=pe(),s=yA(o,e,n,t,r,i);return s!==Dn&&gw(o,lr(),s),uu}function gw(e,n,t){let r=Bh(n,e);VT(e[Se],r,t)}function $e(e,n,t){tg(n)&&(n=n());let r=pe(),i=Ys();if(di(r,i,n)){let o=Mt(),s=xl();O_(s,r,e,n,r[Se],t)}return $e}function Qe(e,n){let t=tg(e);return t&&e.set(n),t}function He(e,n){let t=pe(),r=Mt(),i=pt();return pw(r,t,t[Se],i,e,n),He}function zb(e,n,t){let r=Mt();r.firstCreatePass&&mw(n,r.data,r.blueprint,vn(e),t)}function mw(e,n,t,r,i){if(e=Ye(e),Array.isArray(e))for(let o=0;o<e.length;o++)mw(e[o],n,t,r,i);else{let o=Mt(),s=pe(),a=pt(),c=Jr(e)?e:Ye(e.provide),l=Fh(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Jr(e)||!e.multi){let f=new li(l,i,V,null),p=vp(c,n,i?u:u+h,d);p===-1?(_p(Bl(a,s),o,c),yp(o,e,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{let f=vp(c,n,u+h,d),p=vp(c,n,u,u+h),g=f>=0&&t[f],m=p>=0&&t[p];if(i&&!m||!i&&!g){_p(Bl(a,s),o,c);let y=_A(i?bA:vA,t.length,i,r,l,e);!i&&m&&(t[p].providerFactory=y),yp(o,e,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)}else{let y=yw(t[i?p:f],l,!i&&r);yp(o,e,f>-1?f:p,y)}!i&&r&&m&&t[p].componentProviders++}}}function yp(e,n,t,r){let i=Jr(n),o=Vv(n);if(i||o){let c=(o?Ye(n.useClass):n).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function yw(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function vp(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function vA(e,n,t,r,i){return Op(this.multi,[])}function bA(e,n,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Ul(r,r[z],this.providerFactory.index,i);s=c.slice(0,a),Op(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],Op(o,s);return s}function Op(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function _A(e,n,t,r,i,o){let s=new li(e,t,V,null);return s.multi=[],s.index=n,s.componentProviders=0,yw(s,i,r&&!t),s}function cn(e,n){return t=>{t.providersResolver=(r,i)=>zb(r,i?i(e):e,!1),n&&(t.viewProvidersResolver=(r,i)=>zb(r,i?i(n):n,!0))}}var Jl=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},og=(()=>{class e{compileModuleSync(t){return new Kl(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Th(t),o=D_(i.declarations).reduce((s,a)=>{let c=rr(a);return c&&s.push(new Do(c)),s},[]);return new Jl(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var vw=(()=>{class e{applicationErrorHandler=S(tn);appRef=S(pr);taskService=S(jn);ngZone=S(ft);zonelessEnabled=S(Js);tracing=S(Vn,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new qe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Fs):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(S(ap,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?ip:rp;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Fs+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ip(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bw(){return[{provide:nr,useExisting:vw},{provide:ft,useClass:Ls},{provide:Js,useValue:!0}]}function wA(){return typeof $localize<"u"&&$localize.locale||aa}var du=new N("",{factory:()=>S(du,{optional:!0,skipSelf:!0})||wA()});function So(e,n){return Vc(e,n?.equal)}var Ew=Symbol("InputSignalNode#UNSET"),jA=q(I({},Bc),{transformFn:void 0,applyValueToInputSignal(e,n){Is(e,n)}});function Cw(e,n){let t=Object.create(jA);t.value=e,t.transformFn=n?.transform;function r(){if(Es(t),t.value===Ew){let i=null;throw new M(-950,i)}return t.value}return r[lt]=t,r}function _w(e,n){return Cw(e,n)}function VA(e){return Cw(Ew,e)}var Sw=(_w.required=VA,_w);var sg=new N(""),BA=new N("");function da(e){return!e.moduleRef}function UA(e){let n=da(e)?e.r3Injector:e.moduleRef.injector,t=n.get(ft);return t.run(()=>{da(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(tn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),da(e)){let o=()=>n.destroy(),s=e.platformInjector.get(sg);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(sg);s.add(o),e.moduleRef.onDestroy(()=>{Qs(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return HA(r,t,()=>{let o=n.get(jn),s=o.add(),a=n.get(ig);return a.runInitializers(),a.donePromise.then(()=>{let c=n.get(du,aa);if(hw(c||aa),!n.get(BA,!0))return da(e)?n.get(pr):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(da(e)){let u=n.get(pr);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return $A?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var $A;function HA(e,n,t){try{let r=t();return hr(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e(r)),r}}var fu=null;function zA(e=[],n){return Pt.create({name:n,providers:[{provide:Bs,useValue:"platform"},{provide:sg,useValue:new Set([()=>fu=null])},...e]})}function WA(e=[]){if(fu)return fu;let n=zA(e);return fu=n,uw(),GA(n),n}function GA(e){let n=e.get(Xl,null);Ze(e,()=>{n?.forEach(t=>t())})}var wt=(()=>{class e{static __NG_ELEMENT_ID__=qA}return e})();function qA(e){return KA(pt(),pe(),(e&16)===16)}function KA(e,n,t){if(cr(e)&&!t){let r=Bt(e.index,n);return new dr(r,r)}else if(e.type&175){let r=n[jt];return new dr(r,n)}return null}var ag=class{constructor(){}supports(n){return Xp(n)}create(n){return new cg(n)}},YA=(e,n)=>n,cg=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||YA}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<ww(r,i,o)?t:r,a=ww(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){let f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<l&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!Xp(n))throw new M(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,tw(n,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new lg(t,r),o,i)),n}_verifyReinsertion(n,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){let i=t===null?this._itHead:t._next;return n._next=i,n._prev=t,i===null?this._itTail=n:i._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new hu),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,r=n._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new hu),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},lg=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},ug=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let t=n._prevDup,r=n._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},hu=class{map=new Map;put(n){let t=n.trackById,r=this.map.get(t);r||(r=new ug,this.map.set(t,r)),r.add(n)}get(n,t){let r=n,i=this.map.get(r);return i?i.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ww(e,n,t){let r=e.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function Dw(){return new dg([new ag])}var dg=(()=>{class e{factories;static \u0275prov=O({token:e,providedIn:"root",factory:Dw});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:()=>{let r=S(e,{optional:!0,skipSelf:!0});return e.create(t,r||Dw())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new M(901,!1)}}return e})();function Iw(e){let{rootComponent:n,appProviders:t,platformProviders:r,platformRef:i}=e;ue(te.BootstrapApplicationStart);try{let o=i?.injector??WA(r),s=[bw(),mb,...t||[]],a=new ea({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return UA({r3Injector:a.injector,platformInjector:o,rootComponent:n})}catch(o){return Promise.reject(o)}finally{ue(te.BootstrapApplicationEnd)}}function pu(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var Tw=null;function $t(){return Tw}function fg(e){Tw??=e}var fa=class{},Io=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>S(xw),providedIn:"platform"})}return e})();var xw=(()=>{class e extends Io{_location;_history;_doc=S(Ne);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $t().getBaseHref(this._doc)}onPopState(t){let r=$t().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=$t().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Rw(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function Mw(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function vr(e){return e&&e[0]!=="?"?`?${e}`:e}var gu=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>S(ZA),providedIn:"root"})}return e})(),JA=new N(""),ZA=(()=>{class e extends gu{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??S(Ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Rw(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+vr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+vr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+vr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(j(Io),j(JA,8))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),To=(()=>{class e{_subject=new Be;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=eR(Mw(Aw(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+vr(r))}normalize(t){return e.stripTrailingSlash(XA(this._basePath,Aw(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=vr;static joinWithSlash=Rw;static stripTrailingSlash=Mw;static \u0275fac=function(r){return new(r||e)(j(gu))};static \u0275prov=O({token:e,factory:()=>QA(),providedIn:"root"})}return e})();function QA(){return new To(j(gu))}function XA(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function Aw(e){return e.replace(/\/index.html$/,"")}function eR(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var mu=class{$implicit;ngForOf;index;count;constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},xo=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new mu(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),kw(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);kw(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(V(mi),V(ia),V(dg))};static \u0275dir=we({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function kw(e,n){e.context.$implicit=n.item}var Un=(()=>{class e{_viewContainer;_context=new yu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Nw(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Nw(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(V(mi),V(ia))};static \u0275dir=we({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),yu=class{$implicit=null;ngIf=null};function Nw(e,n){if(e&&!e.createEmbeddedView)throw new M(2020,!1)}var En=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Bn({type:e});static \u0275inj=mn({})}return e})();function ha(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var bi=class{};var Ow="browser";var pa=class{_doc;constructor(n){this._doc=n}manager},bu=(()=>{class e extends pa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(j(Ne))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),Du=new N(""),mg=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof bu));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof bu);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(j(Du),j(ft))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),hg="ng-app-id";function Pw(e){for(let n of e)n.remove()}function Fw(e,n){let t=n.createElement("style");return t.textContent=e,t}function tR(e,n,t,r){let i=e.head?.querySelectorAll(`style[${hg}="${n}"],link[${hg}="${n}"]`);if(i)for(let o of i)o.removeAttribute(hg),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function gg(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var yg=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,tR(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Fw);r?.forEach(i=>this.addUsage(i,this.external,gg))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Pw(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Pw(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Fw(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,gg(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(j(Ne),j(Ql),j(eu,8),j(ra))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),pg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},vg=/%COMP%/g;var jw="%COMP%",nR=`_nghost-${jw}`,rR=`_ngcontent-${jw}`,iR=!0,oR=new N("",{factory:()=>iR});function sR(e){return rR.replace(vg,e)}function aR(e){return nR.replace(vg,e)}function Vw(e,n){return n.map(t=>t.replace(vg,e))}var bg=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,o,s,a,c=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.defaultRenderer=new ga(t,s,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof wu?i.applyToHost(t):i instanceof ma&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.tracingService;switch(r.encapsulation){case on.Emulated:o=new wu(c,l,r,this.appId,u,s,a,d);break;case on.ShadowDom:return new _u(c,t,r,s,a,this.nonce,d,l);case on.ExperimentalIsolatedShadowDom:return new _u(c,t,r,s,a,this.nonce,d);default:o=new ma(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(j(mg),j(yg),j(Ql),j(oR),j(Ne),j(ft),j(eu),j(Vn,8))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),ga=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(pg[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Lw(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(Lw(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new M(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=pg[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=pg[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(wn.DashCase|wn.Important)?n.style.setProperty(t,r,i&wn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&wn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,i){if(typeof n=="string"&&(n=$t().getGlobalEventTarget(this.doc,n),!n))throw new M(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,i)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;n(t)===!1&&t.preventDefault()}}};function Lw(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var _u=class extends ga{hostEl;sharedStylesHost;shadowRoot;constructor(n,t,r,i,o,s,a,c){super(n,i,o,a),this.hostEl=t,this.sharedStylesHost=c,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=Vw(r.id,l);for(let d of l){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=d,this.shadowRoot.appendChild(h)}let u=r.getExternalStyles?.();if(u)for(let d of u){let h=gg(d,i);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},ma=class extends ga{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,i,o,s,a,c){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=c?Vw(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&wo.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},wu=class extends ma{contentAttr;hostAttr;constructor(n,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(n,t,r,o,s,a,c,l),this.contentAttr=sR(l),this.hostAttr=aR(l)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var Eu=class e extends fa{supportsDOMEvents=!0;static makeCurrent(){fg(new e)}onAndCancel(n,t,r,i){return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=cR();return t==null?null:lR(t)}resetBaseElement(){ya=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return ha(document.cookie,n)}},ya=null;function cR(){return ya=ya||document.head.querySelector("base"),ya?ya.getAttribute("href"):null}function lR(e){return new URL(e,document.baseURI).pathname}var uR=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})(),Bw=["alt","control","meta","shift"],dR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fR={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Uw=(()=>{class e extends pa{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$t().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Bw.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=dR[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Bw.forEach(s=>{if(s!==i){let a=fR[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(j(Ne))};static \u0275prov=O({token:e,factory:e.\u0275fac})}return e})();function _g(e,n,t){let r=I({rootComponent:e,platformRef:t?.platformRef},hR(n));return Iw(r)}function hR(e){return{appProviders:[...vR,...e?.providers??[]],platformProviders:yR}}function pR(){Eu.makeCurrent()}function gR(){return new gn}function mR(){return Lp(document),document}var yR=[{provide:ra,useValue:Ow},{provide:Xl,useValue:pR,multi:!0},{provide:Ne,useFactory:mR}];var vR=[{provide:Bs,useValue:"root"},{provide:gn,useFactory:gR},{provide:Du,useClass:bu,multi:!0},{provide:Du,useClass:Uw,multi:!0},bg,yg,mg,{provide:ui,useExisting:bg},{provide:bi,useClass:uR},[]];var _i=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,t);let i=(n.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(n,t){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(n,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var Su=class{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}},Iu=class{encodeKey(n){return $w(n)}encodeValue(n){return $w(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function bR(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var _R=/%(\d[a-f0-9])/gi,wR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $w(e){return encodeURIComponent(e).replace(_R,(n,t)=>wR[t]??n)}function Cu(e){return`${e}`}var br=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Iu,n.fromString){if(n.fromObject)throw new M(2805,!1);this.map=bR(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let r=n.fromObject[t],i=Array.isArray(r)?r.map(Cu):[Cu(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(Cu(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf(Cu(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};function DR(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Hw(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function zw(e){return typeof Blob<"u"&&e instanceof Blob}function Ww(e){return typeof FormData<"u"&&e instanceof FormData}function ER(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Gw="Content-Type",qw="Accept",Kw="text/plain",Yw="application/json",CR=`${Yw}, ${Kw}, */*`,va=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,t,r,i){this.url=t,this.method=n.toUpperCase();let o;if(DR(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new M(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new _i,this.context??=new Su,!this.params)this.params=new br,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Hw(this.body)||zw(this.body)||Ww(this.body)||ER(this.body)?this.body:this.body instanceof br?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Ww(this.body)?null:zw(this.body)?this.body.type||null:Hw(this.body)?null:typeof this.body=="string"?Kw:this.body instanceof br?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Yw:null}clone(n={}){let t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.keepalive??this.keepalive,s=n.priority||this.priority,a=n.cache||this.cache,c=n.mode||this.mode,l=n.redirect||this.redirect,u=n.credentials||this.credentials,d=n.referrer||this.referrer,h=n.integrity||this.integrity,f=n.referrerPolicy||this.referrerPolicy,p=n.transferCache??this.transferCache,g=n.timeout??this.timeout,m=n.body!==void 0?n.body:this.body,y=n.withCredentials??this.withCredentials,v=n.reportProgress??this.reportProgress,_=n.headers||this.headers,b=n.params||this.params,w=n.context??this.context;return n.setHeaders!==void 0&&(_=Object.keys(n.setHeaders).reduce((D,C)=>D.set(C,n.setHeaders[C]),_)),n.setParams&&(b=Object.keys(n.setParams).reduce((D,C)=>D.set(C,n.setParams[C]),b)),new e(t,r,m,{params:b,headers:_,context:w,reportProgress:v,responseType:i,withCredentials:y,transferCache:p,keepalive:o,cache:a,priority:s,timeout:g,mode:c,redirect:l,credentials:u,referrer:d,integrity:h,referrerPolicy:f})}},Mo=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(Mo||{}),Ao=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(n,t=200,r="OK"){this.headers=n.headers||new _i,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.redirected=n.redirected,this.responseType=n.responseType,this.ok=this.status>=200&&this.status<300}},Tu=class e extends Ao{constructor(n={}){super(n)}type=Mo.ResponseHeader;clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},xu=class e extends Ao{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=Mo.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0,redirected:n.redirected??this.redirected,responseType:n.responseType??this.responseType})}},ba=class extends Ao{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},SR=200,IR=204;var TR=new N("");var xR=/^\)\]\}',?\n/;var Dg=(()=>{class e{xhrFactory;tracingService=S(Vn,{optional:!0});constructor(t){this.xhrFactory=t}maybePropagateTrace(t){return this.tracingService?.propagate?this.tracingService.propagate(t):t}handle(t){if(t.method==="JSONP")throw new M(-2800,!1);let r=this.xhrFactory;return K(null).pipe(Ot(()=>new ee(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((m,y)=>s.setRequestHeader(m,y.join(","))),t.headers.has(qw)||s.setRequestHeader(qw,CR),!t.headers.has(Gw)){let m=t.detectContentTypeHeader();m!==null&&s.setRequestHeader(Gw,m)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let m=t.responseType.toLowerCase();s.responseType=m!=="json"?m:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let m=s.statusText||"OK",y=new _i(s.getAllResponseHeaders()),v=s.responseURL||t.url;return c=new Tu({headers:y,status:s.status,statusText:m,url:v}),c},u=this.maybePropagateTrace(()=>{let{headers:m,status:y,statusText:v,url:_}=l(),b=null;y!==IR&&(b=typeof s.response>"u"?s.responseText:s.response),y===0&&(y=b?SR:0);let w=y>=200&&y<300;if(t.responseType==="json"&&typeof b=="string"){let D=b;b=b.replace(xR,"");try{b=b!==""?JSON.parse(b):null}catch(C){b=D,w&&(w=!1,b={error:C,text:b})}}w?(o.next(new xu({body:b,headers:m,status:y,statusText:v,url:_||void 0})),o.complete()):o.error(new ba({error:b,headers:m,status:y,statusText:v,url:_||void 0}))}),d=this.maybePropagateTrace(m=>{let{url:y}=l(),v=new ba({error:m,status:s.status||0,statusText:s.statusText||"Unknown Error",url:y||void 0});o.error(v)}),h=d;t.timeout&&(h=this.maybePropagateTrace(m=>{let{url:y}=l(),v=new ba({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:y||void 0});o.error(v)}));let f=!1,p=this.maybePropagateTrace(m=>{f||(o.next(l()),f=!0);let y={type:Mo.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),t.responseType==="text"&&s.responseText&&(y.partialText=s.responseText),o.next(y)}),g=this.maybePropagateTrace(m=>{let y={type:Mo.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),o.next(y)});return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",h),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),o.next({type:Mo.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",h),t.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(j(bi))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function MR(e,n){return n(e)}function AR(e,n,t){return(r,i)=>Ze(t,()=>n(r,o=>e(o,i)))}var Jw=new N("",{factory:()=>[]}),RR=new N(""),Zw=new N("",{factory:()=>!0});var Eg=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=j(Dg),i},providedIn:"root"})}return e})();var Mu=(()=>{class e{backend;injector;chain=null;pendingTasks=S(kl);contributeToStability=S(Zw);constructor(t,r){this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Jw),...this.injector.get(RR,[])]));this.chain=r.reduceRight((i,o)=>AR(i,o,this.injector),MR)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Rs(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(j(Eg),j(ke))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Cg=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=j(Mu),i},providedIn:"root"})}return e})();function wg(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var kR=(()=>{class e{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof va)o=t;else{let c;i.headers instanceof _i?c=i.headers:c=new _i(i.headers);let l;i.params&&(i.params instanceof br?l=i.params:l=new br({fromObject:i.params})),o=new va(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let s=K(o).pipe(oo(c=>this.handler.handle(c)));if(t instanceof va||i.observe==="events")return s;let a=s.pipe(Nt(c=>c instanceof xu));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(re(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new M(2806,!1);return c.body}));case"blob":return a.pipe(re(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new M(2807,!1);return c.body}));case"text":return a.pipe(re(c=>{if(c.body!==null&&typeof c.body!="string")throw new M(2808,!1);return c.body}));case"json":default:return a.pipe(re(c=>c.body))}case"response":return a;default:throw new M(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new br().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,wg(i,r))}post(t,r,i={}){return this.request("POST",t,wg(i,r))}put(t,r,i={}){return this.request("PUT",t,wg(i,r))}static \u0275fac=function(r){return new(r||e)(j(Cg))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var NR=new N("",{factory:()=>!0}),OR="XSRF-TOKEN",PR=new N("",{factory:()=>OR}),FR="X-XSRF-TOKEN",LR=new N("",{providedIn:"root",factory:()=>FR}),jR=(()=>{class e{cookieName=S(PR);doc=S(Ne);lastCookieString="";lastToken=null;parseCount=0;getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ha(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Qw=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=j(jR),i},providedIn:"root"})}return e})();function VR(e,n){if(!S(NR)||e.method==="GET"||e.method==="HEAD")return n(e);try{let i=S(Io).href,{origin:o}=new URL(i),{origin:s}=new URL(e.url,o);if(o!==s)return n(e)}catch{return n(e)}let t=S(Qw).getToken(),r=S(LR);return t!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,t)})),n(e)}function Sg(...e){let n=[kR,Mu,{provide:Cg,useExisting:Mu},{provide:Eg,useFactory:()=>S(TR,{optional:!0})??S(Dg)},{provide:Jw,useValue:VR,multi:!0}];for(let t of e)n.push(...t.\u0275providers);return ei(n)}var Xw=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(j(Ne))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var $="primary",ka=Symbol("RouteTitle"),Ag=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ci(e){return new Ag(e)}function c0(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Pu(e){return new Promise((n,t)=>{e.pipe(On()).subscribe({next:r=>n(r),error:r=>t(r)})})}function UR(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Cn(e[t],n[t]))return!1;return!0}function Cn(e,n){let t=e?Rg(e):void 0,r=n?Rg(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!l0(e[i],n[i]))return!1;return!0}function Rg(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function l0(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function u0(e){return e.length>0?e[e.length-1]:null}function Ii(e){return sl(e)?e:hr(e)?Ae(Promise.resolve(e)):K(e)}function d0(e){return sl(e)?Pu(e):Promise.resolve(e)}var $R={exact:h0,subset:p0},f0={exact:HR,subset:zR,ignored:()=>!0};function e0(e,n,t){return $R[t.paths](e.root,n.root,t.matrixParams)&&f0[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function HR(e,n){return Cn(e,n)}function h0(e,n,t){if(!Di(e.segments,n.segments)||!ku(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!h0(e.children[r],n.children[r],t))return!1;return!0}function zR(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>l0(e[t],n[t]))}function p0(e,n,t){return g0(e,n,n.segments,t)}function g0(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!Di(i,t)||n.hasChildren()||!ku(i,t,r))}else if(e.segments.length===t.length){if(!Di(e.segments,t)||!ku(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!p0(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Di(e.segments,i)||!ku(e.segments,i,r)||!e.children[$]?!1:g0(e.children[$],n,o,r)}}function ku(e,n,t){return n.every((r,i)=>f0[t](e[i].parameters,r.parameters))}var un=class{root;queryParams;fragment;_queryParamMap;constructor(n=new se([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ci(this.queryParams),this._queryParamMap}toString(){return qR.serialize(this)}},se=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nu(this)}},_r=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Ci(this.parameters),this._parameterMap}toString(){return y0(this)}};function WR(e,n){return Di(e,n)&&e.every((t,r)=>Cn(t.parameters,n[r].parameters))}function Di(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function GR(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===$&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==$&&(t=t.concat(n(i,r)))}),t}var Na=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>new wr,providedIn:"root"})}return e})(),wr=class{parse(n){let t=new Ng(n);return new un(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${_a(n.root,!0)}`,r=JR(n.queryParams),i=typeof n.fragment=="string"?`#${KR(n.fragment)}`:"";return`${t}${r}${i}`}},qR=new wr;function Nu(e){return e.segments.map(n=>y0(n)).join("/")}function _a(e,n){if(!e.hasChildren())return Nu(e);if(n){let t=e.children[$]?_a(e.children[$],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==$&&r.push(`${i}:${_a(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=GR(e,(r,i)=>i===$?[_a(e.children[$],!1)]:[`${i}:${_a(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[$]!=null?`${Nu(e)}/${t[0]}`:`${Nu(e)}/(${t.join("//")})`}}function m0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Au(e){return m0(e).replace(/%3B/gi,";")}function KR(e){return encodeURI(e)}function kg(e){return m0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ou(e){return decodeURIComponent(e)}function t0(e){return Ou(e.replace(/\+/g,"%20"))}function y0(e){return`${kg(e.path)}${YR(e.parameters)}`}function YR(e){return Object.entries(e).map(([n,t])=>`;${kg(n)}=${kg(t)}`).join("")}function JR(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Au(t)}=${Au(i)}`).join("&"):`${Au(t)}=${Au(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var ZR=/^[^\/()?;#]+/;function Ig(e){let n=e.match(ZR);return n?n[0]:""}var QR=/^[^\/()?;=#]+/;function XR(e){let n=e.match(QR);return n?n[0]:""}var ek=/^[^=?&#]+/;function tk(e){let n=e.match(ek);return n?n[0]:""}var nk=/^[^&#]+/;function rk(e){let n=e.match(nk);return n?n[0]:""}var Ng=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new se([],{}):new se([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[$]=new se(n,t)),r}parseSegment(){let n=Ig(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(n),new _r(Ou(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=XR(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Ig(this.remaining);i&&(r=i,this.capture(r))}n[Ou(t)]=Ou(r)}parseQueryParam(n){let t=tk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=rk(this.remaining);s&&(r=s,this.capture(r))}let i=t0(t),o=t0(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ig(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new M(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=$);let s=this.parseChildren();t[o??$]=Object.keys(s).length===1&&s[$]?s[$]:new se([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new M(4011,!1)}};function v0(e){return e.segments.length>0?new se([],{[$]:e}):e}function b0(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=b0(i);if(r===$&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new se(e.segments,n);return ik(t)}function ik(e){if(e.numberOfChildren===1&&e.children[$]){let n=e.children[$];return new se(e.segments.concat(n.segments),n.children)}return e}function Oo(e){return e instanceof un}function _0(e,n,t=null,r=null,i=new wr){let o=w0(e);return D0(o,n,t,r,i)}function w0(e){let n;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new se(o.url,s);return o===e&&(n=a),a}let r=t(e.root),i=v0(r);return n??i}function D0(e,n,t,r,i){let o=e;for(;o.parent;)o=o.parent;if(n.length===0)return Tg(o,o,o,t,r,i);let s=ok(n);if(s.toRoot())return Tg(o,o,new se([],{}),t,r,i);let a=sk(s,o,e),c=a.processChildren?Da(a.segmentGroup,a.index,s.commands):C0(a.segmentGroup,a.index,s.commands);return Tg(o,a.segmentGroup,c,t,r,i)}function Fu(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Sa(e){return typeof e=="object"&&e!=null&&e.outlets}function n0(e,n,t){e||="\u0275";let r=new un;return r.queryParams={[e]:n},t.parse(t.serialize(r)).queryParams[e]}function Tg(e,n,t,r,i,o){let s={};for(let[l,u]of Object.entries(r??{}))s[l]=Array.isArray(u)?u.map(d=>n0(l,d,o)):n0(l,u,o);let a;e===n?a=t:a=E0(e,n,t);let c=v0(b0(a));return new un(c,s,i)}function E0(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=E0(o,n,t)}),new se(e.segments,r)}var Lu=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Fu(r[0]))throw new M(4003,!1);let i=r.find(Sa);if(i&&i!==u0(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ok(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Lu(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Lu(t,n,r)}var ko=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function sk(e,n,t){if(e.isAbsolute)return new ko(n,!0,0);if(!t)return new ko(n,!1,NaN);if(t.parent===null)return new ko(t,!0,0);let r=Fu(e.commands[0])?0:1,i=t.segments.length-1+r;return ak(t,i,e.numberOfDoubleDots)}function ak(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new ko(r,!1,i-o)}function ck(e){return Sa(e[0])?e[0].outlets:{[$]:e}}function C0(e,n,t){if(e??=new se([],{}),e.segments.length===0&&e.hasChildren())return Da(e,n,t);let r=lk(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new se(e.segments.slice(0,r.pathIndex),{});return o.children[$]=new se(e.segments.slice(r.pathIndex),e.children),Da(o,0,i)}else return r.match&&i.length===0?new se(e.segments,{}):r.match&&!e.hasChildren()?Og(e,n,t):r.match?Da(e,0,i):Og(e,n,t)}function Da(e,n,t){if(t.length===0)return new se(e.segments,{});{let r=ck(t),i={};if(Object.keys(r).some(o=>o!==$)&&e.children[$]&&e.numberOfChildren===1&&e.children[$].segments.length===0){let o=Da(e.children[$],n,t);return new se(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=C0(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new se(e.segments,i)}}function lk(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let s=e.segments[i],a=t[r];if(Sa(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!i0(c,l,s))return o;r+=2}else{if(!i0(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Og(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if(Sa(o)){let c=uk(o.outlets);return new se(r,c)}if(i===0&&Fu(t[0])){let c=e.segments[n];r.push(new _r(c.path,r0(t[0]))),i++;continue}let s=Sa(o)?o.outlets[$]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Fu(a)?(r.push(new _r(s,r0(a))),i+=2):(r.push(new _r(s,{})),i++)}return new se(r,{})}function uk(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=Og(new se([],{}),0,r))}),n}function r0(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function i0(e,n,t){return e==t.path&&Cn(n,t.parameters)}var Ea="imperative",ze=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(ze||{}),Rt=class{id;url;constructor(n,t){this.id=n,this.url=t}},Si=class extends Rt{type=ze.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$n=class extends Rt{urlAfterRedirects;type=ze.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},mt=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(mt||{}),Ia=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(Ia||{}),Sn=class extends Rt{reason;code;type=ze.NavigationCancel;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Hn=class extends Rt{reason;code;type=ze.NavigationSkipped;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}},Po=class extends Rt{error;target;type=ze.NavigationError;constructor(n,t,r,i){super(n,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ta=class extends Rt{urlAfterRedirects;state;type=ze.RoutesRecognized;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ju=class extends Rt{urlAfterRedirects;state;type=ze.GuardsCheckStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vu=class extends Rt{urlAfterRedirects;state;shouldActivate;type=ze.GuardsCheckEnd;constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Bu=class extends Rt{urlAfterRedirects;state;type=ze.ResolveStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uu=class extends Rt{urlAfterRedirects;state;type=ze.ResolveEnd;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$u=class{route;type=ze.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Hu=class{route;type=ze.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zu=class{snapshot;type=ze.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wu=class{snapshot;type=ze.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gu=class{snapshot;type=ze.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qu=class{snapshot;type=ze.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var xa=class{},Fo=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function dk(e){return!(e instanceof xa)&&!(e instanceof Fo)}function fk(e,n){return e.providers&&!e._injector&&(e._injector=sa(e.providers,n,`Route: ${e.path}`)),e._injector??n}function ln(e){return e.outlet||$}function hk(e,n){let t=e.filter(r=>ln(r)===n);return t.push(...e.filter(r=>ln(r)!==n)),t}function Vo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Ku=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Vo(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Bo(this.rootInjector)}},Bo=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ku(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(j(ke))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Yu=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=Pg(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=Pg(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=Fg(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Fg(n,this._root).map(t=>t.value)}};function Pg(e,n){if(e===n.value)return n;for(let t of n.children){let r=Pg(e,t);if(r)return r}return null}function Fg(e,n){if(e===n.value)return[n];for(let t of n.children){let r=Fg(e,t);if(r.length)return r.unshift(n),r}return[]}var At=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ro(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var Ma=class extends Yu{snapshot;constructor(n,t){super(n),this.snapshot=t,$g(this,n)}toString(){return this.snapshot.toString()}};function S0(e){let n=pk(e),t=new Ke([new _r("",{})]),r=new Ke({}),i=new Ke({}),o=new Ke({}),s=new Ke(""),a=new Dr(t,r,o,s,i,$,e,n.root);return a.snapshot=n.root,new Ma(new At(a,[]),n)}function pk(e){let n={},t={},r={},o=new Ei([],n,r,"",t,$,e,null,{});return new Aa("",new At(o,[]))}var Dr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,i,o,s,a,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(re(l=>l[ka]))??K(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(n=>Ci(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(n=>Ci(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ju(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:I(I({},n.params),e.params),data:I(I({},n.data),e.data),resolve:I(I(I(I({},e.data),n.data),i?.data),e._resolvedData)}:r={params:I({},e.params),data:I({},e.data),resolve:I(I({},e.data),e._resolvedData??{})},i&&T0(i)&&(r.resolve[ka]=i.title),r}var Ei=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ka]}constructor(n,t,r,i,o,s,a,c,l){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ci(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ci(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Aa=class extends Yu{url;constructor(n,t){super(t),this.url=n,$g(this,t)}toString(){return I0(this._root)}};function $g(e,n){n.value._routerState=e,n.children.forEach(t=>$g(e,t))}function I0(e){let n=e.children.length>0?` { ${e.children.map(I0).join(", ")} } `:"";return`${e.value}${n}`}function xg(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Cn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Cn(n.params,t.params)||e.paramsSubject.next(t.params),UR(n.url,t.url)||e.urlSubject.next(t.url),Cn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Lg(e,n){let t=Cn(e.params,n.params)&&WR(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||Lg(e.parent,n.parent))}function T0(e){return typeof e.title=="string"||e.title===null}var x0=new N(""),Oa=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=$;activateEvents=new Re;deactivateEvents=new Re;attachEvents=new Re;detachEvents=new Re;routerOutletData=Sw();parentContexts=S(Bo);location=S(mi);changeDetector=S(wt);inputBinder=S(ed,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new jg(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=we({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[pi]})}return e})(),jg=class{route;childContexts;parent;outletData;constructor(n,t,r,i){this.route=n,this.childContexts=t,this.parent=r,this.outletData=i}get(n,t){return n===Dr?this.route:n===Bo?this.childContexts:n===x0?this.outletData:this.parent.get(n,t)}},ed=new N("");var Hg=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Fe({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&at(0,"router-outlet")},dependencies:[Oa],encapsulation:2})}return e})();function zg(e){let n=e.children&&e.children.map(zg),t=n?q(I({},e),{children:n}):I({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==$&&(t.component=Hg),t}function gk(e,n,t){let r=Ra(e,n._root,t?t._root:void 0);return new Ma(r,n)}function Ra(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=mk(e,n,t);return new At(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Ra(e,a)),s}}let r=yk(n.value),i=n.children.map(o=>Ra(e,o));return new At(r,i)}}function mk(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ra(e,r,i);return Ra(e,r)})}function yk(e){return new Dr(new Ke(e.url),new Ke(e.params),new Ke(e.queryParams),new Ke(e.fragment),new Ke(e.data),e.outlet,e.component,e)}var Lo=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},M0="ngNavigationCancelingError";function Zu(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=Oo(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=A0(!1,mt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function A0(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[M0]=!0,t.cancellationCode=n,t}function vk(e){return R0(e)&&Oo(e.url)}function R0(e){return!!e&&e[M0]}var bk=(e,n,t,r)=>re(i=>(new Vg(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),Vg=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),xg(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=Ro(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Ro(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Ro(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=Ro(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new qu(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Wu(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(xg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),xg(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Qu=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},No=class{component;route;constructor(n,t){this.component=n,this.route=t}};function _k(e,n,t){let r=e._root,i=n?n._root:null;return wa(r,i,t,[r.value])}function wk(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function Uo(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!wh(e)?e:n.get(e):r}function wa(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ro(n);return e.children.forEach(s=>{Dk(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ca(a,t.getContext(s),i)),i}function Dk(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Ek(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Qu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?wa(e,n,a?a.children:null,r,i):wa(e,n,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new No(a.outlet.component,s))}else s&&Ca(n,a,i),i.canActivateChecks.push(new Qu(r)),o.component?wa(e,null,a?a.children:null,r,i):wa(e,null,t,r,i);return i}function Ek(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Di(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Di(e.url,n.url)||!Cn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lg(e,n)||!Cn(e.queryParams,n.queryParams);case"paramsChange":default:return!Lg(e,n)}}function Ca(e,n,t){let r=Ro(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?n?Ca(s,n.children.getContext(o),t):Ca(s,null,t):Ca(s,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new No(n.outlet.component,i)):t.canDeactivateChecks.push(new No(null,i)):t.canDeactivateChecks.push(new No(null,i))}function Pa(e){return typeof e=="function"}function Ck(e){return typeof e=="boolean"}function Sk(e){return e&&Pa(e.canLoad)}function Ik(e){return e&&Pa(e.canActivate)}function Tk(e){return e&&Pa(e.canActivateChild)}function xk(e){return e&&Pa(e.canDeactivate)}function Mk(e){return e&&Pa(e.canMatch)}function k0(e){return e instanceof Gr||e?.name==="EmptyError"}var Ru=Symbol("INITIAL_VALUE");function jo(){return Ot(e=>Xf(e.map(n=>n.pipe(Nn(1),nh(Ru)))).pipe(re(n=>{for(let t of n)if(t!==!0){if(t===Ru)return Ru;if(t===!1||Ak(t))return t}return!0}),Nt(n=>n!==Ru),Nn(1)))}function Ak(e){return Oo(e)||e instanceof Lo}function N0(e){return e.aborted?K(void 0).pipe(Nn(1)):new ee(n=>{let t=()=>{n.next(),n.complete()};return e.addEventListener("abort",t),()=>e.removeEventListener("abort",t)})}function O0(e){return ks(N0(e))}function Rk(e,n){return ut(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?K(q(I({},t),{guardsResult:!0})):kk(s,r,i,e).pipe(ut(a=>a&&Ck(a)?Nk(r,o,e,n):K(a)),re(a=>q(I({},t),{guardsResult:a})))})}function kk(e,n,t,r){return Ae(e).pipe(ut(i=>jk(i.component,i.route,t,n,r)),On(i=>i!==!0,!0))}function Nk(e,n,t,r){return Ae(n).pipe(oo(i=>io(Pk(i.route.parent,r),Ok(i.route,r),Lk(e,i.path,t),Fk(e,i.route,t))),On(i=>i!==!0,!0))}function Ok(e,n){return e!==null&&n&&n(new Gu(e)),K(!0)}function Pk(e,n){return e!==null&&n&&n(new zu(e)),K(!0)}function Fk(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(o=>Ms(()=>{let s=Vo(n)??t,a=Uo(o,s),c=Ik(a)?a.canActivate(n,e):Ze(s,()=>a(n,e));return Ii(c).pipe(On())}));return K(i).pipe(jo())}function Lk(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>wk(s)).filter(s=>s!==null).map(s=>Ms(()=>{let a=s.guards.map(c=>{let l=Vo(s.node)??t,u=Uo(c,l),d=Tk(u)?u.canActivateChild(r,e):Ze(l,()=>u(r,e));return Ii(d).pipe(On())});return K(a).pipe(jo())}));return K(o).pipe(jo())}function jk(e,n,t,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let c=Vo(n)??i,l=Uo(a,c),u=xk(l)?l.canDeactivate(e,n,t,r):Ze(c,()=>l(e,n,t,r));return Ii(u).pipe(On())});return K(s).pipe(jo())}function Vk(e,n,t,r,i){let o=n.canLoad;if(o===void 0||o.length===0)return K(!0);let s=o.map(a=>{let c=Uo(a,e),l=Sk(c)?c.canLoad(n,t):Ze(e,()=>c(n,t)),u=Ii(l);return i?u.pipe(O0(i)):u});return K(s).pipe(jo(),P0(r))}function P0(e){return Yf(dt(n=>{if(typeof n!="boolean")throw Zu(e,n)}),re(n=>n===!0))}function Bk(e,n,t,r,i){let o=n.canMatch;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let c=Uo(a,e),l=Mk(c)?c.canMatch(n,t):Ze(e,()=>c(n,t)),u=Ii(l);return i?u.pipe(O0(i)):u});return K(s).pipe(jo(),P0(r))}var wi=class F0 extends Error{segmentGroup;constructor(n){super(),this.segmentGroup=n||null,Object.setPrototypeOf(this,F0.prototype)}},Bg=class L0 extends Error{urlTree;constructor(n){super(),this.urlTree=n,Object.setPrototypeOf(this,L0.prototype)}};function Uk(e){throw new M(4e3,!1)}function $k(e){throw A0(!1,mt.GuardRejected)}var Hk=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}async lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[$])throw Uk(`${n.redirectTo}`);i=i.children[$]}}async applyRedirectCommands(n,t,r,i,o){let s=await zk(t,i,o);if(s instanceof un)throw new Bg(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),n,r);if(s[0]==="/")throw new Bg(a);return a}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new un(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,i)}),new se(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new M(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}};function zk(e,n,t){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=n;return Pu(Ii(Ze(t,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d}))))}var Ug={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wk(e,n,t,r,i,o){let s=j0(e,n,t);return s.matched?(r=fk(n,r),Bk(r,n,t,i,o).pipe(re(a=>a===!0?s:I({},Ug)))):K(s)}function j0(e,n,t){if(n.path==="**")return Gk(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?I({},Ug):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||c0)(t,e,n);if(!i)return I({},Ug);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?I(I({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Gk(e){return{matched:!0,parameters:e.length>0?u0(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function o0(e,n,t,r){return t.length>0&&Yk(e,t,r)?{segmentGroup:new se(n,Kk(r,new se(t,e.children))),slicedSegments:[]}:t.length===0&&Jk(e,t,r)?{segmentGroup:new se(e.segments,qk(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new se(e.segments,e.children),slicedSegments:t}}function qk(e,n,t,r){let i={};for(let o of t)if(td(e,n,o)&&!r[ln(o)]){let s=new se([],{});i[ln(o)]=s}return I(I({},r),i)}function Kk(e,n){let t={};t[$]=n;for(let r of e)if(r.path===""&&ln(r)!==$){let i=new se([],{});t[ln(r)]=i}return t}function Yk(e,n,t){return t.some(r=>td(e,n,r)&&ln(r)!==$)}function Jk(e,n,t){return t.some(r=>td(e,n,r))}function td(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Zk(e,n,t){return n.length===0&&!e.children[t]}var Qk=class{};async function Xk(e,n,t,r,i,o,s="emptyOnly",a){return new tN(e,n,t,r,i,s,o,a).recognize()}var eN=31,tN=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,i,o,s,a,c){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new Hk(this.urlSerializer,this.urlTree)}noMatchError(n){return new M(4002,`'${n.segmentGroup}'`)}async recognize(){let n=o0(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(n),i=new At(r,t),o=new Aa("",i),s=_0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(n){let t=new Ei([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),$,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,n,$,t),rootSnapshot:t}}catch(r){if(r instanceof Bg)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof wi?this.noMatchError(r):r}}async processSegmentGroup(n,t,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(n,t,r,o);let s=await this.processSegment(n,t,r,r.segments,i,!0,o);return s instanceof At?[s]:[]}async processChildren(n,t,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let l=r.children[c],u=hk(t,c),d=await this.processSegmentGroup(n,u,l,c,i);s.push(...d)}let a=V0(s);return nN(a),a}async processSegment(n,t,r,i,o,s,a){for(let c of t)try{return await this.processSegmentAgainstRoute(c._injector??n,t,c,r,i,o,s,a)}catch(l){if(l instanceof wi||k0(l))continue;throw l}if(Zk(r,i,o))return new Qk;throw new wi(r)}async processSegmentAgainstRoute(n,t,r,i,o,s,a,c){if(ln(r)!==s&&(s===$||!td(i,o,r)))throw new wi(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(n,i,r,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s,c);throw new wi(i)}async expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=j0(t,i,o);if(!c)throw new wi(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>eN&&(this.allowRedirects=!1));let f=new Ei(o,l,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,s0(i),ln(i),i.component??i._loadedComponent??null,i,a0(i)),p=Ju(f,a,this.paramsInheritanceStrategy);if(f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let g=await this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,n),m=await this.applyRedirects.lineralizeSegments(i,g);return this.processSegment(n,r,t,m.concat(h),s,!1,a)}async matchSegmentAgainstRoute(n,t,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Pu(Wk(t,r,i,n,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new wi(t);n=r._injector??n;let{routes:c}=await this.getChildConfig(n,r,i),l=r._loadedInjector??n,{parameters:u,consumedSegments:d,remainingSegments:h}=a,f=new Ei(d,u,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,s0(r),ln(r),r.component??r._loadedComponent??null,r,a0(r)),p=Ju(f,s,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let{segmentGroup:g,slicedSegments:m}=o0(t,d,h,c);if(m.length===0&&g.hasChildren()){let _=await this.processChildren(l,c,g,f);return new At(f,_)}if(c.length===0&&m.length===0)return new At(f,[]);let y=ln(r)===o,v=await this.processSegment(l,c,g,m,y?$:o,!0,f);return new At(f,v instanceof At?[v]:[])}async getChildConfig(n,t,r){if(t.children)return{routes:t.children,injector:n};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Pu(Vk(n,t,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(n,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,o}throw $k(t)}return{routes:[],injector:n}}};function nN(e){e.sort((n,t)=>n.value.outlet===$?-1:t.value.outlet===$?1:n.value.outlet.localeCompare(t.value.outlet))}function rN(e){let n=e.value.routeConfig;return n&&n.path===""}function V0(e){let n=[],t=new Set;for(let r of e){if(!rN(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=V0(r.children);n.push(new At(r.value,i))}return n.filter(r=>!t.has(r))}function s0(e){return e.data||{}}function a0(e){return e.resolve||{}}var iN=new N("",{factory:()=>Xk});function oN(e,n,t,r,i,o,s){let a=e.get(iN);return ut(c=>K(c).pipe(Ot(l=>a(e,n,t,r,l.extractedUrl,i,o,s)),re(({state:l,tree:u})=>q(I({},c),{targetSnapshot:l,urlAfterRedirects:u}))))}function sN(e,n){return ut(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return K(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of B0(c))s.add(l);let a=0;return Ae(s).pipe(oo(c=>o.has(c)?aN(c,r,e,n):(c.data=Ju(c,c.parent,e).resolve,K(void 0))),dt(()=>a++),ul(1),ut(c=>a===s.size?K(t):yt))})}function B0(e){let n=e.children.map(t=>B0(t)).flat();return[e,...n]}function aN(e,n,t,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!T0(i)&&(o[ka]=i.title),Ms(()=>(e.data=Ju(e,e.parent,t).resolve,cN(o,e,n,r).pipe(re(s=>(e._resolvedData=s,e.data=I(I({},e.data),s),null)))))}function cN(e,n,t,r){let i=Rg(e);if(i.length===0)return K({});let o={};return Ae(i).pipe(ut(s=>lN(e[s],n,t,r).pipe(On(),dt(a=>{if(a instanceof Lo)throw Zu(new wr,a);o[s]=a}))),ul(1),re(()=>o),As(s=>k0(s)?yt:Qf(s)))}function lN(e,n,t,r){let i=Vo(n)??r,o=Uo(e,i),s=o.resolve?o.resolve(n,t):Ze(i,()=>o(n,t));return Ii(s)}function Mg(e){return Ot(n=>{let t=e(n);return t?Ae(t).pipe(re(()=>n)):K(n)})}var Wg=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===$);return r}getResolvedTitleForRoute(t){return t.data[ka]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>S(U0),providedIn:"root"})}return e})(),U0=(()=>{class e extends Wg{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(j(Xw))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Fa=new N("",{factory:()=>({})}),La=new N(""),$0=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=S(og);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await d0(Ze(t,()=>r.loadComponent())),s=await W0(z0(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await H0(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();async function H0(e,n,t,r){let i=await d0(Ze(t,()=>e.loadChildren())),o=await W0(z0(i)),s;o instanceof cu||Array.isArray(o)?s=o:s=await n.compileModuleAsync(o),r&&r(e);let a,c,l=!1;return Array.isArray(s)?(c=s,l=!0):(a=s.create(t).injector,c=a.get(La,[],{optional:!0,self:!0}).flat()),{routes:c.map(zg),injector:a}}function uN(e){return e&&typeof e=="object"&&"default"in e}function z0(e){return uN(e)?e.default:e}async function W0(e){return e}var nd=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>S(dN),providedIn:"root"})}return e})(),dN=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),G0=new N("");var fN=()=>{},q0=new N(""),K0=(()=>{class e{currentNavigation=nn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=nn(null);events=new Be;transitionAbortWithErrorSubject=new Be;configLoader=S($0);environmentInjector=S(ke);destroyRef=S(bn);urlSerializer=S(Na);rootContexts=S(Bo);location=S(To);inputBindingEnabled=S(ed,{optional:!0})!==null;titleStrategy=S(Wg);options=S(Fa,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=S(nd);createViewTransition=S(G0,{optional:!0});navigationErrorHandler=S(q0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>K(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new $u(i)),r=i=>this.events.next(new Hu(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Ue(()=>{this.transitions?.next(q(I({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new Ke(null),this.transitions.pipe(Nt(r=>r!==null),Ot(r=>{let i=!1,o=new AbortController;return K(r).pipe(Ot(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",mt.SupersededByNewNavigation),yt;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?q(I({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&l!=="reload")return this.events.next(new Hn(s.id,this.urlSerializer.serialize(s.rawUrl),"",Ia.IgnoredSameUrlNavigation)),s.resolve(!1),yt;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return K(s).pipe(Ot(u=>(this.events.next(new Si(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?yt:Promise.resolve(u))),oN(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),dt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let d=new Ta(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:d,source:h,restoredState:f,extras:p}=s,g=new Si(u,this.urlSerializer.serialize(d),h,f);this.events.next(g);let m=S0(this.rootComponentType).snapshot;return this.currentTransition=r=q(I({},s),{targetSnapshot:m,urlAfterRedirects:d,extras:q(I({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(y=>(y.finalUrl=d,y)),K(r)}else return this.events.next(new Hn(s.id,this.urlSerializer.serialize(s.extractedUrl),"",Ia.IgnoredByUrlHandlingStrategy)),s.resolve(!1),yt}),dt(s=>{let a=new ju(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),re(s=>(this.currentTransition=r=q(I({},s),{guards:_k(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),Rk(this.environmentInjector,s=>this.events.next(s)),dt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Zu(this.urlSerializer,s.guardsResult);let a=new Vu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Nt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",mt.GuardRejected),!1)),Mg(s=>{if(s.guards.canActivateChecks.length!==0)return K(s).pipe(dt(a=>{let c=new Bu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Ot(a=>{let c=!1;return K(a).pipe(sN(this.paramsInheritanceStrategy,this.environmentInjector),dt({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",mt.NoDataFromResolver)}}))}),dt(a=>{let c=new Uu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Mg(s=>{let a=l=>{let u=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let d=Vo(l)??this.environmentInjector;u.push(this.configLoader.loadComponent(d,l.routeConfig).then(h=>{l.component=h}))}for(let d of l.children)u.push(...a(d));return u},c=a(s.targetSnapshot.root);return c.length===0?K(s):Ae(Promise.all(c).then(()=>s))}),Mg(()=>this.afterPreactivation()),Ot(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?Ae(c).pipe(re(()=>r)):K(r)}),re(s=>{let a=gk(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=q(I({},s),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),dt(()=>{this.events.next(new xa)}),bk(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Nn(1),ks(N0(o.signal).pipe(Nt(()=>!i&&!r.targetRouterState),dt(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",mt.Aborted)}))),dt({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=fN,a)),this.lastSuccessfulNavigation.set(Ue(this.currentNavigation)),this.events.next(new $n(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),ks(this.transitionAbortWithErrorSubject.pipe(dt(s=>{throw s}))),Rs(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",mt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),As(s=>{if(this.destroyed)return r.resolve(!1),yt;if(i=!0,R0(s))this.events.next(new Sn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),vk(s)?this.events.next(new Fo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Po(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Ze(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Lo){let{message:l,cancellationCode:u}=Zu(this.urlSerializer,c);this.events.next(new Sn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new Fo(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return yt}))}))}cancelNavigationTransition(t,r,i){let o=new Sn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Ue(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hN(e){return e!==Ea}var Y0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>S(pN),providedIn:"root"})}return e})(),Xu=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},pN=(()=>{class e extends Xu{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ut(e)))(i||e)}})();static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Gg=(()=>{class e{urlSerializer=S(Na);options=S(Fa,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=S(To);urlHandlingStrategy=S(nd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new un;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof un?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=S0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:()=>S(J0),providedIn:"root"})}return e})(),J0=(()=>{class e extends Gg{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Si?this.updateStateMemento():t instanceof Hn?this.commitTransition(r):t instanceof Ta?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof xa?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Sn&&t.code!==mt.SupersededByNewNavigation&&t.code!==mt.Redirect?this.restoreHistory(r):t instanceof Po?this.restoreHistory(r,!0):t instanceof $n&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=I(I({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=I(I({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ut(e)))(i||e)}})();static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function qg(e,n){e.events.pipe(Nt(t=>t instanceof $n||t instanceof Sn||t instanceof Po||t instanceof Hn),re(t=>t instanceof $n||t instanceof Hn?0:(t instanceof Sn?t.code===mt.Redirect||t.code===mt.SupersededByNewNavigation:!1)?2:1),Nt(t=>t!==2),Nn(1)).subscribe(()=>{n()})}var gN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ht=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=S(eg);stateManager=S(Gg);options=S(Fa,{optional:!0})||{};pendingTasks=S(jn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=S(K0);urlSerializer=S(Na);location=S(To);urlHandlingStrategy=S(nd);injector=S(ke);_events=new Be;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=S(Y0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=S(La,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!S(ed,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new qe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Ue(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Sn&&r.code!==mt.Redirect&&r.code!==mt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof $n)this.navigated=!0;else if(r instanceof Fo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=I({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||hN(i.source)},s);this.scheduleNavigation(a,Ea,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}dk(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ea,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=I({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(tn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Ue(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(zg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=w0(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return D0(d,t,u,l??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Oo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ea,null,r)}navigate(t,r={skipLocationChange:!1}){return yN(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Qr(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=I({},gN):r===!1?i=I({},mN):i=r,Oo(t))return e0(this.currentUrlTree,t,i);let o=this.parseUrl(t);return e0(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});let u=this.pendingTasks.add();return qg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function yN(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new M(4008,!1)}var bN=new N("");function Kg(e,...n){return ei([{provide:La,multi:!0,useValue:e},[],{provide:Dr,useFactory:_N},{provide:lu,multi:!0,useFactory:wN},n.map(t=>t.\u0275providers)])}function _N(){return S(Ht).routerState.root}function wN(){let e=S(Pt);return n=>{let t=e.get(pr);if(n!==t.components[0])return;let r=e.get(Ht),i=e.get(DN);e.get(EN)===1&&r.initialNavigation(),e.get(CN,null,{optional:!0})?.setUpPreloading(),e.get(bN,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var DN=new N("",{factory:()=>new Be}),EN=new N("",{factory:()=>1});var CN=new N("");var id=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Fe({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"content"]],template:function(t,r){t&1&&(x(0,"main")(1,"section",0),at(2,"router-outlet"),T()())},dependencies:[Oa],encapsulation:2})};var sD=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(V(gi),V(fr))};static \u0275dir=we({type:e})}return e})(),hd=(()=>{class e extends sD{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ut(e)))(i||e)}})();static \u0275dir=we({type:e,features:[gt]})}return e})(),za=new N("");var IN={provide:za,useExisting:bt(()=>Cr),multi:!0};function TN(){let e=$t()?$t().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var xN=new N(""),Cr=(()=>{class e extends sD{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!TN())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(V(gi),V(fr),V(xN,8))};static \u0275dir=we({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&fe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[cn([IN]),gt]})}return e})();function MN(e){return e==null||aD(e)===0}function aD(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Wa=new N(""),cD=new N("");function AN(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function RN(e){return MN(e.value)?{required:!0}:null}function kN(e){return n=>{let t=n.value?.length??aD(n.value);return t!==null&&t>e?{maxlength:{requiredLength:e,actualLength:t}}:null}}function Z0(e){return null}function lD(e){return e!=null}function uD(e){return hr(e)?Ae(e):e}function dD(e){let n={};return e.forEach(t=>{n=t!=null?I(I({},n),t):n}),Object.keys(n).length===0?null:n}function fD(e,n){return n.map(t=>t(e))}function NN(e){return!e.validate}function hD(e){return e.map(n=>NN(n)?n:t=>n.validate(t))}function ON(e){if(!e)return null;let n=e.filter(lD);return n.length==0?null:function(t){return dD(fD(t,n))}}function Zg(e){return e!=null?ON(hD(e)):null}function PN(e){if(!e)return null;let n=e.filter(lD);return n.length==0?null:function(t){let r=fD(t,n).map(uD);return eh(r).pipe(re(dD))}}function Qg(e){return e!=null?PN(hD(e)):null}function Q0(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function FN(e){return e._rawValidators}function LN(e){return e._rawAsyncValidators}function Yg(e){return e?Array.isArray(e)?e:[e]:[]}function sd(e,n){return Array.isArray(e)?e.includes(n):e===n}function X0(e,n){let t=Yg(n);return Yg(e).forEach(i=>{sd(t,i)||t.push(i)}),t}function eD(e,n){return Yg(n).filter(t=>!sd(e,t))}var ad=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Zg(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Qg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},zo=class extends ad{name;get formDirective(){return null}get path(){return null}},Ha=class extends ad{_parent=null;name=null;valueAccessor=null},cd=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Wo=(()=>{class e extends cd{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(V(Ha,2))};static \u0275dir=we({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ua("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[gt]})}return e})(),Go=(()=>{class e extends cd{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(V(zo,10))};static \u0275dir=we({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ua("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[gt]})}return e})();var ja="VALID",od="INVALID",$o="PENDING",Va="DISABLED",Er=class{},ld=class extends Er{value;source;constructor(n,t){super(),this.value=n,this.source=t}},Ua=class extends Er{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},$a=class extends Er{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},Ho=class extends Er{status;source;constructor(n,t){super(),this.status=n,this.source=t}},Jg=class extends Er{source;constructor(n){super(),this.source=n}},ud=class extends Er{source;constructor(n){super(),this.source=n}};function pD(e){return(pd(e)?e.validators:e)||null}function jN(e){return Array.isArray(e)?Zg(e):e||null}function gD(e,n){return(pd(n)?n.asyncValidators:e)||null}function VN(e){return Array.isArray(e)?Qg(e):e||null}function pd(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function BN(e,n,t){let r=e.controls;if(!(n?Object.keys(r):r).length)throw new M(1e3,"");if(!r[t])throw new M(1001,"")}function UN(e,n,t){e._forEachChild((r,i)=>{if(t[i]===void 0)throw new M(1002,"")})}var dd=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Ue(this.statusReactive)}set status(n){Ue(()=>this.statusReactive.set(n))}_status=So(()=>this.statusReactive());statusReactive=nn(void 0);get valid(){return this.status===ja}get invalid(){return this.status===od}get pending(){return this.status==$o}get disabled(){return this.status===Va}get enabled(){return this.status!==Va}errors;get pristine(){return Ue(this.pristineReactive)}set pristine(n){Ue(()=>this.pristineReactive.set(n))}_pristine=So(()=>this.pristineReactive());pristineReactive=nn(!0);get dirty(){return!this.pristine}get touched(){return Ue(this.touchedReactive)}set touched(n){Ue(()=>this.touchedReactive.set(n))}_touched=So(()=>this.touchedReactive());touchedReactive=nn(!1);get untouched(){return!this.touched}_events=new Be;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(X0(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(X0(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(eD(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(eD(n,this._rawAsyncValidators))}hasValidator(n){return sd(this._rawValidators,n)}hasAsyncValidator(n){return sd(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(q(I({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new $a(!0,r))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new $a(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(q(I({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Ua(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new Ua(!0,r))}markAsPending(n={}){this.status=$o;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Ho(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(q(I({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Va,this.errors=null,this._forEachChild(i=>{i.disable(q(I({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new ld(this.value,r)),this._events.next(new Ho(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(q(I({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=ja,this._forEachChild(r=>{r.enable(q(I({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(q(I({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ja||this.status===$o)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new ld(this.value,t)),this._events.next(new Ho(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(q(I({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Va:ja}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=$o,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:n!==!1};let r=uD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new Ho(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?Va:this.errors?od:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($o)?$o:this._anyControlsHaveStatus(od)?od:ja}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),i&&this._events.next(new Ua(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new $a(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){pd(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=jN(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=VN(this._rawAsyncValidators)}},fd=class extends dd{constructor(n,t,r){super(pD(t),gD(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){UN(this,!0,n),Object.keys(n).forEach(r=>{BN(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,q(I({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new ud(this))}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Xg=new N("",{factory:()=>em}),em="always";function $N(e,n){return[...n.path,e]}function mD(e,n,t=em){yD(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),zN(e,n),GN(e,n),WN(e,n),HN(e,n)}function tD(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function HN(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function yD(e,n){let t=FN(e);n.validator!==null?e.setValidators(Q0(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=LN(e);n.asyncValidator!==null?e.setAsyncValidators(Q0(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();tD(n._rawValidators,i),tD(n._rawAsyncValidators,i)}function zN(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&vD(e,n)})}function WN(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&vD(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function vD(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function GN(e,n){let t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function qN(e,n){e==null,yD(e,n)}function KN(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function YN(e){return Object.getPrototypeOf(e.constructor)===hd}function JN(e,n){e._syncPendingControls(),n.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ZN(e,n){if(!n)return null;Array.isArray(n);let t,r,i;return n.forEach(o=>{o.constructor===Cr?t=o:YN(o)?r=o:i=o}),i||r||t||null}var QN={provide:zo,useExisting:bt(()=>Ti)},Ba=Promise.resolve(),Ti=(()=>{class e extends zo{callSetDisabledState;get submitted(){return Ue(this.submittedReactive)}_submitted=So(()=>this.submittedReactive());submittedReactive=nn(!1);_directives=new Set;form;ngSubmit=new Re;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new fd({},Zg(t),Qg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ba.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),mD(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ba.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ba.then(()=>{let r=this._findContainer(t.path),i=new fd({});qN(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ba.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ba.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),JN(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Jg(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||e)(V(Wa,10),V(cD,10),V(Xg,8))};static \u0275dir=we({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&fe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[cn([QN]),gt]})}return e})();function nD(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function rD(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var XN=class extends dd{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(pD(t),gD(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(rD(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new ud(this))}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){nD(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){nD(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){rD(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var eO={provide:Ha,useExisting:bt(()=>xi)},iD=Promise.resolve(),xi=(()=>{class e extends Ha{_changeDetectorRef;callSetDisabledState;control=new XN;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Re;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ZN(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),KN(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){mD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){iD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&pu(r);iD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?$N(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(V(zo,9),V(Wa,10),V(cD,10),V(za,10),V(wt,8),V(Xg,8))};static \u0275dir=we({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[cn([eO]),gt,pi]})}return e})();var qo=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=we({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),tO={provide:za,useExisting:bt(()=>Ga),multi:!0},Ga=(()=>{class e extends hd{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ut(e)))(i||e)}})();static \u0275dir=we({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&fe("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[cn([tO]),gt]})}return e})();var nO={provide:za,useExisting:bt(()=>_D),multi:!0};function bD(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function rO(e){return e.split(":")[0]}var _D=(()=>{class e extends hd{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=S(pr).injector;destroyRef=S(bn);cdr=S(wt);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,iu({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=bD(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=rO(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ut(e)))(i||e)}})();static \u0275dir=we({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&fe("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[cn([nO]),gt]})}return e})(),wD=(()=>{class e{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(bD(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(V(fr),V(gi),V(_D,9))};static \u0275dir=we({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),iO={provide:za,useExisting:bt(()=>DD),multi:!0};function oD(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function oO(e){return e.split(":")[0]}var DD=(()=>{class e extends hd{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=oO(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ut(e)))(i||e)}})();static \u0275dir=we({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&fe("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[cn([iO]),gt]})}return e})(),ED=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(oD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(oD(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(V(fr),V(gi),V(DD,9))};static \u0275dir=we({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function sO(e){return typeof e=="number"?e:parseInt(e,10)}function aO(e){return typeof e=="number"?e:parseFloat(e)}var tm=(()=>{class e{_validator=Z0;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Z0,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=we({type:e,features:[pi]})}return e})();var cO={provide:Wa,useExisting:bt(()=>nm),multi:!0},nm=(()=>{class e extends tm{min;inputName="min";normalizeInput=t=>aO(t);createValidator=t=>AN(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ut(e)))(i||e)}})();static \u0275dir=we({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Co("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[cn([cO]),gt]})}return e})(),lO={provide:Wa,useExisting:bt(()=>Mi),multi:!0};var Mi=(()=>{class e extends tm{required;inputName="required";normalizeInput=pu;createValidator=t=>RN;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ut(e)))(i||e)}})();static \u0275dir=we({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Co("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[cn([lO]),gt]})}return e})();var uO={provide:Wa,useExisting:bt(()=>rm),multi:!0},rm=(()=>{class e extends tm{maxlength;inputName="maxlength";normalizeInput=t=>sO(t);createValidator=t=>kN(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ut(e)))(i||e)}})();static \u0275dir=we({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Co("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[cn([uO]),gt]})}return e})();var dO=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Bn({type:e});static \u0275inj=mn({})}return e})();var Ko=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Xg,useValue:t.callSetDisabledState??em}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Bn({type:e});static \u0275inj=mn({imports:[dO]})}return e})();var CD=e=>e?(...n)=>e(...n):(...n)=>fetch(...n);var Yo=class extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}},qa=class extends Yo{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},Jo=class extends Yo{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},Zo=class extends Yo{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},gd=(function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e})(gd||{});var Ka=class{constructor(n,{headers:t={},customFetch:r,region:i=gd.Any}={}){this.url=n,this.headers=t,this.region=i,this.fetch=CD(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return qc(this,arguments,void 0,function*(t,r={}){var i;let o,s;try{let{headers:a,method:c,body:l,signal:u,timeout:d}=r,h={},{region:f}=r;f||(f=this.region);let p=new URL(`${this.url}/${t}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=l):typeof l=="string"?(h["Content-Type"]="text/plain",g=l):typeof FormData<"u"&&l instanceof FormData?g=l:(h["Content-Type"]="application/json",g=JSON.stringify(l)):l&&typeof l!="string"&&!(typeof Blob<"u"&&l instanceof Blob)&&!(l instanceof ArrayBuffer)&&!(typeof FormData<"u"&&l instanceof FormData)?g=JSON.stringify(l):g=l;let m=u;d&&(s=new AbortController,o=setTimeout(()=>s.abort(),d),u?(m=s.signal,u.addEventListener("abort",()=>s.abort())):m=s.signal);let y=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:g,signal:m}).catch(w=>{throw new qa(w)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new Jo(y);if(!y.ok)throw new Zo(y);let _=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return _==="application/json"?b=yield y.json():_==="application/octet-stream"||_==="application/pdf"?b=yield y.blob():_==="text/event-stream"?b=y:_==="multipart/form-data"?b=yield y.formData():b=yield y.text(),{data:b,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof Zo||a instanceof Jo?a.context:void 0}}finally{o&&clearTimeout(o)}})}};var ID=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},fO=class{constructor(e){var n,t;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(t=e.isMaybeSingle)!==null&&t!==void 0?t:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let s=null,a=null,c=null,l=o.status,u=o.statusText;if(o.ok){var d,h;if(t.method!=="HEAD"){var f;let y=await o.text();y===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((f=t.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=y:a=JSON.parse(y))}let g=(d=t.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),m=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&m&&m.length>1&&(c=parseInt(m[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(a)&&(a.length>1?(s={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,l=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var p;let g=await o.text();try{s=JSON.parse(g),Array.isArray(s)&&o.status===404&&(a=[],s=null,l=200,u="OK")}catch{o.status===404&&g===""?(l=204,u="No Content"):s={message:g}}if(s&&t.isMaybeSingle&&(!(s==null||(p=s.details)===null||p===void 0)&&p.includes("0 rows"))&&(s=null,l=200,u="OK"),s&&t.shouldThrowOnError)throw new ID(s)}return{error:s,data:a,count:c,status:l,statusText:u}});return this.shouldThrowOnError||(i=i.catch(o=>{var s;let a="",c=o?.cause;if(c){var l,u,d,h;let p=(l=c?.message)!==null&&l!==void 0?l:"",g=(u=c?.code)!==null&&u!==void 0?u:"";a=`${(d=o?.name)!==null&&d!==void 0?d:"FetchError"}: ${o?.message}`,a+=`

Caused by: ${(h=c?.name)!==null&&h!==void 0?h:"Error"}: ${p}`,g&&(a+=` (${g})`),c?.stack&&(a+=`
${c.stack}`)}else{var f;a=(f=o?.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}},hO=class extends fO{select(e){let n=!1,t=(e??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:t,foreignTable:r,referencedTable:i=r}={}){let o=i?`${i}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${e}.${n?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:t=n}={}){let r=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,n,{foreignTable:t,referencedTable:r=t}={}){let i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:t=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var s;let a=[e?"analyze":null,n?"verbose":null,t?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}},SD=new RegExp("[,()]"),Qo=class extends hO{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}regexMatch(e,n){return this.url.searchParams.append(e,`match.${n}`),this}regexIMatch(e,n){return this.url.searchParams.append(e,`imatch.${n}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}isDistinct(e,n){return this.url.searchParams.append(e,`isdistinct.${n}`),this}in(e,n){let t=Array.from(new Set(n)).map(r=>typeof r=="string"&&SD.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${t})`),this}notIn(e,n){let t=Array.from(new Set(n)).map(r=>typeof r=="string"&&SD.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${t})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:t,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");let o=t===void 0?"":`(${t})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,t])=>{this.url.searchParams.append(n,`eq.${t}`)}),this}not(e,n,t){return this.url.searchParams.append(e,`not.${n}.${t}`),this}or(e,{foreignTable:n,referencedTable:t=n}={}){let r=t?`${t}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,n,t){return this.url.searchParams.append(e,`${n}.${t}`),this}},pO=class{constructor(e,{headers:n={},schema:t,fetch:r}){this.url=e,this.headers=new Headers(n),this.schema=t,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,n){let{head:t=!1,count:r}=n??{},i=t?"HEAD":"GET",o=!1,s=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join(""),{url:a,headers:c}=this.cloneRequestState();return a.searchParams.set("select",s),r&&c.append("Prefer",`count=${r}`),new Qo({method:i,url:a,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:t=!0}={}){var r;let i="POST",{url:o,headers:s}=this.cloneRequestState();if(n&&s.append("Prefer",`count=${n}`),t||s.append("Prefer","missing=default"),Array.isArray(e)){let a=e.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(a.length>0){let c=[...new Set(a)].map(l=>`"${l}"`);o.searchParams.set("columns",c.join(","))}}return new Qo({method:i,url:o,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:t=!1,count:r,defaultToNull:i=!0}={}){var o;let s="POST",{url:a,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),n!==void 0&&a.searchParams.set("on_conflict",n),r&&c.append("Prefer",`count=${r}`),i||c.append("Prefer","missing=default"),Array.isArray(e)){let l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){let u=[...new Set(l)].map(d=>`"${d}"`);a.searchParams.set("columns",u.join(","))}}return new Qo({method:s,url:a,headers:c,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var t;let r="PATCH",{url:i,headers:o}=this.cloneRequestState();return n&&o.append("Prefer",`count=${n}`),new Qo({method:r,url:i,headers:o,schema:this.schema,body:e,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:e}={}){var n;let t="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Qo({method:t,url:r,headers:i,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},TD=class xD{constructor(n,{headers:t={},schema:r,fetch:i}={}){this.url=n,this.headers=new Headers(t),this.schemaName=r,this.fetch=i}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new pO(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new xD(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,c=new URL(`${this.url}/rpc/${n}`),l,u=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(u)),d=r&&Object.values(t).some(u);d?(a="POST",l=t):r||i?(a=r?"HEAD":"GET",Object.entries(t).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{c.searchParams.append(f,p)})):(a="POST",l=t);let h=new Headers(this.headers);return d?h.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&h.set("Prefer",`count=${o}`),new Qo({method:a,url:c,headers:h,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};var om=class{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};let t=globalThis.process;if(t){let r=t.versions;if(r&&r.node){let i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let n=this.detectEnvironment();if(n.constructor)return n.constructor;let t=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(t+=`

Suggested solution: ${n.workaround}`),new Error(t)}static createWebSocket(n,t){let r=this.getWebSocketConstructor();return new r(n,t)}static isWebSocketSupported(){try{let n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}},sm=om;var MD="2.93.2";var AD=`realtime-js/${MD}`,RD="1.0.0",am="2.0.0",cm=am;var Ya=1e4,kD=1e3,ND=100,Sr=(function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e})(Sr||{}),Le=(function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e})(Le||{}),zt=(function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e})(zt||{}),lm=(function(e){return e.websocket="websocket",e})(lm||{}),Ai=(function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e})(Ai||{});var md=class{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,t){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var t;return this._isArrayBuffer((t=n.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var t,r;let i=(r=(t=n.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(n){var t,r;let i=(r=(t=n.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(n,t,r){var i,o;let s=n.topic,a=(i=n.ref)!==null&&i!==void 0?i:"",c=(o=n.join_ref)!==null&&o!==void 0?o:"",l=n.payload.event,u=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+l.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+h),p=new DataView(f),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,c.length),p.setUint8(g++,a.length),p.setUint8(g++,s.length),p.setUint8(g++,l.length),p.setUint8(g++,d.length),p.setUint8(g++,t),Array.from(c,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(a,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(s,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(l,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(d,y=>p.setUint8(g++,y.charCodeAt(0)));var m=new Uint8Array(f.byteLength+r.byteLength);return m.set(new Uint8Array(f),0),m.set(new Uint8Array(r),f.byteLength),m.buffer}decode(n,t){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return t(r)}if(typeof n=="string"){let r=JSON.parse(n),[i,o,s,a,c]=r;return t({join_ref:i,ref:o,topic:s,event:a,payload:c})}return t({})}_binaryDecode(n){let t=new DataView(n),r=t.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,t,i)}}_decodeUserBroadcast(n,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=t.getUint8(3),a=t.getUint8(4),c=this.HEADER_LENGTH+4,l=r.decode(n.slice(c,c+i));c=c+i;let u=r.decode(n.slice(c,c+o));c=c+o;let d=r.decode(n.slice(c,c+s));c=c+s;let h=n.slice(c,n.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,p={type:this.BROADCAST_EVENT,event:u,payload:f};return s>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(n){var t;return n instanceof ArrayBuffer||((t=n?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(n,t){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>t.includes(r)))}};var Xo=class{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ve=(function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e})(ve||{}),dm=(e,n,t={})=>{var r;let i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((o,s)=>(o[s]=gO(s,e,n,i),o),{}):{}},gO=(e,n,t,r)=>{let i=n.find(a=>a.name===e),o=i?.type,s=t[e];return o&&!r.includes(o)?OD(o,s):um(s)},OD=(e,n)=>{if(e.charAt(0)==="_"){let t=e.slice(1,e.length);return bO(n,t)}switch(e){case ve.bool:return mO(n);case ve.float4:case ve.float8:case ve.int2:case ve.int4:case ve.int8:case ve.numeric:case ve.oid:return yO(n);case ve.json:case ve.jsonb:return vO(n);case ve.timestamp:return _O(n);case ve.abstime:case ve.date:case ve.daterange:case ve.int4range:case ve.int8range:case ve.money:case ve.reltime:case ve.text:case ve.time:case ve.timestamptz:case ve.timetz:case ve.tsrange:case ve.tstzrange:return um(n);default:return um(n)}},um=e=>e,mO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},yO=e=>{if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return n}return e},vO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},bO=(e,n)=>{if(typeof e!="string")return e;let t=e.length-1,r=e[t];if(e[0]==="{"&&r==="}"){let o,s=e.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>OD(n,a))}return e},_O=e=>typeof e=="string"?e.replace(" ","T"):e,yd=e=>{let n=new URL(e);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};var es=class{constructor(n,t,r={},i=Ya){this.channel=n,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var Ja=class e{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,i){let o=this.cloneDeep(n),s=this.transformState(t),a={},c={};return this.map(o,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=o[l];if(d){let h=u.map(m=>m.presence_ref),f=d.map(m=>m.presence_ref),p=u.filter(m=>f.indexOf(m.presence_ref)<0),g=d.filter(m=>h.indexOf(m.presence_ref)<0);p.length>0&&(a[l]=p),g.length>0&&(c[l]=g)}else a[l]=u}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(n,t,r,i){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var l;let u=(l=n[a])!==null&&l!==void 0?l:[];if(n[a]=this.cloneDeep(c),u.length>0){let d=n[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);n[a].unshift(...h)}r(a,u,c)}),this.map(s,(a,c)=>{let l=n[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),n[a]=l,i(a,l,c),l.length===0&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{let i=n[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Za=(function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e})(Za||{}),zn=(function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e})(zn||{});var Qa=class e{constructor(n,t={config:{}},r){var i,o;if(this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=Le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new es(this,zt.join,this.params,this.timeout),this.rejoinTimer=new Xo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Le.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Ja(this),this.broadcastEndpointURL=yd(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,t=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Le.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Za.PRESENCE]&&this.bindings[Za.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>n?.(zn.CHANNEL_ERROR,f)),this._onClose(()=>n?.(zn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){n?.(zn.SUBSCRIBED);return}else{let g=this.bindings.postgres_changes,m=(p=g?.length)!==null&&p!==void 0?p:0,y=[];for(let v=0;v<m;v++){let _=g[v],{filter:{event:b,schema:w,table:D,filter:C}}=_,E=f&&f[v];if(E&&E.event===b&&e.isFilterValueEqual(E.schema,w)&&e.isFilterValueEqual(E.table,D)&&e.isFilterValueEqual(E.filter,C))y.push(Object.assign(Object.assign({},_),{id:E.id}));else{this.unsubscribe(),this.state=Le.errored,n?.(zn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,n&&n(zn.SUBSCRIBED);return}}).receive("error",f=>{this.state=Le.errored,n?.(zn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{n?.(zn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,t={}){return await this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,t,r){return this.state===Le.joined&&n===Za.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,t,r)}async httpSend(n,t,r={}){var i;if(t==null)return Promise.reject("Payload is required for httpSend()");let o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);let s={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:t,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{let l=await a.json();c=l.error||l.message||c}catch{}return Promise.reject(new Error(c))}async send(n,t={}){var r,i;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:o,payload:s}=n,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);let c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{let l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,c;let l=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),l.receive("ok",()=>o("ok")),l.receive("error",()=>o("error")),l.receive("timeout",()=>o("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Le.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new es(this,zt.leave,{},n),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Le.closed,this.bindings={}}async _fetchWithTimeout(n,t,r){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),s}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new es(this,n,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>ND){let t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var i,o;let s=n.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=zt;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,g,m;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(g=f.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var p,g,m,y,v,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let b=f.id,w=(p=f.filter)===null||p===void 0?void 0:p.event;return b&&((g=t.ids)===null||g===void 0?void 0:g.includes(b))&&(w==="*"||w?.toLocaleLowerCase()===((m=t.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{let b=(v=(y=f?.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return b==="*"||b===((_=t?.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let p=h.data,{schema:g,table:m,commit_timestamp:y,type:v,errors:_}=p;h=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:y,eventType:v,new:{},old:{},errors:_}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===Le.closed}_isJoined(){return this.state===Le.joined}_isJoining(){return this.state===Le.joining}_isLeaving(){return this.state===Le.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){let i=n.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,t){let r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,t))})),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let r in n)if(n[r]!==t[r])return!1;return!0}static isFilterValueEqual(n,t){return(n??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(zt.close,{},n)}_onError(n){this._on(zt.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Le.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=dm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=dm(n.columns,n.old_record)),t}};var fm=()=>{},vd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},DO=[1e3,2e3,5e3,1e4],EO=1e4,CO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Xa=class{constructor(n,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ya,this.transport=null,this.heartbeatIntervalMs=vd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fm,this.ref=0,this.reconnectTimer=null,this.vsn=cm,this.logger=fm,this.conn=null,this.sendBuffer=[],this.serializer=new md,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${n}/${lm.websocket}`,this.httpEndpoint=yd(n),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sm.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");let t=n.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){let t=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){let n=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Sr.connecting:return Ai.Connecting;case Sr.open:return Ai.Open;case Sr.closing:return Ai.Closing;default:return Ai.Closed}}isConnected(){return this.connectionState()===Ai.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,t={config:{}}){let r=`realtime:${n}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Qa(`realtime:${n}`,t,this);return this.channels.push(o),o}}push(n){let{topic:t,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(kD,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},vd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply"&&t.ref&&t.ref===this.pendingHeartbeatRef){let l=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error",l)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:r,event:i,payload:o,ref:s}=t,a=s?`(${s})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${a}`.trim(),o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,o,s)),this._triggerStateCallbacks("message",t)})}_clearTimer(n){var t;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Sr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Sr.open||this.conn.readyState===Sr.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var t;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(t){this.log("error","error in heartbeat callback",t)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(zt.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${n}${r}${i}`}_workerObjectUrl(n){let t;if(n)t=n;else{let r=new Blob([CO],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(n,t=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(n=null){let t,r=!1;if(n)t=n,r=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{let o={access_token:t,version:AD};t&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(zt.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${n}`,t)})}_triggerStateCallbacks(n,t){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${n} callback`,i)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Xo(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var t,r,i,o,s,a,c,l,u,d,h,f;switch(this.transport=(t=n?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:Ya,this.heartbeatIntervalMs=(i=n?.heartbeatIntervalMs)!==null&&i!==void 0?i:vd.HEARTBEAT_INTERVAL,this.worker=(o=n?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=n?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=n?.heartbeatCallback)!==null&&a!==void 0?a:fm,this.vsn=(c=n?.vsn)!==null&&c!==void 0?c:cm,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=n?.reconnectAfterMs)!==null&&l!==void 0?l:p=>DO[p-1]||EO,this.vsn){case RD:this.encode=(u=n?.encode)!==null&&u!==void 0?u:(p,g)=>g(JSON.stringify(p)),this.decode=(d=n?.decode)!==null&&d!==void 0?d:(p,g)=>g(JSON.parse(p));break;case am:this.encode=(h=n?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=n?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}};var ec=class extends Error{constructor(e,n){super(e),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function SO(e,n,t){let r=new URL(n,e);if(t)for(let[i,o]of Object.entries(t))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function IO(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function TO(e){let n=e.fetchImpl??globalThis.fetch;return{async request({method:t,path:r,query:i,body:o,headers:s}){let a=SO(e.baseUrl,r,i),c=await IO(e.auth),l=await n(a,{method:t,headers:I(I(I({},o?{"Content-Type":"application/json"}:{}),c),s),body:o?JSON.stringify(o):void 0}),u=await l.text(),d=(l.headers.get("content-type")||"").includes("application/json"),h=d&&u?JSON.parse(u):u;if(!l.ok){let f=d?h:void 0,p=f?.error;throw new ec(p?.message??`Request failed with status ${l.status}`,{status:l.status,icebergType:p?.type,icebergCode:p?.code,details:f})}return{status:l.status,headers:l.headers,data:h}}}}function bd(e){return e.join("")}var xO=class{constructor(e,n=""){this.client=e,this.prefix=n}async listNamespaces(e){let n=e?{parent:bd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,n){let t={namespace:e.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bd(e.namespace)}`}),!0}catch(n){if(n instanceof ec&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(e,n){try{return await this.createNamespace(e,n)}catch(t){if(t instanceof ec&&t.status===409)return;throw t}}};function ts(e){return e.join("")}var MO=class{constructor(e,n="",t){this.client=e,this.prefix=n,this.accessDelegation=t}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ts(e.namespace)}/tables`})).data.identifiers}async createTable(e,n){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ts(e.namespace)}/tables`,body:n,headers:t})).data.metadata}async updateTable(e,n){let t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ts(e.namespace)}/tables/${e.name}`,body:n});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(e,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ts(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(e){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ts(e.namespace)}/tables/${e.name}`,headers:n})).data.metadata}async tableExists(e){let n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ts(e.namespace)}/tables/${e.name}`,headers:n}),!0}catch(t){if(t instanceof ec&&t.status===404)return!1;throw t}}async createTableIfNotExists(e,n){try{return await this.createTable(e,n)}catch(t){if(t instanceof ec&&t.status===409)return await this.loadTable({namespace:e.namespace,name:n.name});throw t}}},PD=class{constructor(e){let n="v1";e.catalogName&&(n+=`/${e.catalogName}`);let t=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=TO({baseUrl:t,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new xO(this.client,n),this.tableOps=new MO(this.client,n,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,n){return this.namespaceOps.createNamespace(e,n)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,n){return this.tableOps.createTable(e,n)}async updateTable(e,n){return this.tableOps.updateTable(e,n)}async dropTable(e,n){await this.tableOps.dropTable(e,n)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,n){return this.namespaceOps.createNamespaceIfNotExists(e,n)}async createTableIfNotExists(e,n){return this.tableOps.createTableIfNotExists(e,n)}};var wd=class extends Error{constructor(e,n="storage",t,r){super(e),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=t,this.statusCode=r}};function Dd(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var _d=class extends wd{constructor(e,n,t,r="storage"){super(e,r,n,t),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},VD=class extends wd{constructor(e,n,t="storage"){super(e,t),this.name=t==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};var AO=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),RO=e=>{if(typeof e!="object"||e===null)return!1;let n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hm=e=>{if(Array.isArray(e))return e.map(t=>hm(t));if(typeof e=="function"||e!==Object(e))return e;let n={};return Object.entries(e).forEach(([t,r])=>{let i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=hm(r)}),n},kO=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nc(e)}function NO(e,n){if(nc(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n||"default");if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function OO(e){var n=NO(e,"string");return nc(n)=="symbol"?n:n+""}function PO(e,n,t){return(n=OO(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function FD(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function L(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?FD(Object(t),!0).forEach(function(r){PO(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):FD(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var LD=e=>{var n;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(n=e.error)===null||n===void 0?void 0:n.message)||JSON.stringify(e)},FO=async(e,n,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!t?.noResolveJson){let i=e,o=i.status||500;if(typeof i.json=="function")i.json().then(s=>{let a=s?.statusCode||s?.code||o+"";n(new _d(LD(s),o,a,r))}).catch(()=>{if(r==="vectors"){let s=o+"";n(new _d(i.statusText||`HTTP ${o} error`,o,s,r))}else{let s=o+"";n(new _d(i.statusText||`HTTP ${o} error`,o,s,r))}});else{let s=o+"";n(new _d(i.statusText||`HTTP ${o} error`,o,s,r))}}else n(new VD(LD(e),e,r))},LO=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"||e==="HEAD"||!r?L(L({},i),t):(RO(r)?(i.headers=L({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r)):i.body=r,n?.duplex&&(i.duplex=n.duplex),L(L({},i),t))};async function tc(e,n,t,r,i,o,s){return new Promise((a,c)=>{e(t,LO(n,r,i,o)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;if(s==="vectors"){let u=l.headers.get("content-type");if(!u||!u.includes("application/json"))return{}}return l.json()}).then(l=>a(l)).catch(l=>FO(l,c,r,s))})}function jO(e="storage"){return{get:async(n,t,r,i)=>tc(n,"GET",t,r,i,void 0,e),post:async(n,t,r,i,o)=>tc(n,"POST",t,i,o,r,e),put:async(n,t,r,i,o)=>tc(n,"PUT",t,i,o,r,e),head:async(n,t,r,i)=>tc(n,"HEAD",t,L(L({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(n,t,r,i,o)=>tc(n,"DELETE",t,i,o,r,e)}}var VO=jO("storage"),{get:rc,post:De,put:pm,head:BO,remove:gm}=VO,ns=class{constructor(e,n={},t,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.fetch=AO(t),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var n=this;try{return{data:await e(),error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Dd(t))return{data:null,error:t};throw t}}},UO=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Dd(n))return{data:null,error:n};throw n}}},BD;BD=Symbol.toStringTag;var $O=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[BD]="BlobDownloadBuilder",this.promise=null}asStream(){return new UO(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Dd(n))return{data:null,error:n};throw n}}},HO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},zO=class extends ns{constructor(e,n={},t,r){super(e,n,r,"storage"),this.bucketId=t}async uploadOrUpdate(e,n,t,r){var i=this;return i.handleOperation(async()=>{let o,s=L(L({},jD),r),a=L(L({},i.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&t instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",i.encodeMetadata(c)),o.append("",t)):typeof FormData<"u"&&t instanceof FormData?(o=t,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),c&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(c))):(o=t,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),r?.headers&&(a=L(L({},a),r.headers));let l=i._removeEmptyFolders(n),u=i._getFinalPath(l),d=await(e=="PUT"?pm:De)(i.fetch,`${i.url}/object/${u}`,o,L({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{path:l,id:d.Id,fullPath:d.Key}})}async upload(e,n,t){return this.uploadOrUpdate("POST",e,n,t)}async uploadToSignedUrl(e,n,t,r){var i=this;let o=i._removeEmptyFolders(e),s=i._getFinalPath(o),a=new URL(i.url+`/object/upload/sign/${s}`);return a.searchParams.set("token",n),i.handleOperation(async()=>{let c,l=L({upsert:jD.upsert},r),u=L(L({},i.headers),{"x-upsert":String(l.upsert)});return typeof Blob<"u"&&t instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",t)):typeof FormData<"u"&&t instanceof FormData?(c=t,c.append("cacheControl",l.cacheControl)):(c=t,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType),{path:o,fullPath:(await pm(i.fetch,a.toString(),c,{headers:u})).Key}})}async createSignedUploadUrl(e,n){var t=this;return t.handleOperation(async()=>{let r=t._getFinalPath(e),i=L({},t.headers);n?.upsert&&(i["x-upsert"]="true");let o=await De(t.fetch,`${t.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(t.url+o.url),a=s.searchParams.get("token");if(!a)throw new wd("No token returned by API");return{signedUrl:s.toString(),path:e,token:a}})}async update(e,n,t){return this.uploadOrUpdate("PUT",e,n,t)}async move(e,n,t){var r=this;return r.handleOperation(async()=>await De(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:n,destinationBucket:t?.destinationBucket},{headers:r.headers}))}async copy(e,n,t){var r=this;return r.handleOperation(async()=>({path:(await De(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:n,destinationBucket:t?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,n,t){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),o=await De(r.fetch,`${r.url}/object/sign/${i}`,L({expiresIn:n},t?.transform?{transform:t.transform}:{}),{headers:r.headers}),s=t?.download?`&download=${t.download===!0?"":t.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${s}`)}})}async createSignedUrls(e,n,t){var r=this;return r.handleOperation(async()=>{let i=await De(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:n,paths:e},{headers:r.headers}),o=t?.download?`&download=${t.download===!0?"":t.download}`:"";return i.map(s=>L(L({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${o}`):null}))})}download(e,n){let t=typeof n?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(n?.transform||{}),i=r?`?${r}`:"",o=this._getFinalPath(e),s=()=>rc(this.fetch,`${this.url}/${t}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new $O(s,this.shouldThrowOnError)}async info(e){var n=this;let t=n._getFinalPath(e);return n.handleOperation(async()=>hm(await rc(n.fetch,`${n.url}/object/info/${t}`,{headers:n.headers})))}async exists(e){var n=this;let t=n._getFinalPath(e);try{return await BO(n.fetch,`${n.url}/object/${t}`,{headers:n.headers}),{data:!0,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Dd(r)&&r instanceof VD){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,n){let t=this._getFinalPath(e),r=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&r.push(i);let o=typeof n?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(n?.transform||{});s!==""&&r.push(s);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${t}${a}`)}}}async remove(e){var n=this;return n.handleOperation(async()=>await gm(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:e},{headers:n.headers}))}async list(e,n,t){var r=this;return r.handleOperation(async()=>{let i=L(L(L({},HO),n),{},{prefix:e||""});return await De(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},t)})}async listV2(e,n){var t=this;return t.handleOperation(async()=>{let r=L({},e);return await De(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,r,{headers:t.headers},n)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}},WO="2.93.2",ic={"X-Client-Info":`storage-js/${WO}`},GO=class extends ns{constructor(e,n={},t,r){let i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));let o=i.href.replace(/\/$/,""),s=L(L({},ic),n);super(o,s,t,"storage")}async listBuckets(e){var n=this;return n.handleOperation(async()=>{let t=n.listBucketOptionsToQueryString(e);return await rc(n.fetch,`${n.url}/bucket${t}`,{headers:n.headers})})}async getBucket(e){var n=this;return n.handleOperation(async()=>await rc(n.fetch,`${n.url}/bucket/${e}`,{headers:n.headers}))}async createBucket(e,n={public:!1}){var t=this;return t.handleOperation(async()=>await De(t.fetch,`${t.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:t.headers}))}async updateBucket(e,n){var t=this;return t.handleOperation(async()=>await pm(t.fetch,`${t.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:t.headers}))}async emptyBucket(e){var n=this;return n.handleOperation(async()=>await De(n.fetch,`${n.url}/bucket/${e}/empty`,{},{headers:n.headers}))}async deleteBucket(e){var n=this;return n.handleOperation(async()=>await gm(n.fetch,`${n.url}/bucket/${e}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(e){let n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},qO=class extends ns{constructor(e,n={},t){let r=e.replace(/\/$/,""),i=L(L({},ic),n);super(r,i,t,"storage")}async createBucket(e){var n=this;return n.handleOperation(async()=>await De(n.fetch,`${n.url}/bucket`,{name:e},{headers:n.headers}))}async listBuckets(e){var n=this;return n.handleOperation(async()=>{let t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);let r=t.toString(),i=r?`${n.url}/bucket?${r}`:`${n.url}/bucket`;return await rc(n.fetch,i,{headers:n.headers})})}async deleteBucket(e){var n=this;return n.handleOperation(async()=>await gm(n.fetch,`${n.url}/bucket/${e}`,{},{headers:n.headers}))}from(e){var n=this;if(!kO(e))throw new wd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let t=new PD({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(t,{get(i,o){let s=i[o];return typeof s!="function"?s:async(...a)=>{try{return{data:await s.apply(i,a),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}},KO=class extends ns{constructor(e,n={},t){let r=e.replace(/\/$/,""),i=L(L({},ic),{},{"Content-Type":"application/json"},n);super(r,i,t,"vectors")}async createIndex(e){var n=this;return n.handleOperation(async()=>await De(n.fetch,`${n.url}/CreateIndex`,e,{headers:n.headers})||{})}async getIndex(e,n){var t=this;return t.handleOperation(async()=>await De(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:t.headers}))}async listIndexes(e){var n=this;return n.handleOperation(async()=>await De(n.fetch,`${n.url}/ListIndexes`,e,{headers:n.headers}))}async deleteIndex(e,n){var t=this;return t.handleOperation(async()=>await De(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:t.headers})||{})}},YO=class extends ns{constructor(e,n={},t){let r=e.replace(/\/$/,""),i=L(L({},ic),{},{"Content-Type":"application/json"},n);super(r,i,t,"vectors")}async putVectors(e){var n=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await De(n.fetch,`${n.url}/PutVectors`,e,{headers:n.headers})||{})}async getVectors(e){var n=this;return n.handleOperation(async()=>await De(n.fetch,`${n.url}/GetVectors`,e,{headers:n.headers}))}async listVectors(e){var n=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return n.handleOperation(async()=>await De(n.fetch,`${n.url}/ListVectors`,e,{headers:n.headers}))}async queryVectors(e){var n=this;return n.handleOperation(async()=>await De(n.fetch,`${n.url}/QueryVectors`,e,{headers:n.headers}))}async deleteVectors(e){var n=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await De(n.fetch,`${n.url}/DeleteVectors`,e,{headers:n.headers})||{})}},JO=class extends ns{constructor(e,n={},t){let r=e.replace(/\/$/,""),i=L(L({},ic),{},{"Content-Type":"application/json"},n);super(r,i,t,"vectors")}async createBucket(e){var n=this;return n.handleOperation(async()=>await De(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:n.headers})||{})}async getBucket(e){var n=this;return n.handleOperation(async()=>await De(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:e},{headers:n.headers}))}async listBuckets(e={}){var n=this;return n.handleOperation(async()=>await De(n.fetch,`${n.url}/ListVectorBuckets`,e,{headers:n.headers}))}async deleteBucket(e){var n=this;return n.handleOperation(async()=>await De(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:n.headers})||{})}},ZO=class extends JO{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new QO(this.url,this.headers,e,this.fetch)}async createBucket(e){var n=()=>super.createBucket,t=this;return n().call(t,e)}async getBucket(e){var n=()=>super.getBucket,t=this;return n().call(t,e)}async listBuckets(e={}){var n=()=>super.listBuckets,t=this;return n().call(t,e)}async deleteBucket(e){var n=()=>super.deleteBucket,t=this;return n().call(t,e)}},QO=class extends KO{constructor(e,n,t,r){super(e,n,r),this.vectorBucketName=t}async createIndex(e){var n=()=>super.createIndex,t=this;return n().call(t,L(L({},e),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(e={}){var n=()=>super.listIndexes,t=this;return n().call(t,L(L({},e),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(e){var n=()=>super.getIndex,t=this;return n().call(t,t.vectorBucketName,e)}async deleteIndex(e){var n=()=>super.deleteIndex,t=this;return n().call(t,t.vectorBucketName,e)}index(e){return new XO(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},XO=class extends YO{constructor(e,n,t,r,i){super(e,n,i),this.vectorBucketName=t,this.indexName=r}async putVectors(e){var n=()=>super.putVectors,t=this;return n().call(t,L(L({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(e){var n=()=>super.getVectors,t=this;return n().call(t,L(L({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(e={}){var n=()=>super.listVectors,t=this;return n().call(t,L(L({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(e){var n=()=>super.queryVectors,t=this;return n().call(t,L(L({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(e){var n=()=>super.deleteVectors,t=this;return n().call(t,L(L({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},UD=class extends GO{constructor(e,n={},t,r){super(e,n,t,r)}from(e){return new zO(this.url,this.headers,e,this.fetch)}get vectors(){return new ZO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new qO(this.url+"/iceberg",this.headers,this.fetch)}};var Ed="2.93.2";var Ri=30*1e3,Cd=3,Sd=Cd*Ri,$D="http://localhost:9999",HD="supabase.auth.token";var zD={"X-Client-Info":`gotrue-js/${Ed}`};var oc="X-Supabase-Api-Version",mm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},WD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,GD=600*1e3;var Ir=class extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function k(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var Id=class extends Ir{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function qD(e){return k(e)&&e.name==="AuthApiError"}var Wt=class extends Ir{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}},dn=class extends Ir{constructor(n,t,r,i){super(n,r,i),this.name=t,this.status=r}},et=class extends dn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function xd(e){return k(e)&&e.name==="AuthSessionMissingError"}var Wn=class extends dn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},ki=class extends dn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},Ni=class extends dn{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function KD(e){return k(e)&&e.name==="AuthImplicitGrantRedirectError"}var sc=class extends dn{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Td=class extends dn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}};var rs=class extends dn{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}};function Md(e){return k(e)&&e.name==="AuthRetryableFetchError"}var ac=class extends dn{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var Oi=class extends dn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};var Ad="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),YD=` 	
\r=`.split(""),eP=(()=>{let e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<YD.length;n+=1)e[YD[n].charCodeAt(0)]=-2;for(let n=0;n<Ad.length;n+=1)e[Ad[n].charCodeAt(0)]=n;return e})();function JD(e,n,t){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(Ad[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(Ad[r]),n.queuedBits-=6}}function ZD(e,n,t){let r=eP[e];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)t(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ym(e){let n=[],t=s=>{n.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{rP(s,r,t)};for(let s=0;s<e.length;s+=1)ZD(e.charCodeAt(s),i,o);return n.join("")}function tP(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function nP(e,n){for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}tP(r,n)}}function rP(e,n,t){if(n.utf8seq===0){if(e<=127){t(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&t(n.codepoint)}}function Tr(e){let n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};for(let i=0;i<e.length;i+=1)ZD(e.charCodeAt(i),t,r);return new Uint8Array(n)}function QD(e){let n=[];return nP(e,t=>n.push(t)),new Uint8Array(n)}function Gn(e){let n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};return e.forEach(i=>JD(i,t,r)),JD(null,t,r),n.join("")}function XD(e){return Math.round(Date.now()/1e3)+e}function eE(){return Symbol("auth-callback")}var je=()=>typeof window<"u"&&typeof document<"u",Pi={tested:!1,writable:!1},Rd=()=>{if(!je())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pi.tested)return Pi.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Pi.tested=!0,Pi.writable=!0}catch{Pi.tested=!0,Pi.writable=!1}return Pi.writable};function tE(e){let n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{n[i]=r}),n}var kd=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),nE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Fi=async(e,n,t)=>{await e.setItem(n,JSON.stringify(t))},xr=async(e,n)=>{let t=await e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}},We=async(e,n)=>{await e.removeItem(n)},cc=class e{constructor(){this.promise=new e.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}};cc.promiseConstructor=Promise;function lc(e){let n=e.split(".");if(n.length!==3)throw new Oi("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!WD.test(n[r]))throw new Oi("JWT not in base64url format");return{header:JSON.parse(ym(n[0])),payload:JSON.parse(ym(n[1])),signature:Tr(n[2]),raw:{header:n[0],payload:n[1]}}}async function rE(e){return await new Promise(n=>{setTimeout(()=>n(null),e)})}function iE(e,n){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{let s=await e(o);if(!n(o,null,s)){r(s);return}}catch(s){if(!n(o,s)){i(s);return}}})()})}function iP(e){return("0"+e.toString(16)).substr(-2)}function oP(){let n=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,iP).join("")}async function sP(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function aP(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=await sP(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Li(e,n,t=!1){let r=oP(),i=r;t&&(i+="/PASSWORD_RECOVERY"),await Fi(e,`${n}-code-verifier`,i);let o=await aP(r);return[o,r===o?"plain":"s256"]}var cP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oE(e){let n=e.headers.get(oc);if(!n||!n.match(cP))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function sE(e){if(!e)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function aE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var lP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ji(e){if(!lP.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nd(){let e={};return new Proxy(e,{get:(n,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){let r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cE(e,n){return new Proxy(e,{get:(t,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,i)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(t,r,i)}})}function vm(e){return JSON.parse(JSON.stringify(e))}var Vi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uP=[502,503,504];async function lE(e){var n;if(!nE(e))throw new rs(Vi(e),0);if(uP.includes(e.status))throw new rs(Vi(e),e.status);let t;try{t=await e.json()}catch(o){throw new Wt(Vi(o),o)}let r,i=oE(e);if(i&&i.getTime()>=mm["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new ac(Vi(t),e.status,((n=t.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new et}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new ac(Vi(t),e.status,t.weak_password.reasons);throw new Id(Vi(t),e.status||500,r)}var dP=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function P(e,n,t,r){var i;let o=Object.assign({},r?.headers);o[oc]||(o[oc]=mm["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await fP(e,n,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function fP(e,n,t,r,i,o){let s=dP(n,r,i,o),a;try{a=await e(t,Object.assign({},s))}catch(c){throw console.error(c),new rs(Vi(c),0)}if(a.ok||await lE(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await lE(c)}}function Gt(e){var n;let t=null;hP(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=XD(e.expires_in)));let r=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:r},error:null}}function bm(e){let n=Gt(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(n.data.weak_password=e.weak_password),n}function In(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function uE(e){return{data:e,error:null}}function dE(e){let{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=e,s=Wr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function _m(e){return e}function hP(e){return e.access_token&&e.refresh_token&&e.expires_in}var Od=["global","local","others"];var is=class{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=kd(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,t=Od[0]){if(Od.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Od.join(", ")}`);try{return await P(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(k(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,t={}){try{return await P(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:In})}catch(r){if(k(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{let{options:t}=n,r=Wr(n,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await P(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:dE,redirectTo:t?.redirectTo})}catch(t){if(k(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(n){try{return await P(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:In})}catch(t){if(k(t))return{data:{user:null},error:t};throw t}}async listUsers(n){var t,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=await P(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:_m});if(u.error)throw u.error;let d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);l[`${m}Page`]=g}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(k(l))return{data:{users:[]},error:l};throw l}}async getUserById(n){ji(n);try{return await P(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:In})}catch(t){if(k(t))return{data:{user:null},error:t};throw t}}async updateUserById(n,t){ji(n);try{return await P(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:In})}catch(r){if(k(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,t=!1){ji(n);try{return await P(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:In})}catch(r){if(k(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){ji(n.userId);try{let{data:t,error:r}=await P(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(k(t))return{data:null,error:t};throw t}}async _deleteFactor(n){ji(n.userId),ji(n.id);try{return{data:await P(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(k(t))return{data:null,error:t};throw t}}async _listOAuthClients(n){var t,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=await P(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:_m});if(u.error)throw u.error;let d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);l[`${m}Page`]=g}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(k(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(n){try{return await P(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(k(t))return{data:null,error:t};throw t}}async _getOAuthClient(n){try{return await P(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(k(t))return{data:null,error:t};throw t}}async _updateOAuthClient(n,t){try{return await P(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(k(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await P(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(k(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(n){try{return await P(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(k(t))return{data:null,error:t};throw t}}};function wm(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}var Bi={debug:!!(globalThis&&Rd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},uc=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},Pd=class extends uc{};async function Dm(e,n,t){Bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Bi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await t()}finally{Bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(n===0)throw Bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Pd(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Bi.debug)try{let o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function fE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Em(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function hE(e){return parseInt(e,16)}function pE(e){let n=new TextEncoder().encode(e);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function gE(e){var n;let{chainId:t,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:c,resources:l,scheme:u,uri:d,version:h}=e;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((n=e.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let f=Em(e.address),p=u?`${u}://${r}`:r,g=e.statement?`${e.statement}
`:"",m=`${p} wants you to sign in with your Ethereum account:
${f}

${g}`,y=`URI: ${d}
Version: ${h}
Chain ID: ${t}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),c&&(y+=`
Request ID: ${c}`),l){let v=`
Resources:`;for(let _ of l){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);v+=`
- ${_}`}y+=v}return`${m}
${y}`}var Ee=class extends Error{constructor({message:n,code:t,cause:r,name:i}){var o;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}},Ui=class extends Ee{constructor(n,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:n}),this.name="WebAuthnUnknownError",this.originalError=t}};function mE({error:e,options:n}){var t,r,i;let{publicKey:o}=n;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ee({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Ee({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(n.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ee({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ee({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ee({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ee({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Ee({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ee({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let s=window.location.hostname;if(Cm(s)){if(o.rp.id!==s)return new Ee({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ee({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ee({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function yE({error:e,options:n}){let{publicKey:t}=n;if(!t)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ee({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ee({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(Cm(r)){if(t.rpId!==r)return new Ee({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ee({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ee({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ee({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Sm=class{createNewAbortSignal(){if(this.controller){let t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}let n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){let n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}},pP=new Sm;function bE(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:n,user:t,excludeCredentials:r}=e,i=Wr(e,["challenge","user","excludeCredentials"]),o=Tr(n).buffer,s=Object.assign(Object.assign({},t),{id:Tr(t.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:Tr(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function _E(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:n,allowCredentials:t}=e,r=Wr(e,["challenge","allowCredentials"]),i=Tr(n).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let s=0;s<t.length;s++){let a=t[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Tr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function wE(e){var n;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let t=e;return{id:e.id,rawId:e.id,response:{attestationObject:Gn(new Uint8Array(e.response.attestationObject)),clientDataJSON:Gn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(n=t.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function DE(e){var n;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let t=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Gn(new Uint8Array(i.authenticatorData)),clientDataJSON:Gn(new Uint8Array(i.clientDataJSON)),signature:Gn(new Uint8Array(i.signature)),userHandle:i.userHandle?Gn(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=t.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Cm(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function vE(){var e,n;return!!(je()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function gP(e){try{let n=await navigator.credentials.create(e);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Ui("Browser returned unexpected credential type",n)}:{data:null,error:new Ui("Empty credential response",n)}}catch(n){return{data:null,error:mE({error:n,options:e})}}}async function mP(e){try{let n=await navigator.credentials.get(e);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Ui("Browser returned unexpected credential type",n)}:{data:null,error:new Ui("Empty credential response",n)}}catch(n){return{data:null,error:yE({error:n,options:e})}}}var yP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},vP={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Fd(...e){let n=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of e)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(t(s))r[o]=s;else if(n(s)){let a=r[o];n(a)?r[o]=Fd(a,s):r[o]=Fd(s)}else r[o]=s}return r}function bP(e,n){return Fd(yP,e,n||{})}function _P(e,n){return Fd(vP,e,n||{})}var Ld=class{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:t,friendlyName:r,signal:i},o){try{let{data:s,error:a}=await this.client.mfa.challenge({factorId:n,webauthn:t});if(!s)return{data:null,error:a};let c=i??pP.createNewAbortSignal();if(s.webauthn.type==="create"){let{user:l}=s.webauthn.credential_options.publicKey;l.name||(l.name=`${l.id}:${r}`),l.displayName||(l.displayName=l.name)}switch(s.webauthn.type){case"create":{let l=bP(s.webauthn.credential_options.publicKey,o?.create),{data:u,error:d}=await gP({publicKey:l,signal:c});return u?{data:{factorId:n,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{let l=_P(s.webauthn.credential_options.publicKey,o?.request),{data:u,error:d}=await mP(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:l,signal:c}));return u?{data:{factorId:n,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(s){return k(s)?{data:null,error:s}:{data:null,error:new Wt("Unexpected error in challenge",s)}}}async _verify({challengeId:n,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new Ir("rpId is required for WebAuthn authentication")};try{if(!vE())return{data:null,error:new Wt("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this.challenge({factorId:n,webauthn:{rpId:t,rpOrigins:r},signal:i},{request:o});if(!s)return{data:null,error:a};let{webauthn:c}=s;return this._verify({factorId:n,challengeId:s.challengeId,webauthn:{type:c.type,rpId:t,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return k(s)?{data:null,error:s}:{data:null,error:new Wt("Unexpected error in authenticate",s)}}}async _register({friendlyName:n,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new Ir("rpId is required for WebAuthn registration")};try{if(!vE())return{data:null,error:new Wt("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this._enroll({friendlyName:n});if(!s)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===n&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};let{data:c,error:l}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:i},{create:o});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:t,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:l}}catch(s){return k(s)?{data:null,error:s}:{data:null,error:new Wt("Unexpected error in register",s)}}}};fE();var wP={url:$D,storageKey:HD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function EE(e,n,t){return await t()}var os={},DP=(()=>{class e{get jwks(){var t,r;return(r=(t=os[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){os[this.storageKey]=Object.assign(Object.assign({},os[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=os[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){os[this.storageKey]=Object.assign(Object.assign({},os[this.storageKey]),{cachedAt:t})}constructor(t){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},wP),t);if(this.storageKey=s.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&je()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new is({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=kd(s.fetch),this.lock=s.lock||EE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&je()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Dm:this.lock=EE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ld(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Rd()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wm(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=wm(this.memoryStorage)),je()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ed}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},i="none";if(je()&&(r=tE(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),je()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=await this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),KD(s)){let l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}let{session:a,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return k(r)?this._returnResult({error:r}):this._returnResult({error:new Wt("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,i,o;try{let s=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Gt}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(k(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,i,o;try{let s;if("email"in t){let{email:d,password:h,options:f}=t,p=null,g=null;this.flowType==="pkce"&&([p,g]=await Li(this.storage,this.storageKey)),s=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:g},xform:Gt})}else if("phone"in t){let{phone:d,password:h,options:f}=t;s=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Gt})}else throw new ki("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return await We(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(await We(this.storage,`${this.storageKey}-code-verifier`),k(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){let{email:s,password:a,options:c}=t;r=await P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:bm})}else if("phone"in t){let{phone:s,password:a,options:c}=t;r=await P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:bm})}else throw new ki("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new Wn;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(k(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,i,o,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){let{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,i,o,s,a,c,l,u,d,h,f;let p,g;if("message"in t)p=t.message,g=t.signature;else{let{chain:m,wallet:y,statement:v,options:_}=t,b;if(je())if(typeof y=="object")b=y;else{let F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")b=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}let w=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href),D=await b.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let C=Em(D[0]),E=(i=_?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!E){let F=await b.request({method:"eth_chainId"});E=hE(F)}let A={domain:w.host,address:C,statement:v,uri:w.href,version:"1",chainId:E,nonce:(o=_?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=_?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=_?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=_?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=_?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=_?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=gE(A),g=await b.request({method:"personal_sign",params:[pE(p),C]})}try{let{data:m,error:y}=await P(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Gt});if(y)throw y;if(!m||!m.session||!m.user){let v=new Wn;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:y})}catch(m){if(k(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,i,o,s,a,c,l,u,d,h,f,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{let{chain:y,wallet:v,statement:_,options:b}=t,w;if(je())if(typeof v=="object")w=v;else{let C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))w=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}let D=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){let C=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),_?{statement:_}:null)),E;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")E=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)E=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),m=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${D.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(o=(i=b?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=b?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((c=b?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(d=b?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);let C=await w.signMessage(new TextEncoder().encode(g),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=C}}try{let{data:y,error:v}=await P(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Gn(m)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Gt});if(v)throw v;if(!y||!y.session||!y.user){let _=new Wn;return this._returnResult({data:{user:null,session:null},error:_})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(k(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){let r=await xr(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new Td;let{data:s,error:a}=await P(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Gt});if(await We(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let c=new Wn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(await We(this.storage,`${this.storageKey}-code-verifier`),k(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=t,c=await P(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Gt}),{data:l,error:u}=c;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){let d=new Wn;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(k(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,i,o,s,a;try{if("email"in t){let{email:c,options:l}=t,u=null,d=null;this.flowType==="pkce"&&([u,d]=await Li(this.storage,this.storageKey));let{error:h}=await P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){let{phone:c,options:l}=t,{data:u,error:d}=await P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new ki("You must provide either an email or phone number.")}catch(c){if(await We(this.storage,`${this.storageKey}-code-verifier`),k(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var r,i;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(i=t.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=await P(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Gt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(k(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var r,i,o,s,a;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=await Li(this.storage,this.storageKey));let u=await P(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:uE});return!((s=u.data)===null||s===void 0)&&s.url&&je()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(c){if(await We(this.storage,`${this.storageKey}-code-verifier`),k(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{let{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new et;let{error:o}=await P(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(k(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{let r=`${this.url}/resend`;if("email"in t){let{email:i,type:o,options:s}=t,{error:a}=await P(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){let{phone:i,type:o,options:s}=t,{data:a,error:c}=await P(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new ki("You must provide either an email or phone number and a type")}catch(r){if(k(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){let o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=await xr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};let i=t.expires_at?t.expires_at*1e3-Date.now()<Sd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){let a=await xr(this.userStorage,this.storageKey+"-user");a?.user?t.user=a.user:t.user=Nd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};t.user=cE(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}let{data:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;let r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:In}):await this._useSession(async r=>{var i,o,s;let{data:a,error:c}=r;if(c)throw c;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new et}:await P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:In})})}catch(r){if(k(r))return xd(r)&&(await this._removeSession(),await We(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async i=>{let{data:o,error:s}=i;if(s)throw s;if(!o.session)throw new et;let a=o.session,c=null,l=null;this.flowType==="pkce"&&t.email!=null&&([c,l]=await Li(this.storage,this.storageKey));let{data:u,error:d}=await P(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:l}),jwt:a.access_token,xform:In});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(i){if(await We(this.storage,`${this.storageKey}-code-verifier`),k(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new et;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=lc(t.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:c,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(k(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var i;if(!t){let{data:a,error:c}=r;if(c)throw c;t=(i=a.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new et;let{data:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(k(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!je())throw new Ni("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ni(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new sc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ni("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new sc("No code detected.");let{data:_,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;let w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:_.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=t;if(!s||!c||!a||!u)throw new Ni("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;l&&(f=parseInt(l));let p=f-d;p*1e3<=Ri&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);let g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);let{data:m,error:y}=await this._getUser(s);if(y)throw y;let v={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(i){if(k(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){let r=await xr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s&&!xd(s))return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=await this.admin.signOut(a,t);if(c&&!(qD(c)&&(c.status===404||c.status===401||c.status===403)||xd(c)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await We(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){let r=eE(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async r=>{var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Li(this.storage,this.storageKey,!0));try{return await P(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await We(this.storage,`${this.storageKey}-code-verifier`),k(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{let{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(k(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{let{data:i,error:o}=await this._useSession(async s=>{var a,c,l,u,d;let{data:h,error:f}=s;if(f)throw f;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await P(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(o)throw o;return je()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(k(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:c,token:l,access_token:u,nonce:d}=t,h=await P(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Gt}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Wn}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(o){if(await We(this.storage,`${this.storageKey}-code-verifier`),k(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)throw a;return await P(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(k(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return await iE(async o=>(o>0&&await rE(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await P(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gt})),(o,s)=>{let a=200*Math.pow(2,o);return s&&Md(s)&&Date.now()+a-i<Ri})}catch(i){if(this._debug(r,"error",i),k(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){let i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),je()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=await xr(this.storage,this.storageKey);if(o&&this.userStorage){let a=await xr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},await Fi(this.userStorage,this.storageKey+"-user",a)),o.user=(t=a?.user)!==null&&t!==void 0?t:Nd()}else if(o&&!o.user&&!o.user){let a=await xr(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,await We(this.storage,this.storageKey+"-user"),await Fi(this.storage,this.storageKey,o)):o.user=Nd()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Sd;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${Sd}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=await this._callRefreshToken(o.refresh_token);a&&(console.error(a),Md(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=await this._getUser(o.access_token);!c&&a?.user?(o.user=a.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var r,i;if(!t)throw new et;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new cc;let{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new et;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(o,"error",s),k(s)){let a={data:null,error:s};return Md(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,i=!0){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await We(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Fi(this.userStorage,this.storageKey+"-user",{user:r.user});let o=Object.assign({},r);delete o.user;let s=vm(o);await Fi(this.storage,this.storageKey,s)}else{let o=vm(r);await Fi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await We(this.storage,this.storageKey),await We(this.storage,this.storageKey+"-code-verifier"),await We(this.storage,this.storageKey+"-user"),this.userStorage&&await We(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&je()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),Ri);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);let r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);let r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let t=Date.now();try{return await this._useSession(async r=>{let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-t)/Ri);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ri}ms, refresh threshold is ${Cd} ticks`),o<=Cd&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof uc)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!je()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,i){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=await Li(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(c.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):await P(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(k(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await P(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(k(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?wE(t.webauthn.credential_response):DE(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:l}=await P(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))})}catch(r){if(k(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=await P(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:bE(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:_E(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(k(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){let{data:r,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;let{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(t=r?.factors)!==null&&t!==void 0?t:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,i,o,s;if(t)try{let{payload:p}=lc(t),g=null;p.aal&&(g=p.aal);let m=g,{data:{user:y},error:v}=await this.getUser(t);if(v)return this._returnResult({data:null,error:v});((i=(r=y?.factors)===null||r===void 0?void 0:r.filter(w=>w.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");let b=p.amr||[];return{data:{currentLevel:g,nextLevel:m,currentAuthenticationMethods:b},error:null}}catch(p){if(k(p))return this._returnResult({data:null,error:p});throw p}let{data:{session:a},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:l}=lc(a.access_token),u=null;l.aal&&(u=l.aal);let d=u;((s=(o=a.user.factors)===null||o===void 0?void 0:o.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");let f=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await P(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new et})})}catch(r){if(k(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async i=>{let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new et});let a=await P(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&je()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(i){if(k(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,r){try{return await this._useSession(async i=>{let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new et});let a=await P(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&je()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(i){if(k(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{let{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?await P(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new et})})}catch(t){if(k(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(await P(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new et})})}catch(r){if(k(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let i=r.keys.find(c=>c.kid===t);if(i)return i;let o=Date.now();if(i=this.jwks.keys.find(c=>c.kid===t),i&&this.jwks_cached_at+GD>o)return i;let{data:s,error:a}=await P(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=o,i=s.keys.find(c=>c.kid===t),!i)?null:i}async getClaims(t,r={}){try{let i=t;if(!i){let{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});i=p.session.access_token}let{header:o,payload:s,signature:a,raw:{header:c,payload:l}}=lc(i);r?.allowExpired||sE(s.exp);let u=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){let{error:p}=await this.getUser(i);if(p)throw p;return{data:{claims:s,header:o,signature:a},error:null}}let d=aE(o.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,QD(`${c}.${l}`)))throw new Oi("Invalid JWT signature");return{data:{claims:s,header:o,signature:a},error:null}}catch(i){if(k(i))return this._returnResult({data:null,error:i});throw i}}}return e.nextInstanceID={},e})(),Im=DP;var EP=Im,Tm=EP;var CP="2.93.2",dc="";typeof Deno<"u"?dc="deno":typeof document<"u"?dc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dc="react-native":dc="node";var SP={"X-Client-Info":`supabase-js-${dc}/${CP}`},IP={headers:SP},TP={schema:"public"},xP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},MP={};function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fc(e)}function AP(e,n){if(fc(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n||"default");if(fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function RP(e){var n=AP(e,"string");return fc(n)=="symbol"?n:n+""}function kP(e,n,t){return(n=RP(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function CE(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function Ie(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?CE(Object(t),!0).forEach(function(r){kP(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):CE(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var NP=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),OP=()=>Headers,PP=(e,n,t)=>{let r=NP(t),i=OP();return async(o,s)=>{var a;let c=(a=await n())!==null&&a!==void 0?a:e,l=new i(s?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,Ie(Ie({},s),{},{headers:l}))}};function FP(e){return e.endsWith("/")?e:e+"/"}function LP(e,n){var t,r;let{db:i,auth:o,realtime:s,global:a}=e,{db:c,auth:l,realtime:u,global:d}=n,h={db:Ie(Ie({},c),i),auth:Ie(Ie({},l),o),realtime:Ie(Ie({},u),s),storage:{},global:Ie(Ie(Ie({},d),a),{},{headers:Ie(Ie({},(t=d?.headers)!==null&&t!==void 0?t:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function jP(e){let n=e?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(FP(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var VP=class extends Tm{constructor(e){super(e)}},BP=class{constructor(e,n,t){var r,i;this.supabaseUrl=e,this.supabaseKey=n;let o=jP(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);let s=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:TP,realtime:MP,auth:Ie(Ie({},xP),{},{storageKey:s}),global:IP},c=LP(t??{},a);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var l;this.auth=this._initSupabaseAuthClient((l=c.auth)!==null&&l!==void 0?l:{},this.headers,c.global.fetch)}this.fetch=PP(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Ie({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new TD(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new UD(this.storageUrl.href,this.headers,this.fetch,t?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Ka(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,t)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,n,t;if(e.accessToken)return await e.accessToken();let{data:r}=await e.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:t,storage:r,userStorage:i,storageKey:o,flowType:s,lock:a,debug:c,throwOnError:l},u,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new VP({url:this.authUrl.href,headers:Ie(Ie({},h),u),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:t,storage:r,userStorage:i,flowType:s,lock:a,debug:c,throwOnError:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Xa(this.realtimeUrl.href,Ie(Ie({},e),{},{params:Ie(Ie({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,n)=>{this._handleTokenChanged(e,"CLIENT",n?.access_token)})}_handleTokenChanged(e,n,t){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}},SE=(e,n,t)=>new BP(e,n,t);function UP(){if(typeof window<"u")return!1;let e=globalThis.process;if(!e)return!1;let n=e.version;if(n==null)return!1;let t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}UP()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var kt=SE("https://kmbhzpfwhzxpobhjbyvt.supabase.co","sb_publishable_hu-YJAvolnoKaMh2dvPC1w_Ou_W19Av");function $P(e,n){if(e&1&&(x(0,"div",20),R(1),T()),e&2){let t=ca();J(),an(" ",t.errorMessage," ")}}var jd=class e{constructor(n,t){this.router=n;this.cdr=t}username="";password="";errorMessage="";loading=!1;showPassword=!1;async login(){this.errorMessage="",this.loading=!0;let[n,t]=await Promise.all([kt.from("users").select("id").eq("username",this.username).eq("password",this.password).limit(1).maybeSingle(),kt.from("nutritionists").select("id").eq("username",this.username).eq("password",this.password).limit(1).maybeSingle()]);if(this.loading=!1,n.data){localStorage.setItem("userId",n.data.id.toString()),this.router.navigate(["/user-dashboard"]);return}if(t.data){localStorage.setItem("nutritionistId",t.data.id.toString()),this.router.navigate(["/nutri-dashboard"]);return}this.errorMessage="Invalid username or password",this.cdr.detectChanges()}goToSignUp(){this.router.navigate(["/sign-up"])}static \u0275fac=function(t){return new(t||e)(V(Ht),V(wt))};static \u0275cmp=Fe({type:e,selectors:[["app-home"]],decls:27,vars:6,consts:[["form","ngForm"],[1,"page-bg"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],[1,"navbar-brand"],[1,"container","vh-100","d-flex","align-items-center","justify-content-center"],[1,"row","shadow","rounded","overflow-hidden",2,"max-width","900px","width","100%"],[1,"col-md-6","p-0","d-none","d-md-block"],["src","https://lipsum.app/random/640x880/","alt","Loading...",1,"img-fluid","h-100","w-100",2,"object-fit","cover"],[1,"col-md-6","bg-white","p-5","d-flex","flex-column","justify-content-center"],[1,"mb-4","text-center"],[3,"ngSubmit"],["type","email","placeholder","Email","name","username","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],[1,"input-group","mb-3"],["placeholder","Password","name","password","required","",1,"form-control",3,"ngModelChange","type","ngModel"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"btn","btn-primary","w-100","mb-3",3,"disabled"],["class","text-danger text-center mb-2",4,"ngIf"],[1,"text-center"],["role","button",3,"click"],[1,"text-danger","text-center","mb-2"]],template:function(t,r){if(t&1){let i=yi();x(0,"div",1)(1,"nav",2)(2,"div",3)(3,"a",4),R(4,"CalTrack"),T()()(),x(5,"div",5)(6,"div",6)(7,"div",7),at(8,"img",8),T(),x(9,"div",9)(10,"h3",10),R(11,"Sign In"),T(),x(12,"form",11,0),fe("ngSubmit",function(){return ie(i),oe(r.login())}),x(14,"input",12),He("ngModelChange",function(s){return ie(i),Qe(r.username,s)||(r.username=s),oe(s)}),T(),x(15,"div",13)(16,"input",14),He("ngModelChange",function(s){return ie(i),Qe(r.password,s)||(r.password=s),oe(s)}),T(),x(17,"button",15),fe("click",function(){return ie(i),oe(r.showPassword=!r.showPassword)}),R(18," \u{1F441} "),T()(),x(19,"button",16),R(20),T()(),sn(21,$P,2,1,"div",17),x(22,"div",18)(23,"small"),R(24," Don\u2019t have an account? "),x(25,"a",19),fe("click",function(){return ie(i),oe(r.goToSignUp())}),R(26,"Sign up"),T()()()()()()()}if(t&2){let i=la(13);J(14),$e("ngModel",r.username),J(2),Oe("type",r.showPassword?"text":"password"),$e("ngModel",r.password),J(3),Oe("disabled",i.invalid||r.loading),J(),an(" ",r.loading?"Checking...":"Log In"," "),J(),Oe("ngIf",r.errorMessage)}},dependencies:[En,Un,Ko,qo,Cr,Wo,Go,Mi,xi,Ti],styles:[".page-bg[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#498d8d,#e6f6f4,#eefcff)}"]})};function gc(e){return e+.5|0}var Mr=(e,n,t)=>Math.max(Math.min(e,t),n);function hc(e){return Mr(gc(e*2.55),0,255)}function Ar(e){return Mr(gc(e*255),0,255)}function qn(e){return Mr(gc(e/2.55)/100,0,1)}function IE(e){return Mr(gc(e*100),0,100)}var qt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Mm=[..."0123456789ABCDEF"],HP=e=>Mm[e&15],zP=e=>Mm[(e&240)>>4]+Mm[e&15],Vd=e=>(e&240)>>4===(e&15),WP=e=>Vd(e.r)&&Vd(e.g)&&Vd(e.b)&&Vd(e.a);function GP(e){var n=e.length,t;return e[0]==="#"&&(n===4||n===5?t={r:255&qt[e[1]]*17,g:255&qt[e[2]]*17,b:255&qt[e[3]]*17,a:n===5?qt[e[4]]*17:255}:(n===7||n===9)&&(t={r:qt[e[1]]<<4|qt[e[2]],g:qt[e[3]]<<4|qt[e[4]],b:qt[e[5]]<<4|qt[e[6]],a:n===9?qt[e[7]]<<4|qt[e[8]]:255})),t}var qP=(e,n)=>e<255?n(e):"";function KP(e){var n=WP(e)?HP:zP;return e?"#"+n(e.r)+n(e.g)+n(e.b)+qP(e.a,n):void 0}var YP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function AE(e,n,t){let r=n*Math.min(t,1-t),i=(o,s=(o+e/30)%12)=>t-r*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function JP(e,n,t){let r=(i,o=(i+e/60)%6)=>t-t*n*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function ZP(e,n,t){let r=AE(e,1,.5),i;for(n+t>1&&(i=1/(n+t),n*=i,t*=i),i=0;i<3;i++)r[i]*=1-n-t,r[i]+=n;return r}function QP(e,n,t,r,i){return e===i?(n-t)/r+(n<t?6:0):n===i?(t-e)/r+2:(e-n)/r+4}function Am(e){let t=e.r/255,r=e.g/255,i=e.b/255,o=Math.max(t,r,i),s=Math.min(t,r,i),a=(o+s)/2,c,l,u;return o!==s&&(u=o-s,l=a>.5?u/(2-o-s):u/(o+s),c=QP(t,r,i,u,o),c=c*60+.5),[c|0,l||0,a]}function Rm(e,n,t,r){return(Array.isArray(n)?e(n[0],n[1],n[2]):e(n,t,r)).map(Ar)}function km(e,n,t){return Rm(AE,e,n,t)}function XP(e,n,t){return Rm(ZP,e,n,t)}function eF(e,n,t){return Rm(JP,e,n,t)}function RE(e){return(e%360+360)%360}function tF(e){let n=YP.exec(e),t=255,r;if(!n)return;n[5]!==r&&(t=n[6]?hc(+n[5]):Ar(+n[5]));let i=RE(+n[2]),o=+n[3]/100,s=+n[4]/100;return n[1]==="hwb"?r=XP(i,o,s):n[1]==="hsv"?r=eF(i,o,s):r=km(i,o,s),{r:r[0],g:r[1],b:r[2],a:t}}function nF(e,n){var t=Am(e);t[0]=RE(t[0]+n),t=km(t),e.r=t[0],e.g=t[1],e.b=t[2]}function rF(e){if(!e)return;let n=Am(e),t=n[0],r=IE(n[1]),i=IE(n[2]);return e.a<255?`hsla(${t}, ${r}%, ${i}%, ${qn(e.a)})`:`hsl(${t}, ${r}%, ${i}%)`}var TE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},xE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function iF(){let e={},n=Object.keys(xE),t=Object.keys(TE),r,i,o,s,a;for(r=0;r<n.length;r++){for(s=a=n[r],i=0;i<t.length;i++)o=t[i],a=a.replace(o,TE[o]);o=parseInt(xE[s],16),e[a]=[o>>16&255,o>>8&255,o&255]}return e}var Bd;function oF(e){Bd||(Bd=iF(),Bd.transparent=[0,0,0,0]);let n=Bd[e.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:n.length===4?n[3]:255}}var sF=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function aF(e){let n=sF.exec(e),t=255,r,i,o;if(n){if(n[7]!==r){let s=+n[7];t=n[8]?hc(s):Mr(s*255,0,255)}return r=+n[1],i=+n[3],o=+n[5],r=255&(n[2]?hc(r):Mr(r,0,255)),i=255&(n[4]?hc(i):Mr(i,0,255)),o=255&(n[6]?hc(o):Mr(o,0,255)),{r,g:i,b:o,a:t}}}function cF(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${qn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}var xm=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,ss=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function lF(e,n,t){let r=ss(qn(e.r)),i=ss(qn(e.g)),o=ss(qn(e.b));return{r:Ar(xm(r+t*(ss(qn(n.r))-r))),g:Ar(xm(i+t*(ss(qn(n.g))-i))),b:Ar(xm(o+t*(ss(qn(n.b))-o))),a:e.a+t*(n.a-e.a)}}function Ud(e,n,t){if(e){let r=Am(e);r[n]=Math.max(0,Math.min(r[n]+r[n]*t,n===0?360:1)),r=km(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function kE(e,n){return e&&Object.assign(n||{},e)}function ME(e){var n={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(n={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(n.a=Ar(e[3]))):(n=kE(e,{r:0,g:0,b:0,a:1}),n.a=Ar(n.a)),n}function uF(e){return e.charAt(0)==="r"?aF(e):tF(e)}var pc=class e{constructor(n){if(n instanceof e)return n;let t=typeof n,r;t==="object"?r=ME(n):t==="string"&&(r=GP(n)||oF(n)||uF(n)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var n=kE(this._rgb);return n&&(n.a=qn(n.a)),n}set rgb(n){this._rgb=ME(n)}rgbString(){return this._valid?cF(this._rgb):void 0}hexString(){return this._valid?KP(this._rgb):void 0}hslString(){return this._valid?rF(this._rgb):void 0}mix(n,t){if(n){let r=this.rgb,i=n.rgb,o,s=t===o?.5:t,a=2*s-1,c=r.a-i.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;o=1-l,r.r=255&l*r.r+o*i.r+.5,r.g=255&l*r.g+o*i.g+.5,r.b=255&l*r.b+o*i.b+.5,r.a=s*r.a+(1-s)*i.a,this.rgb=r}return this}interpolate(n,t){return n&&(this._rgb=lF(this._rgb,n._rgb,t)),this}clone(){return new e(this.rgb)}alpha(n){return this._rgb.a=Ar(n),this}clearer(n){let t=this._rgb;return t.a*=1-n,this}greyscale(){let n=this._rgb,t=gc(n.r*.3+n.g*.59+n.b*.11);return n.r=n.g=n.b=t,this}opaquer(n){let t=this._rgb;return t.a*=1+n,this}negate(){let n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return Ud(this._rgb,2,n),this}darken(n){return Ud(this._rgb,2,-n),this}saturate(n){return Ud(this._rgb,1,n),this}desaturate(n){return Ud(this._rgb,1,-n),this}rotate(n){return nF(this._rgb,n),this}};function Mn(){}var HE=(()=>{let e=0;return()=>e++})();function Z(e){return e==null}function me(e){if(Array.isArray&&Array.isArray(e))return!0;let n=Object.prototype.toString.call(e);return n.slice(0,7)==="[object"&&n.slice(-6)==="Array]"}function Q(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ce(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Dt(e,n){return Ce(e)?e:n}function B(e,n){return typeof e>"u"?n:e}var zE=(e,n)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/n,Fm=(e,n)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*n:+e;function ge(e,n,t){if(e&&typeof e.call=="function")return e.apply(t,n)}function de(e,n,t,r){let i,o,s;if(me(e))if(o=e.length,r)for(i=o-1;i>=0;i--)n.call(t,e[i],i);else for(i=0;i<o;i++)n.call(t,e[i],i);else if(Q(e))for(s=Object.keys(e),o=s.length,i=0;i<o;i++)n.call(t,e[s[i]],s[i])}function vc(e,n){let t,r,i,o;if(!e||!n||e.length!==n.length)return!1;for(t=0,r=e.length;t<r;++t)if(i=e[t],o=n[t],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Wd(e){if(me(e))return e.map(Wd);if(Q(e)){let n=Object.create(null),t=Object.keys(e),r=t.length,i=0;for(;i<r;++i)n[t[i]]=Wd(e[t[i]]);return n}return e}function WE(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function dF(e,n,t,r){if(!WE(e))return;let i=n[e],o=t[e];Q(i)&&Q(o)?cs(i,o,r):n[e]=Wd(o)}function cs(e,n,t){let r=me(n)?n:[n],i=r.length;if(!Q(e))return e;t=t||{};let o=t.merger||dF,s;for(let a=0;a<i;++a){if(s=r[a],!Q(s))continue;let c=Object.keys(s);for(let l=0,u=c.length;l<u;++l)o(c[l],e,s,t)}return e}function us(e,n){return cs(e,n,{merger:fF})}function fF(e,n,t){if(!WE(e))return;let r=n[e],i=t[e];Q(r)&&Q(i)?us(r,i):Object.prototype.hasOwnProperty.call(n,e)||(n[e]=Wd(i))}var NE={"":e=>e,x:e=>e.x,y:e=>e.y};function hF(e){let n=e.split("."),t=[],r="";for(let i of n)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function pF(e){let n=hF(e);return t=>{for(let r of n){if(r==="")break;t=t&&t[r]}return t}}function Jn(e,n){return(NE[n]||(NE[n]=pF(n)))(e)}function Yd(e){return e.charAt(0).toUpperCase()+e.slice(1)}var ds=e=>typeof e<"u",Kn=e=>typeof e=="function",Lm=(e,n)=>{if(e.size!==n.size)return!1;for(let t of e)if(!n.has(t))return!1;return!0};function GE(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}var ne=Math.PI,ye=2*ne,gF=ye+ne,Gd=Number.POSITIVE_INFINITY,mF=ne/180,Te=ne/2,$i=ne/4,OE=ne*2/3,Yn=Math.log10,fn=Math.sign;function fs(e,n,t){return Math.abs(e-n)<t}function jm(e){let n=Math.round(e);e=fs(e,n,e/1e3)?n:e;let t=Math.pow(10,Math.floor(Yn(e))),r=e/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function qE(e){let n=[],t=Math.sqrt(e),r;for(r=1;r<t;r++)e%r===0&&(n.push(r),n.push(e/r));return t===(t|0)&&n.push(t),n.sort((i,o)=>i-o).pop(),n}function yF(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Wi(e){return!yF(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function KE(e,n){let t=Math.round(e);return t-n<=e&&t+n>=e}function Vm(e,n,t){let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r][t],isNaN(o)||(n.min=Math.min(n.min,o),n.max=Math.max(n.max,o))}function Kt(e){return e*(ne/180)}function Jd(e){return e*(180/ne)}function Bm(e){if(!Ce(e))return;let n=1,t=0;for(;Math.round(e*n)/n!==e;)n*=10,t++;return t}function Um(e,n){let t=n.x-e.x,r=n.y-e.y,i=Math.sqrt(t*t+r*r),o=Math.atan2(r,t);return o<-.5*ne&&(o+=ye),{angle:o,distance:i}}function qd(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function vF(e,n){return(e-n+gF)%ye-ne}function tt(e){return(e%ye+ye)%ye}function hs(e,n,t,r){let i=tt(e),o=tt(n),s=tt(t),a=tt(o-i),c=tt(s-i),l=tt(i-o),u=tt(i-s);return i===o||i===s||r&&o===s||a>c&&l<u}function Ve(e,n,t){return Math.max(n,Math.min(t,e))}function YE(e){return Ve(e,-32768,32767)}function An(e,n,t,r=1e-6){return e>=Math.min(n,t)-r&&e<=Math.max(n,t)+r}function Zd(e,n,t){t=t||(s=>e[s]<n);let r=e.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,t(o)?i=o:r=o;return{lo:i,hi:r}}var Tn=(e,n,t,r)=>Zd(e,t,r?i=>{let o=e[i][n];return o<t||o===t&&e[i+1][n]===t}:i=>e[i][n]<t),JE=(e,n,t)=>Zd(e,t,r=>e[r][n]>=t);function ZE(e,n,t){let r=0,i=e.length;for(;r<i&&e[r]<n;)r++;for(;i>r&&e[i-1]>t;)i--;return r>0||i<e.length?e.slice(r,i):e}var QE=["push","pop","shift","splice","unshift"];function XE(e,n){if(e._chartjs){e._chartjs.listeners.push(n);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),QE.forEach(t=>{let r="_onData"+Yd(t),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...o){let s=i.apply(this,o);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...o)}),s}})})}function $m(e,n){let t=e._chartjs;if(!t)return;let r=t.listeners,i=r.indexOf(n);i!==-1&&r.splice(i,1),!(r.length>0)&&(QE.forEach(o=>{delete e[o]}),delete e._chartjs)}function Hm(e){let n=new Set(e);return n.size===e.length?e:Array.from(n)}var zm=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function Wm(e,n){let t=[],r=!1;return function(...i){t=i,r||(r=!0,zm.call(window,()=>{r=!1,e.apply(n,t)}))}}function eC(e,n){let t;return function(...r){return n?(clearTimeout(t),t=setTimeout(e,n,r)):e.apply(this,r),n}}var Qd=e=>e==="start"?"left":e==="end"?"right":"center",nt=(e,n,t)=>e==="start"?n:e==="end"?t:(n+t)/2,tC=(e,n,t,r)=>e===(r?"left":"right")?t:e==="center"?(n+t)/2:n;function Gm(e,n,t){let r=n.length,i=0,o=r;if(e._sorted){let{iScale:s,vScale:a,_parsed:c}=e,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=s.axis,{min:d,max:h,minDefined:f,maxDefined:p}=s.getUserBounds();if(f){if(i=Math.min(Tn(c,u,d).lo,t?r:Tn(n,u,s.getPixelForValue(d)).lo),l){let g=c.slice(0,i+1).reverse().findIndex(m=>!Z(m[a.axis]));i-=Math.max(0,g)}i=Ve(i,0,r-1)}if(p){let g=Math.max(Tn(c,s.axis,h,!0).hi+1,t?0:Tn(n,u,s.getPixelForValue(h),!0).hi+1);if(l){let m=c.slice(g-1).findIndex(y=>!Z(y[a.axis]));g+=Math.max(0,m)}o=Ve(g,i,r)-i}else o=r-i}return{start:i,count:o}}function qm(e){let{xScale:n,yScale:t,_scaleRanges:r}=e,i={xmin:n.min,xmax:n.max,ymin:t.min,ymax:t.max};if(!r)return e._scaleRanges=i,!0;let o=r.xmin!==n.min||r.xmax!==n.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),o}var $d=e=>e===0||e===1,PE=(e,n,t)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-n)*ye/t)),FE=(e,n,t)=>Math.pow(2,-10*e)*Math.sin((e-n)*ye/t)+1,as={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Te)+1,easeOutSine:e=>Math.sin(e*Te),easeInOutSine:e=>-.5*(Math.cos(ne*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>$d(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>$d(e)?e:PE(e,.075,.3),easeOutElastic:e=>$d(e)?e:FE(e,.075,.3),easeInOutElastic(e){return $d(e)?e:e<.5?.5*PE(e*2,.1125,.45):.5+.5*FE(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let n=1.70158;return(e/=.5)<1?.5*(e*e*(((n*=1.525)+1)*e-n)):.5*((e-=2)*e*(((n*=1.525)+1)*e+n)+2)},easeInBounce:e=>1-as.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?as.easeInBounce(e*2)*.5:as.easeOutBounce(e*2-1)*.5+.5};function Km(e){if(e&&typeof e=="object"){let n=e.toString();return n==="[object CanvasPattern]"||n==="[object CanvasGradient]"}return!1}function Ym(e){return Km(e)?e:new pc(e)}function Nm(e){return Km(e)?e:new pc(e).saturate(.5).darken(.1).hexString()}var bF=["x","y","borderWidth","radius","tension"],_F=["color","borderColor","backgroundColor"];function wF(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"}),e.set("animations",{colors:{type:"color",properties:_F},numbers:{type:"number",properties:bF}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}})}function DF(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var LE=new Map;function EF(e,n){n=n||{};let t=e+JSON.stringify(n),r=LE.get(t);return r||(r=new Intl.NumberFormat(e,n),LE.set(t,r)),r}function ps(e,n,t){return EF(n,t).format(e)}var nC={values(e){return me(e)?e:""+e},numeric(e,n,t){if(e===0)return"0";let r=this.chart.options.locale,i,o=e;if(t.length>1){let l=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(l<1e-4||l>1e15)&&(i="scientific"),o=CF(e,t)}let s=Yn(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),ps(e,r,c)},logarithmic(e,n,t){if(e===0)return"0";let r=t[n].significand||e/Math.pow(10,Math.floor(Yn(e)));return[1,2,3,5,10,15].includes(r)||n>.8*t.length?nC.numeric.call(this,e,n,t):""}};function CF(e,n){let t=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(t)>=1&&e!==Math.floor(e)&&(t=e-Math.floor(e)),t}var bc={formatters:nC};function SF(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:bc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"&&n!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"})}var Nr=Object.create(null),Xd=Object.create(null);function mc(e,n){if(!n)return e;let t=n.split(".");for(let r=0,i=t.length;r<i;++r){let o=t[r];e=e[o]||(e[o]=Object.create(null))}return e}function Om(e,n,t){return typeof n=="string"?cs(mc(e,n),t):cs(mc(e,""),n)}var Pm=class{constructor(n,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Nm(i.backgroundColor),this.hoverBorderColor=(r,i)=>Nm(i.borderColor),this.hoverColor=(r,i)=>Nm(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n),this.apply(t)}set(n,t){return Om(this,n,t)}get(n){return mc(this,n)}describe(n,t){return Om(Xd,n,t)}override(n,t){return Om(Nr,n,t)}route(n,t,r,i){let o=mc(this,n),s=mc(this,r),a="_"+t;Object.defineProperties(o,{[a]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){let c=this[a],l=s[i];return Q(c)?Object.assign({},l,c):B(c,l)},set(c){this[a]=c}}})}apply(n){n.forEach(t=>t(this))}},be=new Pm({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[wF,DF,SF]);function IF(e){return!e||Z(e.size)||Z(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function yc(e,n,t,r,i){let o=n[i];return o||(o=n[i]=e.measureText(i).width,t.push(i)),o>r&&(r=o),r}function rC(e,n,t,r){r=r||{};let i=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==n&&(i=r.data={},o=r.garbageCollect=[],r.font=n),e.save(),e.font=n;let s=0,a=t.length,c,l,u,d,h;for(c=0;c<a;c++)if(d=t[c],d!=null&&!me(d))s=yc(e,i,o,s,d);else if(me(d))for(l=0,u=d.length;l<u;l++)h=d[l],h!=null&&!me(h)&&(s=yc(e,i,o,s,h));e.restore();let f=o.length/2;if(f>t.length){for(c=0;c<f;c++)delete i[o[c]];o.splice(0,f)}return s}function Or(e,n,t){let r=e.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((n-i)*r)/r+i}function Jm(e,n){!n&&!e||(n=n||e.getContext("2d"),n.save(),n.resetTransform(),n.clearRect(0,0,e.width,e.height),n.restore())}function ef(e,n,t,r){Zm(e,n,t,r,null)}function Zm(e,n,t,r,i){let o,s,a,c,l,u,d,h,f=n.pointStyle,p=n.rotation,g=n.radius,m=(p||0)*mF;if(f&&typeof f=="object"&&(o=f.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(t,r),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),f){default:i?e.ellipse(t,r,i/2,g,0,0,ye):e.arc(t,r,g,0,ye),e.closePath();break;case"triangle":u=i?i/2:g,e.moveTo(t+Math.sin(m)*u,r-Math.cos(m)*g),m+=OE,e.lineTo(t+Math.sin(m)*u,r-Math.cos(m)*g),m+=OE,e.lineTo(t+Math.sin(m)*u,r-Math.cos(m)*g),e.closePath();break;case"rectRounded":l=g*.516,c=g-l,s=Math.cos(m+$i)*c,d=Math.cos(m+$i)*(i?i/2-l:c),a=Math.sin(m+$i)*c,h=Math.sin(m+$i)*(i?i/2-l:c),e.arc(t-d,r-a,l,m-ne,m-Te),e.arc(t+h,r-s,l,m-Te,m),e.arc(t+d,r+a,l,m,m+Te),e.arc(t-h,r+s,l,m+Te,m+ne),e.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*g,u=i?i/2:c,e.rect(t-u,r-c,2*u,2*c);break}m+=$i;case"rectRot":d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),e.moveTo(t-d,r-a),e.lineTo(t+h,r-s),e.lineTo(t+d,r+a),e.lineTo(t-h,r+s),e.closePath();break;case"crossRot":m+=$i;case"cross":d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),e.moveTo(t-d,r-a),e.lineTo(t+d,r+a),e.moveTo(t+h,r-s),e.lineTo(t-h,r+s);break;case"star":d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),e.moveTo(t-d,r-a),e.lineTo(t+d,r+a),e.moveTo(t+h,r-s),e.lineTo(t-h,r+s),m+=$i,d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),e.moveTo(t-d,r-a),e.lineTo(t+d,r+a),e.moveTo(t+h,r-s),e.lineTo(t-h,r+s);break;case"line":s=i?i/2:Math.cos(m)*g,a=Math.sin(m)*g,e.moveTo(t-s,r-a),e.lineTo(t+s,r+a);break;case"dash":e.moveTo(t,r),e.lineTo(t+Math.cos(m)*(i?i/2:g),r+Math.sin(m)*g);break;case!1:e.closePath();break}e.fill(),n.borderWidth>0&&e.stroke()}}function xn(e,n,t){return t=t||.5,!n||e&&e.x>n.left-t&&e.x<n.right+t&&e.y>n.top-t&&e.y<n.bottom+t}function _c(e,n){e.save(),e.beginPath(),e.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),e.clip()}function wc(e){e.restore()}function iC(e,n,t,r,i){if(!n)return e.lineTo(t.x,t.y);if(i==="middle"){let o=(n.x+t.x)/2;e.lineTo(o,n.y),e.lineTo(o,t.y)}else i==="after"!=!!r?e.lineTo(n.x,t.y):e.lineTo(t.x,n.y);e.lineTo(t.x,t.y)}function oC(e,n,t,r){if(!n)return e.lineTo(t.x,t.y);e.bezierCurveTo(r?n.cp1x:n.cp2x,r?n.cp1y:n.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function TF(e,n){n.translation&&e.translate(n.translation[0],n.translation[1]),Z(n.rotation)||e.rotate(n.rotation),n.color&&(e.fillStyle=n.color),n.textAlign&&(e.textAlign=n.textAlign),n.textBaseline&&(e.textBaseline=n.textBaseline)}function xF(e,n,t,r,i){if(i.strikethrough||i.underline){let o=e.measureText(r),s=n-o.actualBoundingBoxLeft,a=n+o.actualBoundingBoxRight,c=t-o.actualBoundingBoxAscent,l=t+o.actualBoundingBoxDescent,u=i.strikethrough?(c+l)/2:l;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(s,u),e.lineTo(a,u),e.stroke()}}function MF(e,n){let t=e.fillStyle;e.fillStyle=n.color,e.fillRect(n.left,n.top,n.width,n.height),e.fillStyle=t}function Pr(e,n,t,r,i,o={}){let s=me(n)?n:[n],a=o.strokeWidth>0&&o.strokeColor!=="",c,l;for(e.save(),e.font=i.string,TF(e,o),c=0;c<s.length;++c)l=s[c],o.backdrop&&MF(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),Z(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(l,t,r,o.maxWidth)),e.fillText(l,t,r,o.maxWidth),xF(e,t,r,l,o),r+=Number(i.lineHeight);e.restore()}function gs(e,n){let{x:t,y:r,w:i,h:o,radius:s}=n;e.arc(t+s.topLeft,r+s.topLeft,s.topLeft,1.5*ne,ne,!0),e.lineTo(t,r+o-s.bottomLeft),e.arc(t+s.bottomLeft,r+o-s.bottomLeft,s.bottomLeft,ne,Te,!0),e.lineTo(t+i-s.bottomRight,r+o),e.arc(t+i-s.bottomRight,r+o-s.bottomRight,s.bottomRight,Te,0,!0),e.lineTo(t+i,r+s.topRight),e.arc(t+i-s.topRight,r+s.topRight,s.topRight,0,-Te,!0),e.lineTo(t+s.topLeft,r)}var AF=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,RF=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function kF(e,n){let t=(""+e).match(AF);if(!t||t[1]==="normal")return n*1.2;switch(e=+t[2],t[3]){case"px":return e;case"%":e/=100;break}return n*e}var NF=e=>+e||0;function tf(e,n){let t={},r=Q(n),i=r?Object.keys(n):n,o=Q(e)?r?s=>B(e[s],e[n[s]]):s=>e[s]:()=>e;for(let s of i)t[s]=NF(o(s));return t}function Qm(e){return tf(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Fr(e){return tf(e,["topLeft","topRight","bottomLeft","bottomRight"])}function rt(e){let n=Qm(e);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function Pe(e,n){e=e||{},n=n||be.font;let t=B(e.size,n.size);typeof t=="string"&&(t=parseInt(t,10));let r=B(e.style,n.style);r&&!(""+r).match(RF)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);let i={family:B(e.family,n.family),lineHeight:kF(B(e.lineHeight,n.lineHeight),t),size:t,style:r,weight:B(e.weight,n.weight),string:""};return i.string=IF(i),i}function ms(e,n,t,r){let i=!0,o,s,a;for(o=0,s=e.length;o<s;++o)if(a=e[o],a!==void 0&&(n!==void 0&&typeof a=="function"&&(a=a(n),i=!1),t!==void 0&&me(a)&&(a=a[t%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function sC(e,n,t){let{min:r,max:i}=e,o=Fm(n,(i-r)/2),s=(a,c)=>t&&a===0?0:a+c;return{min:s(r,-Math.abs(o)),max:s(i,o)}}function Zn(e,n){return Object.assign(Object.create(e),n)}function nf(e,n=[""],t,r,i=()=>e[0]){let o=t||e;typeof r>"u"&&(r=lC("_fallback",e));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:r,_getTarget:i,override:a=>nf([a,...e],n,o,r)};return new Proxy(s,{deleteProperty(a,c){return delete a[c],delete a._keys,delete e[0][c],!0},get(a,c){return aC(a,c,()=>UF(c,n,e,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,c){return VE(a).includes(c)},ownKeys(a){return VE(a)},set(a,c,l){let u=a._storage||(a._storage=i());return a[c]=u[c]=l,delete a._keys,!0}})}function zi(e,n,t,r){let i={_cacheable:!1,_proxy:e,_context:n,_subProxy:t,_stack:new Set,_descriptors:Xm(e,r),setContext:o=>zi(e,o,t,r),override:o=>zi(e.override(o),n,t,r)};return new Proxy(i,{deleteProperty(o,s){return delete o[s],delete e[s],!0},get(o,s,a){return aC(o,s,()=>PF(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,s){return Reflect.has(e,s)},ownKeys(){return Reflect.ownKeys(e)},set(o,s,a){return e[s]=a,delete o[s],!0}})}function Xm(e,n={scriptable:!0,indexable:!0}){let{_scriptable:t=n.scriptable,_indexable:r=n.indexable,_allKeys:i=n.allKeys}=e;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Kn(t)?t:()=>t,isIndexable:Kn(r)?r:()=>r}}var OF=(e,n)=>e?e+Yd(n):n,ey=(e,n)=>Q(n)&&e!=="adapters"&&(Object.getPrototypeOf(n)===null||n.constructor===Object);function aC(e,n,t){if(Object.prototype.hasOwnProperty.call(e,n)||n==="constructor")return e[n];let r=t();return e[n]=r,r}function PF(e,n,t){let{_proxy:r,_context:i,_subProxy:o,_descriptors:s}=e,a=r[n];return Kn(a)&&s.isScriptable(n)&&(a=FF(n,a,e,t)),me(a)&&a.length&&(a=LF(n,a,e,s.isIndexable)),ey(n,a)&&(a=zi(a,i,o&&o[n],s)),a}function FF(e,n,t,r){let{_proxy:i,_context:o,_subProxy:s,_stack:a}=t;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let c=n(o,s||r);return a.delete(e),ey(e,c)&&(c=ty(i._scopes,i,e,c)),c}function LF(e,n,t,r){let{_proxy:i,_context:o,_subProxy:s,_descriptors:a}=t;if(typeof o.index<"u"&&r(e))return n[o.index%n.length];if(Q(n[0])){let c=n,l=i._scopes.filter(u=>u!==c);n=[];for(let u of c){let d=ty(l,i,e,u);n.push(zi(d,o,s&&s[e],a))}}return n}function cC(e,n,t){return Kn(e)?e(n,t):e}var jF=(e,n)=>e===!0?n:typeof e=="string"?Jn(n,e):void 0;function VF(e,n,t,r,i){for(let o of n){let s=jF(t,o);if(s){e.add(s);let a=cC(s._fallback,t,i);if(typeof a<"u"&&a!==t&&a!==r)return a}else if(s===!1&&typeof r<"u"&&t!==r)return null}return!1}function ty(e,n,t,r){let i=n._rootScopes,o=cC(n._fallback,t,r),s=[...e,...i],a=new Set;a.add(r);let c=jE(a,s,t,o||t,r);return c===null||typeof o<"u"&&o!==t&&(c=jE(a,s,o,c,r),c===null)?!1:nf(Array.from(a),[""],i,o,()=>BF(n,t,r))}function jE(e,n,t,r,i){for(;t;)t=VF(e,n,t,r,i);return t}function BF(e,n,t){let r=e._getTarget();n in r||(r[n]={});let i=r[n];return me(i)&&Q(t)?t:i||{}}function UF(e,n,t,r){let i;for(let o of n)if(i=lC(OF(o,e),t),typeof i<"u")return ey(e,i)?ty(t,r,e,i):i}function lC(e,n){for(let t of n){if(!t)continue;let r=t[e];if(typeof r<"u")return r}}function VE(e){let n=e._keys;return n||(n=e._keys=$F(e._scopes)),n}function $F(e){let n=new Set;for(let t of e)for(let r of Object.keys(t).filter(i=>!i.startsWith("_")))n.add(r);return Array.from(n)}function ny(e,n,t,r){let{iScale:i}=e,{key:o="r"}=this._parsing,s=new Array(r),a,c,l,u;for(a=0,c=r;a<c;++a)l=a+t,u=n[l],s[a]={r:i.parse(Jn(u,o),l)};return s}var HF=Number.EPSILON||1e-14,ls=(e,n)=>n<e.length&&!e[n].skip&&e[n],uC=e=>e==="x"?"y":"x";function zF(e,n,t,r){let i=e.skip?n:e,o=n,s=t.skip?n:t,a=qd(o,i),c=qd(s,o),l=a/(a+c),u=c/(a+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;let d=r*l,h=r*u;return{previous:{x:o.x-d*(s.x-i.x),y:o.y-d*(s.y-i.y)},next:{x:o.x+h*(s.x-i.x),y:o.y+h*(s.y-i.y)}}}function WF(e,n,t){let r=e.length,i,o,s,a,c,l=ls(e,0);for(let u=0;u<r-1;++u)if(c=l,l=ls(e,u+1),!(!c||!l)){if(fs(n[u],0,HF)){t[u]=t[u+1]=0;continue}i=t[u]/n[u],o=t[u+1]/n[u],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),t[u]=i*s*n[u],t[u+1]=o*s*n[u])}}function GF(e,n,t="x"){let r=uC(t),i=e.length,o,s,a,c=ls(e,0);for(let l=0;l<i;++l){if(s=a,a=c,c=ls(e,l+1),!a)continue;let u=a[t],d=a[r];s&&(o=(u-s[t])/3,a[`cp1${t}`]=u-o,a[`cp1${r}`]=d-o*n[l]),c&&(o=(c[t]-u)/3,a[`cp2${t}`]=u+o,a[`cp2${r}`]=d+o*n[l])}}function qF(e,n="x"){let t=uC(n),r=e.length,i=Array(r).fill(0),o=Array(r),s,a,c,l=ls(e,0);for(s=0;s<r;++s)if(a=c,c=l,l=ls(e,s+1),!!c){if(l){let u=l[n]-c[n];i[s]=u!==0?(l[t]-c[t])/u:0}o[s]=a?l?fn(i[s-1])!==fn(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}WF(e,i,o),GF(e,o,n)}function Hd(e,n,t){return Math.max(Math.min(e,t),n)}function KF(e,n){let t,r,i,o,s,a=xn(e[0],n);for(t=0,r=e.length;t<r;++t)s=o,o=a,a=t<r-1&&xn(e[t+1],n),o&&(i=e[t],s&&(i.cp1x=Hd(i.cp1x,n.left,n.right),i.cp1y=Hd(i.cp1y,n.top,n.bottom)),a&&(i.cp2x=Hd(i.cp2x,n.left,n.right),i.cp2y=Hd(i.cp2y,n.top,n.bottom)))}function dC(e,n,t,r,i){let o,s,a,c;if(n.spanGaps&&(e=e.filter(l=>!l.skip)),n.cubicInterpolationMode==="monotone")qF(e,i);else{let l=r?e[e.length-1]:e[0];for(o=0,s=e.length;o<s;++o)a=e[o],c=zF(l,a,e[Math.min(o+1,s-(r?0:1))%s],n.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}n.capBezierPoints&&KF(e,t)}function rf(){return typeof window<"u"&&typeof document<"u"}function of(e){let n=e.parentNode;return n&&n.toString()==="[object ShadowRoot]"&&(n=n.host),n}function Kd(e,n,t){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*n.parentNode[t])):r=e,r}var sf=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function YF(e,n){return sf(e).getPropertyValue(n)}var JF=["top","right","bottom","left"];function Hi(e,n,t){let r={};t=t?"-"+t:"";for(let i=0;i<4;i++){let o=JF[i];r[o]=parseFloat(e[n+"-"+o+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var ZF=(e,n,t)=>(e>0||n>0)&&(!t||!t.shadowRoot);function QF(e,n){let t=e.touches,r=t&&t.length?t[0]:e,{offsetX:i,offsetY:o}=r,s=!1,a,c;if(ZF(i,o,e.target))a=i,c=o;else{let l=n.getBoundingClientRect();a=r.clientX-l.left,c=r.clientY-l.top,s=!0}return{x:a,y:c,box:s}}function Lr(e,n){if("native"in e)return e;let{canvas:t,currentDevicePixelRatio:r}=n,i=sf(t),o=i.boxSizing==="border-box",s=Hi(i,"padding"),a=Hi(i,"border","width"),{x:c,y:l,box:u}=QF(e,t),d=s.left+(u&&a.left),h=s.top+(u&&a.top),{width:f,height:p}=n;return o&&(f-=s.width+a.width,p-=s.height+a.height),{x:Math.round((c-d)/f*t.width/r),y:Math.round((l-h)/p*t.height/r)}}function XF(e,n,t){let r,i;if(n===void 0||t===void 0){let o=e&&of(e);if(!o)n=e.clientWidth,t=e.clientHeight;else{let s=o.getBoundingClientRect(),a=sf(o),c=Hi(a,"border","width"),l=Hi(a,"padding");n=s.width-l.width-c.width,t=s.height-l.height-c.height,r=Kd(a.maxWidth,o,"clientWidth"),i=Kd(a.maxHeight,o,"clientHeight")}}return{width:n,height:t,maxWidth:r||Gd,maxHeight:i||Gd}}var kr=e=>Math.round(e*10)/10;function fC(e,n,t,r){let i=sf(e),o=Hi(i,"margin"),s=Kd(i.maxWidth,e,"clientWidth")||Gd,a=Kd(i.maxHeight,e,"clientHeight")||Gd,c=XF(e,n,t),{width:l,height:u}=c;if(i.boxSizing==="content-box"){let h=Hi(i,"border","width"),f=Hi(i,"padding");l-=f.width+h.width,u-=f.height+h.height}return l=Math.max(0,l-o.width),u=Math.max(0,r?l/r:u-o.height),l=kr(Math.min(l,s,c.maxWidth)),u=kr(Math.min(u,a,c.maxHeight)),l&&!u&&(u=kr(l/2)),(n!==void 0||t!==void 0)&&r&&c.height&&u>c.height&&(u=c.height,l=kr(Math.floor(u*r))),{width:l,height:u}}function ry(e,n,t){let r=n||1,i=kr(e.height*r),o=kr(e.width*r);e.height=kr(e.height),e.width=kr(e.width);let s=e.canvas;return s.style&&(t||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||s.height!==i||s.width!==o?(e.currentDevicePixelRatio=r,s.height=i,s.width=o,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}var hC=(function(){let e=!1;try{let n={get passive(){return e=!0,!1}};rf()&&(window.addEventListener("test",null,n),window.removeEventListener("test",null,n))}catch{}return e})();function iy(e,n){let t=YF(e,n),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Rr(e,n,t,r){return{x:e.x+t*(n.x-e.x),y:e.y+t*(n.y-e.y)}}function pC(e,n,t,r){return{x:e.x+t*(n.x-e.x),y:r==="middle"?t<.5?e.y:n.y:r==="after"?t<1?e.y:n.y:t>0?n.y:e.y}}function gC(e,n,t,r){let i={x:e.cp2x,y:e.cp2y},o={x:n.cp1x,y:n.cp1y},s=Rr(e,i,t),a=Rr(i,o,t),c=Rr(o,n,t),l=Rr(s,a,t),u=Rr(a,c,t);return Rr(l,u,t)}var e1=function(e,n){return{x(t){return e+e+n-t},setWidth(t){n=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},t1=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,n){return e+n},leftForLtr(e,n){return e}}};function Gi(e,n,t){return e?e1(n,t):t1()}function oy(e,n){let t,r;(n==="ltr"||n==="rtl")&&(t=e.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",n,"important"),e.prevTextDirection=r)}function sy(e,n){n!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",n[0],n[1]))}function mC(e){return e==="angle"?{between:hs,compare:vF,normalize:tt}:{between:An,compare:(n,t)=>n-t,normalize:n=>n}}function BE({start:e,end:n,count:t,loop:r,style:i}){return{start:e%t,end:n%t,loop:r&&(n-e+1)%t===0,style:i}}function n1(e,n,t){let{property:r,start:i,end:o}=t,{between:s,normalize:a}=mC(r),c=n.length,{start:l,end:u,loop:d}=e,h,f;if(d){for(l+=c,u+=c,h=0,f=c;h<f&&s(a(n[l%c][r]),i,o);++h)l--,u--;l%=c,u%=c}return u<l&&(u+=c),{start:l,end:u,loop:d,style:e.style}}function ay(e,n,t){if(!t)return[e];let{property:r,start:i,end:o}=t,s=n.length,{compare:a,between:c,normalize:l}=mC(r),{start:u,end:d,loop:h,style:f}=n1(e,n,t),p=[],g=!1,m=null,y,v,_,b=()=>c(i,_,y)&&a(i,_)!==0,w=()=>a(o,y)===0||c(o,_,y),D=()=>g||b(),C=()=>!g||w();for(let E=u,A=u;E<=d;++E)v=n[E%s],!v.skip&&(y=l(v[r]),y!==_&&(g=c(y,i,o),m===null&&D()&&(m=a(y,i)===0?E:A),m!==null&&C()&&(p.push(BE({start:m,end:E,loop:h,count:s,style:f})),m=null),A=E,_=y));return m!==null&&p.push(BE({start:m,end:d,loop:h,count:s,style:f})),p}function cy(e,n){let t=[],r=e.segments;for(let i=0;i<r.length;i++){let o=ay(r[i],e.points,n);o.length&&t.push(...o)}return t}function r1(e,n,t,r){let i=0,o=n-1;if(t&&!r)for(;i<n&&!e[i].skip;)i++;for(;i<n&&e[i].skip;)i++;for(i%=n,t&&(o+=i);o>i&&e[o%n].skip;)o--;return o%=n,{start:i,end:o}}function i1(e,n,t,r){let i=e.length,o=[],s=n,a=e[n],c;for(c=n+1;c<=t;++c){let l=e[c%i];l.skip||l.stop?a.skip||(r=!1,o.push({start:n%i,end:(c-1)%i,loop:r}),n=s=l.stop?c:null):(s=c,a.skip&&(n=c)),a=l}return s!==null&&o.push({start:n%i,end:s%i,loop:r}),o}function yC(e,n){let t=e.points,r=e.options.spanGaps,i=t.length;if(!i)return[];let o=!!e._loop,{start:s,end:a}=r1(t,i,o,r);if(r===!0)return UE(e,[{start:s,end:a,loop:o}],t,n);let c=a<s?a+i:a,l=!!e._fullLoop&&s===0&&a===i-1;return UE(e,i1(t,s,c,l),t,n)}function UE(e,n,t,r){return!r||!r.setContext||!t?n:o1(e,n,t,r)}function o1(e,n,t,r){let i=e._chart.getContext(),o=$E(e.options),{_datasetIndex:s,options:{spanGaps:a}}=e,c=t.length,l=[],u=o,d=n[0].start,h=d;function f(p,g,m,y){let v=a?-1:1;if(p!==g){for(p+=c;t[p%c].skip;)p-=v;for(;t[g%c].skip;)g+=v;p%c!==g%c&&(l.push({start:p%c,end:g%c,loop:m,style:y}),u=y,d=g%c)}}for(let p of n){d=a?d:p.start;let g=t[d%c],m;for(h=d+1;h<=p.end;h++){let y=t[h%c];m=$E(r.setContext(Zn(i,{type:"segment",p0:g,p1:y,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:s}))),s1(m,u)&&f(d,h-1,p.loop,u),g=y,u=m}d<h-1&&f(d,h-1,p.loop,u)}return l}function $E(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function s1(e,n){if(!n)return!1;let t=[],r=function(i,o){return Km(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(e,r)!==JSON.stringify(n,r)}function zd(e,n,t){return e.options.clip?e[t]:n[t]}function a1(e,n){let{xScale:t,yScale:r}=e;return t&&r?{left:zd(t,n,"left"),right:zd(t,n,"right"),top:zd(r,n,"top"),bottom:zd(r,n,"bottom")}:n}function ly(e,n){let t=n._clip;if(t.disabled)return!1;let r=a1(n,e.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?e.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?e.height:r.bottom+(t.bottom===!0?0:t.bottom)}}var wy=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,t,r,i){let o=t.listeners[i],s=t.duration;o.forEach(a=>a({chart:n,initial:t.initial,numSteps:s,currentStep:Math.min(r-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=zm.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;let o=r.items,s=o.length-1,a=!1,c;for(;s>=0;--s)c=o[s],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(n),a=!0):(o[s]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,r,n,"progress")),o.length||(r.running=!1,this._notify(i,r,n,"complete"),r.initial=!1),t+=o.length}),this._lastDate=n,t===0&&(this._running=!1)}_getAnims(n){let t=this._charts,r=t.get(n);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(n,r)),r}listen(n,t,r){this._getAnims(n).listeners[t].push(r)}add(n,t){!t||!t.length||this._getAnims(n).items.push(...t)}has(n){return this._getAnims(n).items.length>0}start(n){let t=this._charts.get(n);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(n){if(!this._running)return!1;let t=this._charts.get(n);return!(!t||!t.running||!t.items.length)}stop(n){let t=this._charts.get(n);if(!t||!t.items.length)return;let r=t.items,i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(n,t,Date.now(),"complete")}remove(n){return this._charts.delete(n)}},Qn=new wy,vC="transparent",c1={boolean(e,n,t){return t>.5?n:e},color(e,n,t){let r=Ym(e||vC),i=r.valid&&Ym(n||vC);return i&&i.valid?i.mix(r,t).hexString():n},number(e,n,t){return e+(n-e)*t}},Dy=class{constructor(n,t,r,i){let o=t[r];i=ms([n.to,i,o,n.from]);let s=ms([n.from,o,i]);this._active=!0,this._fn=n.fn||c1[n.type||typeof s],this._easing=as[n.easing]||as.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=t,this._prop=r,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(n,t,r){if(this._active){this._notify(!1);let i=this._target[this._prop],o=r-this._start,s=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(s,n.duration)),this._total+=o,this._loop=!!n.loop,this._to=ms([n.to,t,i,n.from]),this._from=ms([n.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){let t=n-this._start,r=this._duration,i=this._prop,o=this._from,s=this._loop,a=this._to,c;if(this._active=o!==a&&(s||t<r),!this._active){this._target[i]=a,this._notify(!0);return}if(t<0){this._target[i]=o;return}c=t/r%2,c=s&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(o,a,c)}wait(){let n=this._promises||(this._promises=[]);return new Promise((t,r)=>{n.push({res:t,rej:r})})}_notify(n){let t=n?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}},gf=class{constructor(n,t){this._chart=n,this._properties=new Map,this.configure(t)}configure(n){if(!Q(n))return;let t=Object.keys(be.animation),r=this._properties;Object.getOwnPropertyNames(n).forEach(i=>{let o=n[i];if(!Q(o))return;let s={};for(let a of t)s[a]=o[a];(me(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,s)})})}_animateOptions(n,t){let r=t.options,i=u1(n,r);if(!i)return[];let o=this._createAnimations(i,r);return r.$shared&&l1(n.options.$animations,r).then(()=>{n.options=r},()=>{}),o}_createAnimations(n,t){let r=this._properties,i=[],o=n.$animations||(n.$animations={}),s=Object.keys(t),a=Date.now(),c;for(c=s.length-1;c>=0;--c){let l=s[c];if(l.charAt(0)==="$")continue;if(l==="options"){i.push(...this._animateOptions(n,t));continue}let u=t[l],d=o[l],h=r.get(l);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){n[l]=u;continue}o[l]=d=new Dy(h,n,l,u),i.push(d)}return i}update(n,t){if(this._properties.size===0){Object.assign(n,t);return}let r=this._createAnimations(n,t);if(r.length)return Qn.add(this._chart,r),!0}};function l1(e,n){let t=[],r=Object.keys(n);for(let i=0;i<r.length;i++){let o=e[r[i]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function u1(e,n){if(!n)return;let t=e.options;if(!t){e.options=n;return}return t.$shared&&(e.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function bC(e,n){let t=e&&e.options||{},r=t.reverse,i=t.min===void 0?n:0,o=t.max===void 0?n:0;return{start:r?o:i,end:r?i:o}}function d1(e,n,t){if(t===!1)return!1;let r=bC(e,t),i=bC(n,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function f1(e){let n,t,r,i;return Q(e)?(n=e.top,t=e.right,r=e.bottom,i=e.left):n=t=r=i=e,{top:n,right:t,bottom:r,left:i,disabled:e===!1}}function vS(e,n){let t=[],r=e._getSortedDatasetMetas(n),i,o;for(i=0,o=r.length;i<o;++i)t.push(r[i].index);return t}function _C(e,n,t,r={}){let i=e.keys,o=r.mode==="single",s,a,c,l;if(n===null)return;let u=!1;for(s=0,a=i.length;s<a;++s){if(c=+i[s],c===t){if(u=!0,r.all)continue;break}l=e.values[c],Ce(l)&&(o||n===0||fn(n)===fn(l))&&(n+=l)}return!u&&!r.all?0:n}function h1(e,n){let{iScale:t,vScale:r}=n,i=t.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",s=Object.keys(e),a=new Array(s.length),c,l,u;for(c=0,l=s.length;c<l;++c)u=s[c],a[c]={[i]:u,[o]:e[u]};return a}function uy(e,n){let t=e&&e.options.stacked;return t||t===void 0&&n.stack!==void 0}function p1(e,n,t){return`${e.id}.${n.id}.${t.stack||t.type}`}function g1(e){let{min:n,max:t,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?n:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function m1(e,n,t){let r=e[n]||(e[n]={});return r[t]||(r[t]={})}function wC(e,n,t,r){for(let i of n.getMatchingVisibleMetas(r).reverse()){let o=e[i.index];if(t&&o>0||!t&&o<0)return i.index}return null}function DC(e,n){let{chart:t,_cachedMeta:r}=e,i=t._stacks||(t._stacks={}),{iScale:o,vScale:s,index:a}=r,c=o.axis,l=s.axis,u=p1(o,s,r),d=n.length,h;for(let f=0;f<d;++f){let p=n[f],{[c]:g,[l]:m}=p,y=p._stacks||(p._stacks={});h=y[l]=m1(i,u,g),h[a]=m,h._top=wC(h,s,!0,r.type),h._bottom=wC(h,s,!1,r.type);let v=h._visualValues||(h._visualValues={});v[a]=m}}function dy(e,n){let t=e.scales;return Object.keys(t).filter(r=>t[r].axis===n).shift()}function y1(e,n){return Zn(e,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}function v1(e,n,t){return Zn(e,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:t,index:n,mode:"default",type:"data"})}function Dc(e,n){let t=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){n=n||e._parsed;for(let i of n){let o=i._stacks;if(!o||o[r]===void 0||o[r][t]===void 0)return;delete o[r][t],o[r]._visualValues!==void 0&&o[r]._visualValues[t]!==void 0&&delete o[r]._visualValues[t]}}}var fy=e=>e==="reset"||e==="none",EC=(e,n)=>n?e:Object.assign({},e),b1=(e,n,t)=>e&&!n.hidden&&n._stacked&&{keys:vS(t,!0),values:null},Vr=(()=>{class e{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=uy(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Dc(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,r=this._cachedMeta,i=this.getDataset(),o=(h,f,p,g)=>h==="x"?f:h==="r"?g:p,s=r.xAxisID=B(i.xAxisID,dy(t,"x")),a=r.yAxisID=B(i.yAxisID,dy(t,"y")),c=r.rAxisID=B(i.rAxisID,dy(t,"r")),l=r.indexAxis,u=r.iAxisID=o(l,s,a,c),d=r.vAxisID=o(l,a,s,c);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(c),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&$m(this._data,this),t._stacked&&Dc(t)}_dataCheck(){let t=this.getDataset(),r=t.data||(t.data=[]),i=this._data;if(Q(r)){let o=this._cachedMeta;this._data=h1(r,o)}else if(i!==r){if(i){$m(i,this);let o=this._cachedMeta;Dc(o),o._parsed=[]}r&&Object.isExtensible(r)&&XE(r,this),this._syncList=[],this._data=r}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let r=this._cachedMeta,i=this.getDataset(),o=!1;this._dataCheck();let s=r._stacked;r._stacked=uy(r.vScale,r),r.stack!==i.stack&&(o=!0,Dc(r),r.stack=i.stack),this._resyncElements(t),(o||s!==r._stacked)&&(DC(this,r._parsed),r._stacked=uy(r.vScale,r))}configure(){let t=this.chart.config,r=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){let{_cachedMeta:i,_data:o}=this,{iScale:s,_stacked:a}=i,c=s.axis,l=t===0&&r===o.length?!0:i._sorted,u=t>0&&i._parsed[t-1],d,h,f;if(this._parsing===!1)i._parsed=o,i._sorted=!0,f=o;else{me(o[t])?f=this.parseArrayData(i,o,t,r):Q(o[t])?f=this.parseObjectData(i,o,t,r):f=this.parsePrimitiveData(i,o,t,r);let p=()=>h[c]===null||u&&h[c]<u[c];for(d=0;d<r;++d)i._parsed[d+t]=h=f[d],l&&(p()&&(l=!1),u=h);i._sorted=l}a&&DC(this,f)}parsePrimitiveData(t,r,i,o){let{iScale:s,vScale:a}=t,c=s.axis,l=a.axis,u=s.getLabels(),d=s===a,h=new Array(o),f,p,g;for(f=0,p=o;f<p;++f)g=f+i,h[f]={[c]:d||s.parse(u[g],g),[l]:a.parse(r[g],g)};return h}parseArrayData(t,r,i,o){let{xScale:s,yScale:a}=t,c=new Array(o),l,u,d,h;for(l=0,u=o;l<u;++l)d=l+i,h=r[d],c[l]={x:s.parse(h[0],d),y:a.parse(h[1],d)};return c}parseObjectData(t,r,i,o){let{xScale:s,yScale:a}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=new Array(o),d,h,f,p;for(d=0,h=o;d<h;++d)f=d+i,p=r[f],u[d]={x:s.parse(Jn(p,c),f),y:a.parse(Jn(p,l),f)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,i){let o=this.chart,s=this._cachedMeta,a=r[t.axis],c={keys:vS(o,!0),values:r._stacks[t.axis]._visualValues};return _C(c,a,s.index,{mode:i})}updateRangeFromParsed(t,r,i,o){let s=i[r.axis],a=s===null?NaN:s,c=o&&i._stacks[r.axis];o&&c&&(o.values=c,a=_C(o,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,r){let i=this._cachedMeta,o=i._parsed,s=i._sorted&&t===i.iScale,a=o.length,c=this._getOtherScale(t),l=b1(r,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=g1(c),f,p;function g(){p=o[f];let m=p[c.axis];return!Ce(p[t.axis])||d>m||h<m}for(f=0;f<a&&!(!g()&&(this.updateRangeFromParsed(u,t,p,l),s));++f);if(s){for(f=a-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(u,t,p,l);break}}return u}getAllParsedValues(t){let r=this._cachedMeta._parsed,i=[],o,s,a;for(o=0,s=r.length;o<s;++o)a=r[o][t.axis],Ce(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){let r=this._cachedMeta,i=r.iScale,o=r.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(t){let r=this._cachedMeta;this.update(t||"default"),r._clip=f1(B(this.options.clip,d1(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,r=this.chart,i=this._cachedMeta,o=i.data||[],s=r.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||o.length-c,u=this.options.drawActiveElementsOnTop,d;for(i.dataset&&i.dataset.draw(t,s,c,l),d=c;d<c+l;++d){let h=o[d];h.hidden||(h.active&&u?a.push(h):h.draw(t,s))}for(d=0;d<a.length;++d)a[d].draw(t,s)}getStyle(t,r){let i=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,r,i){let o=this.getDataset(),s;if(t>=0&&t<this._cachedMeta.data.length){let a=this._cachedMeta.data[t];s=a.$context||(a.$context=v1(this.getContext(),t,a)),s.parsed=this.getParsed(t),s.raw=o.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=y1(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",i){let o=r==="active",s=this._cachedDataOpts,a=t+"-"+r,c=s[a],l=this.enableOptionSharing&&ds(i);if(c)return EC(c,l);let u=this.chart.config,d=u.datasetElementScopeKeys(this._type,t),h=o?[`${t}Hover`,"hover",t,""]:[t,""],f=u.getOptionScopes(this.getDataset(),d),p=Object.keys(be.elements[t]),g=()=>this.getContext(i,o,r),m=u.resolveNamedOptions(f,p,g,h);return m.$shared&&(m.$shared=l,s[a]=Object.freeze(EC(m,l))),m}_resolveAnimations(t,r,i){let o=this.chart,s=this._cachedDataOpts,a=`animation-${r}`,c=s[a];if(c)return c;let l;if(o.options.animation!==!1){let d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,r),f=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(f,this.getContext(t,i,r))}let u=new gf(o,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||fy(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){let i=this.resolveDataElementOptions(t,r),o=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(r,s)||s!==o;return this.updateSharedOptions(s,r,i),{sharedOptions:s,includeOptions:a}}updateElement(t,r,i,o){fy(o)?Object.assign(t,i):this._resolveAnimations(r,o).update(t,i)}updateSharedOptions(t,r,i){t&&!fy(r)&&this._resolveAnimations(void 0,r).update(t,i)}_setStyle(t,r,i,o){t.active=o;let s=this.getStyle(r,o);this._resolveAnimations(r,i,o).update(t,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(t,r,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,r,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let r=this._data,i=this._cachedMeta.data;for(let[c,l,u]of this._syncList)this[c](l,u);this._syncList=[];let o=i.length,s=r.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,t):s<o&&this._removeElements(s,o-s)}_insertElements(t,r,i=!0){let o=this._cachedMeta,s=o.data,a=t+r,c,l=u=>{for(u.length+=r,c=u.length-1;c>=a;c--)u[c]=u[c-r]};for(l(s),c=t;c<a;++c)s[c]=new this.dataElementType;this._parsing&&l(o._parsed),this.parse(t,r),i&&this.updateElements(s,t,r,"reset")}updateElements(t,r,i,o){}_removeElements(t,r){let i=this._cachedMeta;if(this._parsing){let o=i._parsed.splice(t,r);i._stacked&&Dc(i,o)}i.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[r,i,o]=t;this[r](i,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);let i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return e})();function _1(e,n){if(!e._cache.$bar){let t=e.getMatchingVisibleMetas(n),r=[];for(let i=0,o=t.length;i<o;i++)r=r.concat(t[i].controller.getAllParsedValues(e));e._cache.$bar=Hm(r.sort((i,o)=>i-o))}return e._cache.$bar}function w1(e){let n=e.iScale,t=_1(n,e.type),r=n._length,i,o,s,a,c=()=>{s===32767||s===-32768||(ds(a)&&(r=Math.min(r,Math.abs(s-a)||r)),a=s)};for(i=0,o=t.length;i<o;++i)s=n.getPixelForValue(t[i]),c();for(a=void 0,i=0,o=n.ticks.length;i<o;++i)s=n.getPixelForTick(i),c();return r}function D1(e,n,t,r){let i=t.barThickness,o,s;return Z(i)?(o=n.min*t.categoryPercentage,s=t.barPercentage):(o=i*r,s=1),{chunk:o/r,ratio:s,start:n.pixels[e]-o/2}}function E1(e,n,t,r){let i=n.pixels,o=i[e],s=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null,c=t.categoryPercentage;s===null&&(s=o-(a===null?n.end-n.start:a-o)),a===null&&(a=o+o-s);let l=o-(o-Math.min(s,a))/2*c;return{chunk:Math.abs(a-s)/2*c/r,ratio:t.barPercentage,start:l}}function C1(e,n,t,r){let i=t.parse(e[0],r),o=t.parse(e[1],r),s=Math.min(i,o),a=Math.max(i,o),c=s,l=a;Math.abs(s)>Math.abs(a)&&(c=a,l=s),n[t.axis]=l,n._custom={barStart:c,barEnd:l,start:i,end:o,min:s,max:a}}function bS(e,n,t,r){return me(e)?C1(e,n,t,r):n[t.axis]=t.parse(e,r),n}function CC(e,n,t,r){let i=e.iScale,o=e.vScale,s=i.getLabels(),a=i===o,c=[],l,u,d,h;for(l=t,u=t+r;l<u;++l)h=n[l],d={},d[i.axis]=a||i.parse(s[l],l),c.push(bS(h,d,o,l));return c}function hy(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function S1(e,n,t){return e!==0?fn(e):(n.isHorizontal()?1:-1)*(n.min>=t?1:-1)}function I1(e){let n,t,r,i,o;return e.horizontal?(n=e.base>e.x,t="left",r="right"):(n=e.base<e.y,t="bottom",r="top"),n?(i="end",o="start"):(i="start",o="end"),{start:t,end:r,reverse:n,top:i,bottom:o}}function T1(e,n,t,r){let i=n.borderSkipped,o={};if(!i){e.borderSkipped=o;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:c,top:l,bottom:u}=I1(e);i==="middle"&&t&&(e.enableBorderRadius=!0,(t._top||0)===r?i=l:(t._bottom||0)===r?i=u:(o[SC(u,s,a,c)]=!0,i=l)),o[SC(i,s,a,c)]=!0,e.borderSkipped=o}function SC(e,n,t,r){return r?(e=x1(e,n,t),e=IC(e,t,n)):e=IC(e,n,t),e}function x1(e,n,t){return e===n?t:e===t?n:e}function IC(e,n,t){return e==="start"?n:e==="end"?t:e}function M1(e,{inflateAmount:n},t){e.inflateAmount=n==="auto"?t===1?.33:0:n}var A1=(()=>{class e extends Vr{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,r,i,o){return CC(t,r,i,o)}parseArrayData(t,r,i,o){return CC(t,r,i,o)}parseObjectData(t,r,i,o){let{iScale:s,vScale:a}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?c:l,d=a.axis==="x"?c:l,h=[],f,p,g,m;for(f=i,p=i+o;f<p;++f)m=r[f],g={},g[s.axis]=s.parse(Jn(m,u),f),h.push(bS(Jn(m,d),g,a,f));return h}updateRangeFromParsed(t,r,i,o){super.updateRangeFromParsed(t,r,i,o);let s=i._custom;s&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let r=this._cachedMeta,{iScale:i,vScale:o}=r,s=this.getParsed(t),a=s._custom,c=hy(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,i,o){let s=o==="reset",{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),u=c.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(r,o);for(let p=r;p<r+i;p++){let g=this.getParsed(p),m=s||Z(g[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,d),v=(g._stacks||{})[c.axis],_={horizontal:u,base:m.base,enableBorderRadius:!v||hy(g._custom)||a===v._top||a===v._bottom,x:u?m.head:y.center,y:u?y.center:m.head,height:u?y.size:Math.abs(m.size),width:u?Math.abs(m.size):y.size};f&&(_.options=h||this.resolveDataElementOptions(p,t[p].active?"active":o));let b=_.options||t[p].options;T1(_,b,v,a),M1(_,b,d.ratio),this.updateElement(t[p],p,_,o)}}_getStacks(t,r){let{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=i.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(r),l=c&&c[i.axis],u=d=>{let h=d._parsed.find(p=>p[i.axis]===l),f=h&&h[d.vScale.axis];if(Z(f)||isNaN(f))return!0};for(let d of o)if(!(r!==void 0&&u(d))&&((s===!1||a.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let t=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===r).shift()}_getAxis(){let t={},r=this.getFirstScaleIdForIndexAxis();for(let i of this.chart.data.datasets)t[B(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,r)]=!0;return Object.keys(t)}_getStackIndex(t,r,i){let o=this._getStacks(t,i),s=r!==void 0?o.indexOf(r):-1;return s===-1?o.length-1:s}_getRuler(){let t=this.options,r=this._cachedMeta,i=r.iScale,o=[],s,a;for(s=0,a=r.data.length;s<a;++s)o.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));let c=t.barThickness;return{min:c||w1(r),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:r,_stacked:i,index:o},options:{base:s,minBarLength:a}}=this,c=s||0,l=this.getParsed(t),u=l._custom,d=hy(u),h=l[r.axis],f=0,p=i?this.applyStack(r,l,i):h,g,m;p!==h&&(f=p-h,p=h),d&&(h=u.barStart,p=u.barEnd-u.barStart,h!==0&&fn(h)!==fn(u.barEnd)&&(f=0),f+=h);let y=!Z(s)&&!d?s:f,v=r.getPixelForValue(y);if(this.chart.getDataVisibility(t)?g=r.getPixelForValue(f+p):g=v,m=g-v,Math.abs(m)<a){m=S1(m,r,c)*a,h===c&&(v-=m/2);let _=r.getPixelForDecimal(0),b=r.getPixelForDecimal(1),w=Math.min(_,b),D=Math.max(_,b);v=Math.max(Math.min(v,D),w),g=v+m,i&&!d&&(l._stacks[r.axis]._visualValues[o]=r.getValueForPixel(g)-r.getValueForPixel(v))}if(v===r.getPixelForValue(c)){let _=fn(m)*r.getLineWidthForValue(c)/2;v+=_,m-=_}return{size:m,base:v,head:g,center:g+m/2}}_calculateBarIndexPixels(t,r){let i=r.scale,o=this.options,s=o.skipNull,a=B(o.maxBarThickness,1/0),c,l,u=this._getAxisCount();if(r.grouped){let d=s?this._getStackCount(t):r.stackCount,h=o.barThickness==="flex"?E1(t,r,o,d*u):D1(t,r,o,d*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(B(f,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+p;c=h.start+h.chunk*g+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(a,r.min*r.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){let t=this._cachedMeta,r=t.vScale,i=t.data,o=i.length,s=0;for(;s<o;++s)this.getParsed(s)[r.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}return e})(),R1=(()=>{class e extends Vr{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,r,i,o){let s=super.parsePrimitiveData(t,r,i,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+i).radius;return s}parseArrayData(t,r,i,o){let s=super.parseArrayData(t,r,i,o);for(let a=0;a<s.length;a++){let c=r[i+a];s[a]._custom=B(c[2],this.resolveDataElementOptions(a+i).radius)}return s}parseObjectData(t,r,i,o){let s=super.parseObjectData(t,r,i,o);for(let a=0;a<s.length;a++){let c=r[i+a];s[a]._custom=B(c&&c.r&&+c.r,this.resolveDataElementOptions(a+i).radius)}return s}getMaxOverflow(){let t=this._cachedMeta.data,r=0;for(let i=t.length-1;i>=0;--i)r=Math.max(r,t[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=r,a=this.getParsed(t),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y),u=a._custom;return{label:i[t]||"",value:"("+c+", "+l+(u?", "+u:"")+")"}}update(t){let r=this._cachedMeta.data;this.updateElements(r,0,r.length,t)}updateElements(t,r,i,o){let s=o==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(r,o),d=a.axis,h=c.axis;for(let f=r;f<r+i;f++){let p=t[f],g=!s&&this.getParsed(f),m={},y=m[d]=s?a.getPixelForDecimal(.5):a.getPixelForValue(g[d]),v=m[h]=s?c.getBasePixel():c.getPixelForValue(g[h]);m.skip=isNaN(y)||isNaN(v),u&&(m.options=l||this.resolveDataElementOptions(f,p.active?"active":o),s&&(m.options.radius=0)),this.updateElement(p,f,m,o)}}resolveDataElementOptions(t,r){let i=this.getParsed(t),o=super.resolveDataElementOptions(t,r);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let s=o.radius;return r!=="active"&&(o.radius=0),o.radius+=B(i&&i._custom,s),o}}return e})();function k1(e,n,t){let r=1,i=1,o=0,s=0;if(n<ye){let a=e,c=a+n,l=Math.cos(a),u=Math.sin(a),d=Math.cos(c),h=Math.sin(c),f=(_,b,w)=>hs(_,a,c,!0)?1:Math.max(b,b*t,w,w*t),p=(_,b,w)=>hs(_,a,c,!0)?-1:Math.min(b,b*t,w,w*t),g=f(0,l,d),m=f(Te,u,h),y=p(ne,l,d),v=p(ne+Te,u,h);r=(g-y)/2,i=(m-v)/2,o=-(g+y)/2,s=-(m+v)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:s}}var $y=(()=>{class e extends Vr{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let r=t.data,{labels:{pointStyle:i,textAlign:o,color:s,useBorderRadius:a,borderRadius:c}}=t.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((l,u)=>{let h=t.getDatasetMeta(0).controller.getStyle(u);return{text:l,fillStyle:h.backgroundColor,fontColor:s,hidden:!t.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:o,pointStyle:i,borderRadius:a&&(c||h.borderRadius),index:u}}):[]}},onClick(t,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}};constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){let i=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=i;else{let s=l=>+i[l];if(Q(i[t])){let{key:l="value"}=this._parsing;s=u=>+Jn(i[u],l)}let a,c;for(a=t,c=t+r;a<c;++a)o._parsed[a]=s(a)}}_getRotation(){return Kt(this.options.rotation-90)}_getCircumference(){return Kt(this.options.circumference)}_getRotationExtents(){let t=ye,r=-ye;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let o=this.chart.getDatasetMeta(i).controller,s=o._getRotation(),a=o._getCircumference();t=Math.min(t,s),r=Math.max(r,s+a)}return{rotation:t,circumference:r-t}}update(t){let r=this.chart,{chartArea:i}=r,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-a)/2,0),l=Math.min(zE(this.options.cutout,c),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=k1(h,d,l),y=(i.width-a)/f,v=(i.height-a)/p,_=Math.max(Math.min(y,v)/2,0),b=Fm(this.options.radius,_),w=Math.max(b*l,0),D=(b-w)/this._getVisibleDatasetWeightTotal();this.offsetX=g*b,this.offsetY=m*b,o.total=this.calculateTotal(),this.outerRadius=b-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*u,0),this.updateElements(s,0,s.length,t)}_circumference(t,r){let i=this.options,o=this._cachedMeta,s=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||o._parsed[t]===null||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*s/ye)}updateElements(t,r,i,o){let s=o==="reset",a=this.chart,c=a.chartArea,u=a.options.animation,d=(c.left+c.right)/2,h=(c.top+c.bottom)/2,f=s&&u.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(r,o),v=this._getRotation(),_;for(_=0;_<r;++_)v+=this._circumference(_,s);for(_=r;_<r+i;++_){let b=this._circumference(_,s),w=t[_],D={x:d+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+b,circumference:b,outerRadius:g,innerRadius:p};y&&(D.options=m||this.resolveDataElementOptions(_,w.active?"active":o)),v+=b,this.updateElement(w,_,D,o)}}calculateTotal(){let t=this._cachedMeta,r=t.data,i=0,o;for(o=0;o<r.length;o++){let s=t._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!r[o].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){let r=this._cachedMeta.total;return r>0&&!isNaN(t)?ye*(Math.abs(t)/r):0}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=ps(r._parsed[t],i.options.locale);return{label:o[t]||"",value:s}}getMaxBorderWidth(t){let r=0,i=this.chart,o,s,a,c,l;if(!t){for(o=0,s=i.data.datasets.length;o<s;++o)if(i.isDatasetVisible(o)){a=i.getDatasetMeta(o),t=a.data,c=a.controller;break}}if(!t)return 0;for(o=0,s=t.length;o<s;++o)l=c.resolveDataElementOptions(o),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let i=0,o=t.length;i<o;++i){let s=this.resolveDataElementOptions(i);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(t){return Math.max(B(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return e})(),N1=(()=>{class e extends Vr{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let r=this._cachedMeta,{dataset:i,data:o=[],_dataset:s}=r,a=this.chart._animationsDisabled,{start:c,count:l}=Gm(r,o,a);this._drawStart=c,this._drawCount=l,qm(r)&&(c=0,l=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=o;let u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:u},t),this.updateElements(o,c,l,t)}updateElements(t,r,i,o){let s=o==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(r,o),f=a.axis,p=c.axis,{spanGaps:g,segment:m}=this.options,y=Wi(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||o==="none",_=r+i,b=t.length,w=r>0&&this.getParsed(r-1);for(let D=0;D<b;++D){let C=t[D],E=v?C:{};if(D<r||D>=_){E.skip=!0;continue}let A=this.getParsed(D),F=Z(A[p]),W=E[f]=a.getPixelForValue(A[f],D),X=E[p]=s||F?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,A,l):A[p],D);E.skip=isNaN(W)||isNaN(X)||F,E.stop=D>0&&Math.abs(A[f]-w[f])>y,m&&(E.parsed=A,E.raw=u.data[D]),h&&(E.options=d||this.resolveDataElementOptions(D,C.active?"active":o)),v||this.updateElement(C,D,E,o),w=A}}getMaxOverflow(){let t=this._cachedMeta,r=t.dataset,i=r.options&&r.options.borderWidth||0,o=t.data||[];if(!o.length)return i;let s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,s,a)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return e})(),_S=(()=>{class e extends Vr{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let r=t.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:i,color:o}}=t.legend.options;return r.labels.map((s,a)=>{let l=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=ps(r._parsed[t].r,i.options.locale);return{label:o[t]||"",value:s}}parseObjectData(t,r,i,o){return ny.bind(this)(t,r,i,o)}update(t){let r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){let t=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,o)=>{let s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){let t=this.chart,r=t.chartArea,i=t.options,o=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(o/2,0),a=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),c=(s-a)/t.getVisibleDatasetCount();this.outerRadius=s-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,r,i,o){let s=o==="reset",a=this.chart,l=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,h=u.yCenter,f=u.getIndexAngle(0)-.5*ne,p=f,g,m=360/this.countVisibleElements();for(g=0;g<r;++g)p+=this._computeAngle(g,o,m);for(g=r;g<r+i;g++){let y=t[g],v=p,_=p+this._computeAngle(g,o,m),b=a.getDataVisibility(g)?u.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=_,s&&(l.animateScale&&(b=0),l.animateRotate&&(v=_=f));let w={x:d,y:h,innerRadius:0,outerRadius:b,startAngle:v,endAngle:_,options:this.resolveDataElementOptions(g,y.active?"active":o)};this.updateElement(y,g,w,o)}}countVisibleElements(){let t=this._cachedMeta,r=0;return t.data.forEach((i,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&r++}),r}_computeAngle(t,r,i){return this.chart.getDataVisibility(t)?Kt(this.resolveDataElementOptions(t,r).angle||i):0}}return e})(),O1=(()=>{class e extends $y{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return e})(),P1=(()=>{class e extends Vr{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){let r=this._cachedMeta.vScale,i=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(t,r,i,o){return ny.bind(this)(t,r,i,o)}update(t){let r=this._cachedMeta,i=r.dataset,o=r.data||[],s=r.iScale.getLabels();if(i.points=o,t!=="resize"){let a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);let c={_loop:!0,_fullLoop:s.length===o.length,options:a};this.updateElement(i,void 0,c,t)}this.updateElements(o,0,o.length,t)}updateElements(t,r,i,o){let s=this._cachedMeta.rScale,a=o==="reset";for(let c=r;c<r+i;c++){let l=t[c],u=this.resolveDataElementOptions(c,l.active?"active":o),d=s.getPointPositionForValue(c,this.getParsed(c).r),h=a?s.xCenter:d.x,f=a?s.yCenter:d.y,p={x:h,y:f,angle:d.angle,skip:isNaN(h)||isNaN(f),options:u};this.updateElement(l,c,p,o)}}}return e})(),F1=(()=>{class e extends Vr{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=r,a=this.getParsed(t),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y);return{label:i[t]||"",value:"("+c+", "+l+")"}}update(t){let r=this._cachedMeta,{data:i=[]}=r,o=this.chart._animationsDisabled,{start:s,count:a}=Gm(r,i,o);if(this._drawStart=s,this._drawCount=a,qm(r)&&(s=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:l}=r;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=i;let u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(c,void 0,{animated:!o,options:u},t)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,s,a,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,r,i,o){let s=o==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,o),h=this.getSharedOptions(d),f=this.includeOptions(o,h),p=a.axis,g=c.axis,{spanGaps:m,segment:y}=this.options,v=Wi(m)?m:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||s||o==="none",b=r>0&&this.getParsed(r-1);for(let w=r;w<r+i;++w){let D=t[w],C=this.getParsed(w),E=_?D:{},A=Z(C[g]),F=E[p]=a.getPixelForValue(C[p],w),W=E[g]=s||A?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,C,l):C[g],w);E.skip=isNaN(F)||isNaN(W)||A,E.stop=w>0&&Math.abs(C[p]-b[p])>v,y&&(E.parsed=C,E.raw=u.data[w]),f&&(E.options=h||this.resolveDataElementOptions(w,D.active?"active":o)),_||this.updateElement(D,w,E,o),b=C}this.updateSharedOptions(h,o,d)}getMaxOverflow(){let t=this._cachedMeta,r=t.data||[];if(!this.options.showLine){let c=0;for(let l=r.length-1;l>=0;--l)c=Math.max(c,r[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}let i=t.dataset,o=i.options&&i.options.borderWidth||0;if(!r.length)return o;let s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(o,s,a)/2}}return e})(),L1=Object.freeze({__proto__:null,BarController:A1,BubbleController:R1,DoughnutController:$y,LineController:N1,PieController:O1,PolarAreaController:_S,RadarController:P1,ScatterController:F1});function qi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Ey=class e{static override(n){Object.assign(e.prototype,n)}options;constructor(n){this.options=n||{}}init(){}formats(){return qi()}parse(){return qi()}format(){return qi()}add(){return qi()}diff(){return qi()}startOf(){return qi()}endOf(){return qi()}},j1={_date:Ey};function V1(e,n,t,r){let{controller:i,data:o,_sorted:s}=e,a=i._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&n===a.axis&&n!=="r"&&s&&o.length){let l=a._reversePixels?JE:Tn;if(r){if(i._sharedOptions){let u=o[0],d=typeof u.getRange=="function"&&u.getRange(n);if(d){let h=l(o,n,t-d),f=l(o,n,t+d);return{lo:h.lo,hi:f.hi}}}}else{let u=l(o,n,t);if(c){let{vScale:d}=i._cachedMeta,{_parsed:h}=e,f=h.slice(0,u.lo+1).reverse().findIndex(g=>!Z(g[d.axis]));u.lo-=Math.max(0,f);let p=h.slice(u.hi).findIndex(g=>!Z(g[d.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:o.length-1}}function kc(e,n,t,r,i){let o=e.getSortedVisibleDatasetMetas(),s=t[n];for(let a=0,c=o.length;a<c;++a){let{index:l,data:u}=o[a],{lo:d,hi:h}=V1(o[a],n,s,i);for(let f=d;f<=h;++f){let p=u[f];p.skip||r(p,l,f)}}}function B1(e){let n=e.indexOf("x")!==-1,t=e.indexOf("y")!==-1;return function(r,i){let o=n?Math.abs(r.x-i.x):0,s=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function py(e,n,t,r,i){let o=[];return!i&&!e.isPointInArea(n)||kc(e,t,n,function(a,c,l){!i&&!xn(a,e.chartArea,0)||a.inRange(n.x,n.y,r)&&o.push({element:a,datasetIndex:c,index:l})},!0),o}function U1(e,n,t,r){let i=[];function o(s,a,c){let{startAngle:l,endAngle:u}=s.getProps(["startAngle","endAngle"],r),{angle:d}=Um(s,{x:n.x,y:n.y});hs(d,l,u)&&i.push({element:s,datasetIndex:a,index:c})}return kc(e,t,n,o),i}function $1(e,n,t,r,i,o){let s=[],a=B1(t),c=Number.POSITIVE_INFINITY;function l(u,d,h){let f=u.inRange(n.x,n.y,i);if(r&&!f)return;let p=u.getCenterPoint(i);if(!(!!o||e.isPointInArea(p))&&!f)return;let m=a(n,p);m<c?(s=[{element:u,datasetIndex:d,index:h}],c=m):m===c&&s.push({element:u,datasetIndex:d,index:h})}return kc(e,t,n,l),s}function gy(e,n,t,r,i,o){return!o&&!e.isPointInArea(n)?[]:t==="r"&&!r?U1(e,n,t,i):$1(e,n,t,r,i,o)}function TC(e,n,t,r,i){let o=[],s=t==="x"?"inXRange":"inYRange",a=!1;return kc(e,t,n,(c,l,u)=>{c[s]&&c[s](n[t],i)&&(o.push({element:c,datasetIndex:l,index:u}),a=a||c.inRange(n.x,n.y,i))}),r&&!a?[]:o}var H1={evaluateInteractionItems:kc,modes:{index(e,n,t,r){let i=Lr(n,e),o=t.axis||"x",s=t.includeInvisible||!1,a=t.intersect?py(e,i,o,r,s):gy(e,i,o,!1,r,s),c=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(l=>{let u=a[0].index,d=l.data[u];d&&!d.skip&&c.push({element:d,datasetIndex:l.index,index:u})}),c):[]},dataset(e,n,t,r){let i=Lr(n,e),o=t.axis||"xy",s=t.includeInvisible||!1,a=t.intersect?py(e,i,o,r,s):gy(e,i,o,!1,r,s);if(a.length>0){let c=a[0].datasetIndex,l=e.getDatasetMeta(c).data;a=[];for(let u=0;u<l.length;++u)a.push({element:l[u],datasetIndex:c,index:u})}return a},point(e,n,t,r){let i=Lr(n,e),o=t.axis||"xy",s=t.includeInvisible||!1;return py(e,i,o,r,s)},nearest(e,n,t,r){let i=Lr(n,e),o=t.axis||"xy",s=t.includeInvisible||!1;return gy(e,i,o,t.intersect,r,s)},x(e,n,t,r){let i=Lr(n,e);return TC(e,i,"x",t.intersect,r)},y(e,n,t,r){let i=Lr(n,e);return TC(e,i,"y",t.intersect,r)}}},wS=["left","top","right","bottom"];function Ec(e,n){return e.filter(t=>t.pos===n)}function xC(e,n){return e.filter(t=>wS.indexOf(t.pos)===-1&&t.box.axis===n)}function Cc(e,n){return e.sort((t,r)=>{let i=n?r:t,o=n?t:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function z1(e){let n=[],t,r,i,o,s,a;for(t=0,r=(e||[]).length;t<r;++t)i=e[t],{position:o,options:{stack:s,stackWeight:a=1}}=i,n.push({index:t,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&o+s,stackWeight:a});return n}function W1(e){let n={};for(let t of e){let{stack:r,pos:i,stackWeight:o}=t;if(!r||!wS.includes(i))continue;let s=n[r]||(n[r]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return n}function G1(e,n){let t=W1(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=n,o,s,a;for(o=0,s=e.length;o<s;++o){a=e[o];let{fullSize:c}=a.box,l=t[a.stack],u=l&&a.stackWeight/l.weight;a.horizontal?(a.width=u?u*r:c&&n.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:c&&n.availableHeight)}return t}function q1(e){let n=z1(e),t=Cc(n.filter(l=>l.box.fullSize),!0),r=Cc(Ec(n,"left"),!0),i=Cc(Ec(n,"right")),o=Cc(Ec(n,"top"),!0),s=Cc(Ec(n,"bottom")),a=xC(n,"x"),c=xC(n,"y");return{fullSize:t,leftAndTop:r.concat(o),rightAndBottom:i.concat(c).concat(s).concat(a),chartArea:Ec(n,"chartArea"),vertical:r.concat(i).concat(c),horizontal:o.concat(s).concat(a)}}function MC(e,n,t,r){return Math.max(e[t],n[t])+Math.max(e[r],n[r])}function DS(e,n){e.top=Math.max(e.top,n.top),e.left=Math.max(e.left,n.left),e.bottom=Math.max(e.bottom,n.bottom),e.right=Math.max(e.right,n.right)}function K1(e,n,t,r){let{pos:i,box:o}=t,s=e.maxPadding;if(!Q(i)){t.size&&(e[i]-=t.size);let d=r[t.stack]||{size:0,count:1};d.size=Math.max(d.size,t.horizontal?o.height:o.width),t.size=d.size/d.count,e[i]+=t.size}o.getPadding&&DS(s,o.getPadding());let a=Math.max(0,n.outerWidth-MC(s,e,"left","right")),c=Math.max(0,n.outerHeight-MC(s,e,"top","bottom")),l=a!==e.w,u=c!==e.h;return e.w=a,e.h=c,t.horizontal?{same:l,other:u}:{same:u,other:l}}function Y1(e){let n=e.maxPadding;function t(r){let i=Math.max(n[r]-e[r],0);return e[r]+=i,i}e.y+=t("top"),e.x+=t("left"),t("right"),t("bottom")}function J1(e,n){let t=n.maxPadding;function r(i){let o={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{o[s]=Math.max(n[s],t[s])}),o}return r(e?["left","right"]:["top","bottom"])}function Tc(e,n,t,r){let i=[],o,s,a,c,l,u;for(o=0,s=e.length,l=0;o<s;++o){a=e[o],c=a.box,c.update(a.width||n.w,a.height||n.h,J1(a.horizontal,n));let{same:d,other:h}=K1(n,t,a,r);l|=d&&i.length,u=u||h,c.fullSize||i.push(a)}return l&&Tc(i,n,t,r)||u}function af(e,n,t,r,i){e.top=t,e.left=n,e.right=n+r,e.bottom=t+i,e.width=r,e.height=i}function AC(e,n,t,r){let i=t.padding,{x:o,y:s}=n;for(let a of e){let c=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/l.weight||1;if(a.horizontal){let d=n.w*u,h=l.size||c.height;ds(l.start)&&(s=l.start),c.fullSize?af(c,i.left,s,t.outerWidth-i.right-i.left,h):af(c,n.left+l.placed,s,d,h),l.start=s,l.placed+=d,s=c.bottom}else{let d=n.h*u,h=l.size||c.width;ds(l.start)&&(o=l.start),c.fullSize?af(c,o,i.top,h,t.outerHeight-i.bottom-i.top):af(c,o,n.top+l.placed,h,d),l.start=o,l.placed+=d,o=c.right}}n.x=o,n.y=s}var ct={addBox(e,n){e.boxes||(e.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(t){n.draw(t)}}]},e.boxes.push(n)},removeBox(e,n){let t=e.boxes?e.boxes.indexOf(n):-1;t!==-1&&e.boxes.splice(t,1)},configure(e,n,t){n.fullSize=t.fullSize,n.position=t.position,n.weight=t.weight},update(e,n,t,r){if(!e)return;let i=rt(e.options.layout.padding),o=Math.max(n-i.width,0),s=Math.max(t-i.height,0),a=q1(e.boxes),c=a.vertical,l=a.horizontal;de(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});let u=c.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:n,outerHeight:t,padding:i,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),h=Object.assign({},i);DS(h,rt(r));let f=Object.assign({maxPadding:h,w:o,h:s,x:i.left,y:i.top},i),p=G1(c.concat(l),d);Tc(a.fullSize,f,d,p),Tc(c,f,d,p),Tc(l,f,d,p)&&Tc(c,f,d,p),Y1(f),AC(a.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,AC(a.rightAndBottom,f,d,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},de(a.chartArea,g=>{let m=g.box;Object.assign(m,e.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}},mf=class{acquireContext(n,t){}releaseContext(n){return!1}addEventListener(n,t,r){}removeEventListener(n,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(n,t,r,i){return t=Math.max(0,t||n.width),r=r||n.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(n){return!0}updateConfig(n){}},Cy=class extends mf{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}},hf="$chartjs",Z1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},RC=e=>e===null||e==="";function Q1(e,n){let t=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[hf]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",RC(i)){let o=iy(e,"width");o!==void 0&&(e.width=o)}if(RC(r))if(e.style.height==="")e.height=e.width/(n||2);else{let o=iy(e,"height");o!==void 0&&(e.height=o)}return e}var ES=hC?{passive:!0}:!1;function X1(e,n,t){e&&e.addEventListener(n,t,ES)}function eL(e,n,t){e&&e.canvas&&e.canvas.removeEventListener(n,t,ES)}function tL(e,n){let t=Z1[e.type]||e.type,{x:r,y:i}=Lr(e,n);return{type:t,chart:n,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function yf(e,n){for(let t of e)if(t===n||t.contains(n))return!0}function nL(e,n,t){let r=e.canvas,i=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||yf(a.addedNodes,r),s=s&&!yf(a.removedNodes,r);s&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function rL(e,n,t){let r=e.canvas,i=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||yf(a.removedNodes,r),s=s&&!yf(a.addedNodes,r);s&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}var Mc=new Map,kC=0;function CS(){let e=window.devicePixelRatio;e!==kC&&(kC=e,Mc.forEach((n,t)=>{t.currentDevicePixelRatio!==e&&n()}))}function iL(e,n){Mc.size||window.addEventListener("resize",CS),Mc.set(e,n)}function oL(e){Mc.delete(e),Mc.size||window.removeEventListener("resize",CS)}function sL(e,n,t){let r=e.canvas,i=r&&of(r);if(!i)return;let o=Wm((a,c)=>{let l=i.clientWidth;t(a,c),l<i.clientWidth&&t()},window),s=new ResizeObserver(a=>{let c=a[0],l=c.contentRect.width,u=c.contentRect.height;l===0&&u===0||o(l,u)});return s.observe(i),iL(e,o),s}function my(e,n,t){t&&t.disconnect(),n==="resize"&&oL(e)}function aL(e,n,t){let r=e.canvas,i=Wm(o=>{e.ctx!==null&&t(tL(o,e))},e);return X1(r,n,i),i}var Sy=class extends mf{acquireContext(n,t){let r=n&&n.getContext&&n.getContext("2d");return r&&r.canvas===n?(Q1(n,t),r):null}releaseContext(n){let t=n.canvas;if(!t[hf])return!1;let r=t[hf].initial;["height","width"].forEach(o=>{let s=r[o];Z(s)?t.removeAttribute(o):t.setAttribute(o,s)});let i=r.style||{};return Object.keys(i).forEach(o=>{t.style[o]=i[o]}),t.width=t.width,delete t[hf],!0}addEventListener(n,t,r){this.removeEventListener(n,t);let i=n.$proxies||(n.$proxies={}),s={attach:nL,detach:rL,resize:sL}[t]||aL;i[t]=s(n,t,r)}removeEventListener(n,t){let r=n.$proxies||(n.$proxies={}),i=r[t];if(!i)return;({attach:my,detach:my,resize:my}[t]||eL)(n,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,t,r,i){return fC(n,t,r,i)}isAttached(n){let t=n&&of(n);return!!(t&&t.isConnected)}};function cL(e){return!rf()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Cy:Sy}var hn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(n){let{x:t,y:r}=this.getProps(["x","y"],n);return{x:t,y:r}}hasValue(){return Wi(this.x)&&Wi(this.y)}getProps(n,t){let r=this.$animations;if(!t||!r)return this;let i={};return n.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}};function lL(e,n){let t=e.options.ticks,r=uL(e),i=Math.min(t.maxTicksLimit||r,r),o=t.major.enabled?fL(n):[],s=o.length,a=o[0],c=o[s-1],l=[];if(s>i)return hL(n,l,o,s/i),l;let u=dL(o,n,i);if(s>0){let d,h,f=s>1?Math.round((c-a)/(s-1)):null;for(cf(n,l,u,Z(f)?0:a-f,a),d=0,h=s-1;d<h;d++)cf(n,l,u,o[d],o[d+1]);return cf(n,l,u,c,Z(f)?n.length:c+f),l}return cf(n,l,u),l}function uL(e){let n=e.options.offset,t=e._tickSize(),r=e._length/t+(n?0:1),i=e._maxLength/t;return Math.floor(Math.min(r,i))}function dL(e,n,t){let r=pL(e),i=n.length/t;if(!r)return Math.max(i,1);let o=qE(r);for(let s=0,a=o.length-1;s<a;s++){let c=o[s];if(c>i)return c}return Math.max(i,1)}function fL(e){let n=[],t,r;for(t=0,r=e.length;t<r;t++)e[t].major&&n.push(t);return n}function hL(e,n,t,r){let i=0,o=t[0],s;for(r=Math.ceil(r),s=0;s<e.length;s++)s===o&&(n.push(e[s]),i++,o=t[i*r])}function cf(e,n,t,r,i){let o=B(r,0),s=Math.min(B(i,e.length),e.length),a=0,c,l,u;for(t=Math.ceil(t),i&&(c=i-r,t=c/Math.floor(c/t)),u=o;u<0;)a++,u=Math.round(o+a*t);for(l=Math.max(o,0);l<s;l++)l===u&&(n.push(e[l]),a++,u=Math.round(o+a*t))}function pL(e){let n=e.length,t,r;if(n<2)return!1;for(r=e[0],t=1;t<n;++t)if(e[t]-e[t-1]!==r)return!1;return r}var gL=e=>e==="left"?"right":e==="right"?"left":e,NC=(e,n,t)=>n==="top"||n==="left"?e[n]+t:e[n]-t,OC=(e,n)=>Math.min(n||e,e);function PC(e,n){let t=[],r=e.length/n,i=e.length,o=0;for(;o<i;o+=r)t.push(e[Math.floor(o)]);return t}function mL(e,n,t){let r=e.ticks.length,i=Math.min(n,r-1),o=e._startPixel,s=e._endPixel,a=1e-6,c=e.getPixelForTick(i),l;if(!(t&&(r===1?l=Math.max(c-o,s-c):n===0?l=(e.getPixelForTick(1)-c)/2:l=(c-e.getPixelForTick(i-1))/2,c+=i<n?l:-l,c<o-a||c>s+a)))return c}function yL(e,n){de(e,t=>{let r=t.gc,i=r.length/2,o;if(i>n){for(o=0;o<i;++o)delete t.data[r[o]];r.splice(0,i)}})}function Sc(e){return e.drawTicks?e.tickLength:0}function FC(e,n){if(!e.display)return 0;let t=Pe(e.font,n),r=rt(e.padding);return(me(e.text)?e.text.length:1)*t.lineHeight+r.height}function vL(e,n){return Zn(e,{scale:n,type:"scale"})}function bL(e,n,t){return Zn(e,{tick:t,index:n,type:"tick"})}function _L(e,n,t){let r=Qd(e);return(t&&n!=="right"||!t&&n==="right")&&(r=gL(r)),r}function wL(e,n,t,r){let{top:i,left:o,bottom:s,right:a,chart:c}=e,{chartArea:l,scales:u}=c,d=0,h,f,p,g=s-i,m=a-o;if(e.isHorizontal()){if(f=nt(r,o,a),Q(t)){let y=Object.keys(t)[0],v=t[y];p=u[y].getPixelForValue(v)+g-n}else t==="center"?p=(l.bottom+l.top)/2+g-n:p=NC(e,t,n);h=a-o}else{if(Q(t)){let y=Object.keys(t)[0],v=t[y];f=u[y].getPixelForValue(v)-m+n}else t==="center"?f=(l.left+l.right)/2-m+n:f=NC(e,t,n);p=nt(r,s,i),d=t==="left"?-Te:Te}return{titleX:f,titleY:p,maxWidth:h,rotation:d}}var Yi=class e extends hn{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,t){return n}getUserBounds(){let{_userMin:n,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return n=Dt(n,Number.POSITIVE_INFINITY),t=Dt(t,Number.NEGATIVE_INFINITY),r=Dt(r,Number.POSITIVE_INFINITY),i=Dt(i,Number.NEGATIVE_INFINITY),{min:Dt(n,r),max:Dt(t,i),minDefined:Ce(n),maxDefined:Ce(t)}}getMinMax(n){let{min:t,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),s;if(i&&o)return{min:t,max:r};let a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)s=a[c].controller.getMinMax(this,n),i||(t=Math.min(t,s.min)),o||(r=Math.max(r,s.max));return t=o&&t>r?r:t,r=i&&t>r?t:r,{min:Dt(t,Dt(r,t)),max:Dt(r,Dt(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}getLabelItems(n=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(n))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ge(this.options.beforeUpdate,[this])}update(n,t,r){let{beginAtZero:i,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=sC(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?PC(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=lL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let n=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,n=!n),this._startPixel=t,this._endPixel=r,this._reversePixels=n,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ge(this.options.afterUpdate,[this])}beforeSetDimensions(){ge(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ge(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),ge(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ge(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){let t=this.options.ticks,r,i,o;for(r=0,i=n.length;r<i;r++)o=n[r],o.label=ge(t.callback,[o.value,r,n],this)}afterTickToLabelConversion(){ge(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ge(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let n=this.options,t=n.ticks,r=OC(this.ticks.length,n.ticks.maxTicksLimit),i=t.minRotation||0,o=t.maxRotation,s=i,a,c,l;if(!this._isVisible()||!t.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}let u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=Ve(this.chart.width-d,0,this.maxWidth);a=n.offset?this.maxWidth/r:f/(r-1),d+6>a&&(a=f/(r-(n.offset?.5:1)),c=this.maxHeight-Sc(n.grid)-t.padding-FC(n.title,this.chart.options.font),l=Math.sqrt(d*d+h*h),s=Jd(Math.min(Math.asin(Ve((u.highest.height+6)/a,-1,1)),Math.asin(Ve(c/l,-1,1))-Math.asin(Ve(h/l,-1,1)))),s=Math.max(i,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){ge(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ge(this.options.beforeFit,[this])}fit(){let n={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let c=FC(i,t.options.font);if(a?(n.width=this.maxWidth,n.height=Sc(o)+c):(n.height=this.maxHeight,n.width=Sc(o)+c),r.display&&this.ticks.length){let{first:l,last:u,widest:d,highest:h}=this._getLabelSizes(),f=r.padding*2,p=Kt(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){let y=r.mirror?0:m*d.width+g*h.height;n.height=Math.min(this.maxHeight,n.height+y+f)}else{let y=r.mirror?0:g*d.width+m*h.height;n.width=Math.min(this.maxWidth,n.width+y+f)}this._calculatePadding(l,u,m,g)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,t,r,i){let{ticks:{align:o,padding:s},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),h=0,f=0;c?l?(h=i*n.width,f=r*t.height):(h=r*n.height,f=i*t.width):o==="start"?f=t.width:o==="end"?h=n.width:o!=="inner"&&(h=n.width/2,f=t.width/2),this.paddingLeft=Math.max((h-u+s)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+s)*this.width/(this.width-d),0)}else{let u=t.height/2,d=n.height/2;o==="start"?(u=0,d=n.height):o==="end"&&(u=t.height,d=0),this.paddingTop=u+s,this.paddingBottom=d+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ge(this.options.afterFit,[this])}isHorizontal(){let{axis:n,position:t}=this.options;return t==="top"||t==="bottom"||n==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){this.beforeTickToLabelConversion(),this.generateTickLabels(n);let t,r;for(t=0,r=n.length;t<r;t++)Z(n[t].label)&&(n.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){let t=this.options.ticks.sampleSize,r=this.ticks;t<r.length&&(r=PC(r,t)),this._labelSizes=n=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return n}_computeLabelSizes(n,t,r){let{ctx:i,_longestTextCache:o}=this,s=[],a=[],c=Math.floor(t/OC(t,r)),l=0,u=0,d,h,f,p,g,m,y,v,_,b,w;for(d=0;d<t;d+=c){if(p=n[d].label,g=this._resolveTickFontOptions(d),i.font=m=g.string,y=o[m]=o[m]||{data:{},gc:[]},v=g.lineHeight,_=b=0,!Z(p)&&!me(p))_=yc(i,y.data,y.gc,_,p),b=v;else if(me(p))for(h=0,f=p.length;h<f;++h)w=p[h],!Z(w)&&!me(w)&&(_=yc(i,y.data,y.gc,_,w),b+=v);s.push(_),a.push(b),l=Math.max(_,l),u=Math.max(b,u)}yL(o,t);let D=s.indexOf(l),C=a.indexOf(u),E=A=>({width:s[A]||0,height:a[A]||0});return{first:E(0),last:E(t-1),widest:E(D),highest:E(C),widths:s,heights:a}}getLabelForValue(n){return n}getPixelForValue(n,t){return NaN}getValueForPixel(n){}getPixelForTick(n){let t=this.ticks;return n<0||n>t.length-1?null:this.getPixelForValue(t[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);let t=this._startPixel+n*this._length;return YE(this._alignToPixels?Or(this.chart,t,0):t)}getDecimalForPixel(n){let t=(n-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:n,max:t}=this;return n<0&&t<0?t:n>0&&t>0?n:0}getContext(n){let t=this.ticks||[];if(n>=0&&n<t.length){let r=t[n];return r.$context||(r.$context=bL(this.getContext(),n,r))}return this.$context||(this.$context=vL(this.chart.getContext(),this))}_tickSize(){let n=this.options.ticks,t=Kt(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),o=this._getLabelSizes(),s=n.autoSkipPadding||0,a=o?o.widest.width+s:0,c=o?o.highest.height+s:0;return this.isHorizontal()?c*r>a*i?a/r:c/i:c*i<a*r?c/r:a/i}_isVisible(){let n=this.options.display;return n!=="auto"?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){let t=this.axis,r=this.chart,i=this.options,{grid:o,position:s,border:a}=i,c=o.offset,l=this.isHorizontal(),d=this.ticks.length+(c?1:0),h=Sc(o),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,y=function(_e){return Or(r,_e,g)},v,_,b,w,D,C,E,A,F,W,X,Ge;if(s==="top")v=y(this.bottom),C=this.bottom-h,A=v-m,W=y(n.top)+m,Ge=n.bottom;else if(s==="bottom")v=y(this.top),W=n.top,Ge=y(n.bottom)-m,C=v+m,A=this.top+h;else if(s==="left")v=y(this.right),D=this.right-h,E=v-m,F=y(n.left)+m,X=n.right;else if(s==="right")v=y(this.left),F=n.left,X=y(n.right)-m,D=v+m,E=this.left+h;else if(t==="x"){if(s==="center")v=y((n.top+n.bottom)/2+.5);else if(Q(s)){let _e=Object.keys(s)[0],xe=s[_e];v=y(this.chart.scales[_e].getPixelForValue(xe))}W=n.top,Ge=n.bottom,C=v+m,A=C+h}else if(t==="y"){if(s==="center")v=y((n.left+n.right)/2);else if(Q(s)){let _e=Object.keys(s)[0],xe=s[_e];v=y(this.chart.scales[_e].getPixelForValue(xe))}D=v-m,E=D-h,F=n.left,X=n.right}let St=B(i.ticks.maxTicksLimit,d),he=Math.max(1,Math.ceil(d/St));for(_=0;_<d;_+=he){let _e=this.getContext(_),xe=o.setContext(_e),Yt=a.setContext(_e),it=xe.lineWidth,Ji=xe.color,Nc=Yt.dash||[],Zi=Yt.dashOffset,_s=xe.tickWidth,Br=xe.tickColor,ws=xe.tickBorderDash||[],Ur=xe.tickBorderDashOffset;b=mL(this,_,c),b!==void 0&&(w=Or(r,b,it),l?D=E=F=X=w:C=A=W=Ge=w,f.push({tx1:D,ty1:C,tx2:E,ty2:A,x1:F,y1:W,x2:X,y2:Ge,width:it,color:Ji,borderDash:Nc,borderDashOffset:Zi,tickWidth:_s,tickColor:Br,tickBorderDash:ws,tickBorderDashOffset:Ur}))}return this._ticksLength=d,this._borderValue=v,f}_computeLabelItems(n){let t=this.axis,r=this.options,{position:i,ticks:o}=r,s=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:u,mirror:d}=o,h=Sc(r.grid),f=h+u,p=d?-u:f,g=-Kt(this.labelRotation),m=[],y,v,_,b,w,D,C,E,A,F,W,X,Ge="middle";if(i==="top")D=this.bottom-p,C=this._getXAxisLabelAlignment();else if(i==="bottom")D=this.top+p,C=this._getXAxisLabelAlignment();else if(i==="left"){let he=this._getYAxisLabelAlignment(h);C=he.textAlign,w=he.x}else if(i==="right"){let he=this._getYAxisLabelAlignment(h);C=he.textAlign,w=he.x}else if(t==="x"){if(i==="center")D=(n.top+n.bottom)/2+f;else if(Q(i)){let he=Object.keys(i)[0],_e=i[he];D=this.chart.scales[he].getPixelForValue(_e)+f}C=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")w=(n.left+n.right)/2-f;else if(Q(i)){let he=Object.keys(i)[0],_e=i[he];w=this.chart.scales[he].getPixelForValue(_e)}C=this._getYAxisLabelAlignment(h).textAlign}t==="y"&&(c==="start"?Ge="top":c==="end"&&(Ge="bottom"));let St=this._getLabelSizes();for(y=0,v=a.length;y<v;++y){_=a[y],b=_.label;let he=o.setContext(this.getContext(y));E=this.getPixelForTick(y)+o.labelOffset,A=this._resolveTickFontOptions(y),F=A.lineHeight,W=me(b)?b.length:1;let _e=W/2,xe=he.color,Yt=he.textStrokeColor,it=he.textStrokeWidth,Ji=C;s?(w=E,C==="inner"&&(y===v-1?Ji=this.options.reverse?"left":"right":y===0?Ji=this.options.reverse?"right":"left":Ji="center"),i==="top"?l==="near"||g!==0?X=-W*F+F/2:l==="center"?X=-St.highest.height/2-_e*F+F:X=-St.highest.height+F/2:l==="near"||g!==0?X=F/2:l==="center"?X=St.highest.height/2-_e*F:X=St.highest.height-W*F,d&&(X*=-1),g!==0&&!he.showLabelBackdrop&&(w+=F/2*Math.sin(g))):(D=E,X=(1-W)*F/2);let Nc;if(he.showLabelBackdrop){let Zi=rt(he.backdropPadding),_s=St.heights[y],Br=St.widths[y],ws=X-Zi.top,Ur=0-Zi.left;switch(Ge){case"middle":ws-=_s/2;break;case"bottom":ws-=_s;break}switch(C){case"center":Ur-=Br/2;break;case"right":Ur-=Br;break;case"inner":y===v-1?Ur-=Br:y>0&&(Ur-=Br/2);break}Nc={left:Ur,top:ws,width:Br+Zi.width,height:_s+Zi.height,color:he.backdropColor}}m.push({label:b,font:A,textOffset:X,options:{rotation:g,color:xe,strokeColor:Yt,strokeWidth:it,textAlign:Ji,textBaseline:Ge,translation:[w,D],backdrop:Nc}})}return m}_getXAxisLabelAlignment(){let{position:n,ticks:t}=this.options;if(-Kt(this.labelRotation))return n==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(n){let{position:t,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,s=this._getLabelSizes(),a=n+o,c=s.widest.width,l,u;return t==="left"?i?(u=this.right+o,r==="near"?l="left":r==="center"?(l="center",u+=c/2):(l="right",u+=c)):(u=this.right-a,r==="near"?l="right":r==="center"?(l="center",u-=c/2):(l="left",u=this.left)):t==="right"?i?(u=this.left+o,r==="near"?l="right":r==="center"?(l="center",u-=c/2):(l="left",u-=c)):(u=this.left+a,r==="near"?l="left":r==="center"?(l="center",u+=c/2):(l="right",u=this.right)):l="right",{textAlign:l,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let n=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:n.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:n.width}}drawBackground(){let{ctx:n,options:{backgroundColor:t},left:r,top:i,width:o,height:s}=this;t&&(n.save(),n.fillStyle=t,n.fillRect(r,i,o,s),n.restore())}getLineWidthForValue(n){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let i=this.ticks.findIndex(o=>o.value===n);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(n){let t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n)),o,s,a=(c,l,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(l.x,l.y),r.stroke(),r.restore())};if(t.display)for(o=0,s=i.length;o<s;++o){let c=i[o];t.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:n,ctx:t,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),s=r.display?o.width:0;if(!s)return;let a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue,l,u,d,h;this.isHorizontal()?(l=Or(n,this.left,s)-s/2,u=Or(n,this.right,a)+a/2,d=h=c):(d=Or(n,this.top,s)-s/2,h=Or(n,this.bottom,a)+a/2,l=u=c),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(l,d),t.lineTo(u,h),t.stroke(),t.restore()}drawLabels(n){if(!this.options.ticks.display)return;let r=this.ctx,i=this._computeLabelArea();i&&_c(r,i);let o=this.getLabelItems(n);for(let s of o){let a=s.options,c=s.font,l=s.label,u=s.textOffset;Pr(r,l,0,u,c,a)}i&&wc(r)}drawTitle(){let{ctx:n,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;let o=Pe(r.font),s=rt(r.padding),a=r.align,c=o.lineHeight/2;t==="bottom"||t==="center"||Q(t)?(c+=s.bottom,me(r.text)&&(c+=o.lineHeight*(r.text.length-1))):c+=s.top;let{titleX:l,titleY:u,maxWidth:d,rotation:h}=wL(this,c,t,a);Pr(n,r.text,0,0,o,{color:r.color,maxWidth:d,rotation:h,textAlign:_L(a,t,i),textBaseline:"middle",translation:[l,u]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){let n=this.options,t=n.ticks&&n.ticks.z||0,r=B(n.grid&&n.grid.z,-1),i=B(n.border&&n.border.z,0);return!this._isVisible()||this.draw!==e.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(n){let t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[],o,s;for(o=0,s=t.length;o<s;++o){let a=t[o];a[r]===this.id&&(!n||a.type===n)&&i.push(a)}return i}_resolveTickFontOptions(n){let t=this.options.ticks.setContext(this.getContext(n));return Pe(t.font)}_maxDigits(){let n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}},vs=class{constructor(n,t,r){this.type=n,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){let t=Object.getPrototypeOf(n),r;CL(t)&&(r=this.register(t));let i=this.items,o=n.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+n);return o in i||(i[o]=n,DL(n,s,r),this.override&&be.override(n.id,n.overrides)),s}get(n){return this.items[n]}unregister(n){let t=this.items,r=n.id,i=this.scope;r in t&&delete t[r],i&&r in be[i]&&(delete be[i][r],this.override&&delete Nr[r])}};function DL(e,n,t){let r=cs(Object.create(null),[t?be.get(t):{},be.get(n),e.defaults]);be.set(n,r),e.defaultRoutes&&EL(n,e.defaultRoutes),e.descriptors&&be.describe(n,e.descriptors)}function EL(e,n){Object.keys(n).forEach(t=>{let r=t.split("."),i=r.pop(),o=[e].concat(r).join("."),s=n[t].split("."),a=s.pop(),c=s.join(".");be.route(o,i,c,a)})}function CL(e){return"id"in e&&"defaults"in e}var Iy=class{constructor(){this.controllers=new vs(Vr,"datasets",!0),this.elements=new vs(hn,"elements"),this.plugins=new vs(Object,"plugins"),this.scales=new vs(Yi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,t,r){[...t].forEach(i=>{let o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(n,o,i):de(i,s=>{let a=r||this._getRegistryForType(s);this._exec(n,a,s)})})}_exec(n,t,r){let i=Yd(n);ge(r["before"+i],[],r),t[n](r),ge(r["after"+i],[],r)}_getRegistryForType(n){for(let t=0;t<this._typedRegistries.length;t++){let r=this._typedRegistries[t];if(r.isForType(n))return r}return this.plugins}_get(n,t,r){let i=t.get(n);if(i===void 0)throw new Error('"'+n+'" is not a registered '+r+".");return i}},kn=new Iy,Ty=class{constructor(){this._init=void 0}notify(n,t,r,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install")),this._init===void 0)return;let o=i?this._descriptors(n).filter(i):this._descriptors(n),s=this._notify(o,n,t,r);return t==="afterDestroy"&&(this._notify(o,n,"stop"),this._notify(this._init,n,"uninstall"),this._init=void 0),s}_notify(n,t,r,i){i=i||{};for(let o of n){let s=o.plugin,a=s[r],c=[t,i,o.options];if(ge(a,c,s)===!1&&i.cancelable)return!1}return!0}invalidate(){Z(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),t}_createDescriptors(n,t){let r=n&&n.config,i=B(r.options&&r.options.plugins,{}),o=SL(r);return i===!1&&!t?[]:TL(n,o,i,t)}_notifyStateChanges(n){let t=this._oldCache||[],r=this._cache,i=(o,s)=>o.filter(a=>!s.some(c=>a.plugin.id===c.plugin.id));this._notify(i(t,r),n,"stop"),this._notify(i(r,t),n,"start")}};function SL(e){let n={},t=[],r=Object.keys(kn.plugins.items);for(let o=0;o<r.length;o++)t.push(kn.getPlugin(r[o]));let i=e.plugins||[];for(let o=0;o<i.length;o++){let s=i[o];t.indexOf(s)===-1&&(t.push(s),n[s.id]=!0)}return{plugins:t,localIds:n}}function IL(e,n){return!n&&e===!1?null:e===!0?{}:e}function TL(e,{plugins:n,localIds:t},r,i){let o=[],s=e.getContext();for(let a of n){let c=a.id,l=IL(r[c],i);l!==null&&o.push({plugin:a,options:xL(e.config,{plugin:a,local:t[c]},l,s)})}return o}function xL(e,{plugin:n,local:t},r,i){let o=e.pluginScopeKeys(n),s=e.getOptionScopes(r,o);return t&&n.defaults&&s.push(n.defaults),e.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function xy(e,n){let t=be.datasets[e]||{};return((n.datasets||{})[e]||{}).indexAxis||n.indexAxis||t.indexAxis||"x"}function ML(e,n){let t=e;return e==="_index_"?t=n:e==="_value_"&&(t=n==="x"?"y":"x"),t}function AL(e,n){return e===n?"_index_":"_value_"}function LC(e){if(e==="x"||e==="y"||e==="r")return e}function RL(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function My(e,...n){if(LC(e))return e;for(let t of n){let r=t.axis||RL(t.position)||e.length>1&&LC(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function jC(e,n,t){if(t[n+"AxisID"]===e)return{axis:n}}function kL(e,n){if(n.data&&n.data.datasets){let t=n.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(t.length)return jC(e,"x",t[0])||jC(e,"y",t[0])}return{}}function NL(e,n){let t=Nr[e.type]||{scales:{}},r=n.scales||{},i=xy(e.type,n),o=Object.create(null);return Object.keys(r).forEach(s=>{let a=r[s];if(!Q(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let c=My(s,a,kL(s,e),be.scales[a.type]),l=AL(c,i),u=t.scales||{};o[s]=us(Object.create(null),[{axis:c},a,u[c],u[l]])}),e.data.datasets.forEach(s=>{let a=s.type||e.type,c=s.indexAxis||xy(a,n),u=(Nr[a]||{}).scales||{};Object.keys(u).forEach(d=>{let h=ML(d,c),f=s[h+"AxisID"]||h;o[f]=o[f]||Object.create(null),us(o[f],[{axis:h},r[f],u[d]])})}),Object.keys(o).forEach(s=>{let a=o[s];us(a,[be.scales[a.type],be.scale])}),o}function SS(e){let n=e.options||(e.options={});n.plugins=B(n.plugins,{}),n.scales=NL(e,n)}function IS(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function OL(e){return e=e||{},e.data=IS(e.data),SS(e),e}var VC=new Map,TS=new Set;function lf(e,n){let t=VC.get(e);return t||(t=n(),VC.set(e,t),TS.add(t)),t}var Ic=(e,n,t)=>{let r=Jn(n,t);r!==void 0&&e.add(r)},Ay=class{constructor(n){this._config=OL(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=IS(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){let n=this._config;this.clearCache(),SS(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return lf(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,t){return lf(`${n}.transition.${t}`,()=>[[`datasets.${n}.transitions.${t}`,`transitions.${t}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,t){return lf(`${n}-${t}`,()=>[[`datasets.${n}.elements.${t}`,`datasets.${n}`,`elements.${t}`,""]])}pluginScopeKeys(n){let t=n.id,r=this.type;return lf(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,t){let r=this._scopeCache,i=r.get(n);return(!i||t)&&(i=new Map,r.set(n,i)),i}getOptionScopes(n,t,r){let{options:i,type:o}=this,s=this._cachedScopes(n,r),a=s.get(t);if(a)return a;let c=new Set;t.forEach(u=>{n&&(c.add(n),u.forEach(d=>Ic(c,n,d))),u.forEach(d=>Ic(c,i,d)),u.forEach(d=>Ic(c,Nr[o]||{},d)),u.forEach(d=>Ic(c,be,d)),u.forEach(d=>Ic(c,Xd,d))});let l=Array.from(c);return l.length===0&&l.push(Object.create(null)),TS.has(t)&&s.set(t,l),l}chartOptionScopes(){let{options:n,type:t}=this;return[n,Nr[t]||{},be.datasets[t]||{},{type:t},be,Xd]}resolveNamedOptions(n,t,r,i=[""]){let o={$shared:!0},{resolver:s,subPrefixes:a}=BC(this._resolverCache,n,i),c=s;if(FL(s,t)){o.$shared=!1,r=Kn(r)?r():r;let l=this.createResolver(n,r,a);c=zi(s,r,l)}for(let l of t)o[l]=c[l];return o}createResolver(n,t,r=[""],i){let{resolver:o}=BC(this._resolverCache,n,r);return Q(t)?zi(o,t,void 0,i):o}};function BC(e,n,t){let r=e.get(n);r||(r=new Map,e.set(n,r));let i=t.join(),o=r.get(i);return o||(o={resolver:nf(n,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,o)),o}var PL=e=>Q(e)&&Object.getOwnPropertyNames(e).some(n=>Kn(e[n]));function FL(e,n){let{isScriptable:t,isIndexable:r}=Xm(e);for(let i of n){let o=t(i),s=r(i),a=(s||o)&&e[i];if(o&&(Kn(a)||PL(a))||s&&me(a))return!0}return!1}var LL="4.5.1",jL=["top","bottom","left","right","chartArea"];function UC(e,n){return e==="top"||e==="bottom"||jL.indexOf(e)===-1&&n==="x"}function $C(e,n){return function(t,r){return t[e]===r[e]?t[n]-r[n]:t[e]-r[e]}}function HC(e){let n=e.chart,t=n.options.animation;n.notifyPlugins("afterRender"),ge(t&&t.onComplete,[e],n)}function VL(e){let n=e.chart,t=n.options.animation;ge(t&&t.onProgress,[e],n)}function xS(e){return rf()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}var pf={},zC=e=>{let n=xS(e);return Object.values(pf).filter(t=>t.canvas===n).pop()};function BL(e,n,t){let r=Object.keys(e);for(let i of r){let o=+i;if(o>=n){let s=e[i];delete e[i],(t>0||o>n)&&(e[o+t]=s)}}}function UL(e,n,t,r){return!t||e.type==="mouseout"?null:r?n:e}var wf=(()=>{class e{static defaults=be;static instances=pf;static overrides=Nr;static registry=kn;static version=LL;static getChart=zC;static register(...t){kn.add(...t),WC()}static unregister(...t){kn.remove(...t),WC()}constructor(t,r){let i=this.config=new Ay(r),o=xS(t),s=zC(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||cL(o)),this.platform.updateConfig(i);let c=this.platform.acquireContext(o,a.aspectRatio),l=c&&c.canvas,u=l&&l.height,d=l&&l.width;if(this.id=HE(),this.ctx=c,this.canvas=l,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ty,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=eC(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],pf[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Qn.listen(this,"complete",HC),Qn.listen(this,"progress",VL),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:r},width:i,height:o,_aspectRatio:s}=this;return Z(t)?r&&s?s:o?i/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return kn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ry(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Jm(this.canvas,this.ctx),this}stop(){return Qn.stop(this),this}resize(t,r){Qn.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){let i=this.options,o=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,t,r,s),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,ry(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),ge(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let r=this.options.scales||{};de(r,(i,o)=>{i.id=o})}buildOrUpdateScales(){let t=this.options,r=t.scales,i=this.scales,o=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{}),s=[];r&&(s=s.concat(Object.keys(r).map(a=>{let c=r[a],l=My(a,c),u=l==="r",d=l==="x";return{options:c,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),de(s,a=>{let c=a.options,l=c.id,u=My(l,c),d=B(c.type,a.dtype);(c.position===void 0||UC(c.position,u)!==UC(a.dposition))&&(c.position=a.dposition),o[l]=!0;let h=null;if(l in i&&i[l].type===d)h=i[l];else{let f=kn.getScale(d);h=new f({id:l,type:d,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(c,t)}),de(o,(a,c)=>{a||delete i[c]}),de(i,a=>{ct.configure(this,a,a.options),ct.addBox(this,a)})}_updateMetasets(){let t=this._metasets,r=this.data.datasets.length,i=t.length;if(t.sort((o,s)=>o.index-s.index),i>r){for(let o=r;o<i;++o)this._destroyDatasetMeta(o);t.splice(r,i-r)}this._sortedMetasets=t.slice(0).sort($C("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((i,o)=>{r.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let t=[],r=this.data.datasets,i,o;for(this._removeUnreferencedMetasets(),i=0,o=r.length;i<o;i++){let s=r[i],a=this.getDatasetMeta(i),c=s.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=s.indexAxis||xy(c,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{let l=kn.getController(c),{datasetElementType:u,dataElementType:d}=be.datasets[c];Object.assign(l,{dataElementType:kn.getElement(d),datasetElementType:u&&kn.getElement(u)}),a.controller=new l(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){de(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let r=this.config;r.update();let i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){let{controller:h}=this.getDatasetMeta(u),f=!o&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),o||de(s,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort($C("z","_idx"));let{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){de(this.scales,t=>{ct.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Lm(r,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(let{method:i,start:o,count:s}of r){let a=i==="_removeElements"?-s:s;BL(t,o,a)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let r=this.data.datasets.length,i=s=>new Set(t.filter(a=>a[0]===s).map((a,c)=>c+","+a.splice(1).join(","))),o=i(0);for(let s=1;s<r;s++)if(!Lm(o,i(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ct.update(this,this.width,this.height,t);let r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],de(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,Kn(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){let i=this.getDatasetMeta(t),o={meta:i,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(r),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Qn.has(this)?this.attached&&!Qn.running(this)&&Qn.start(this):(this.draw(),HC({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let r=this._sortedMetasets,i=[],o,s;for(o=0,s=r.length;o<s;++o){let a=r[o];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let r=this.ctx,i={meta:t,index:t.index,cancelable:!0},o=ly(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(o&&_c(r,o),t.controller.draw(),o&&wc(r),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return xn(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,i,o){let s=H1.modes[r];return typeof s=="function"?s(this,t,i,o):[]}getDatasetMeta(t){let r=this.data.datasets[t],i=this._metasets,o=i.filter(s=>s&&s._dataset===r).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=Zn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let r=this.data.datasets[t];if(!r)return!1;let i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!r.hidden}setDatasetVisibility(t,r){let i=this.getDatasetMeta(t);i.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,i){let o=i?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,o);ds(r)?(s.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(s,{visible:i}),this.update(c=>c.datasetIndex===t?o:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){let r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),Qn.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Jm(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete pf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,r=this.platform,i=(s,a)=>{r.addEventListener(this,s,a),t[s]=a},o=(s,a,c)=>{s.offsetX=a,s.offsetY=c,this._eventHandler(s)};de(this.options.events,s=>i(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,r=this.platform,i=(l,u)=>{r.addEventListener(this,l,u),t[l]=u},o=(l,u)=>{t[l]&&(r.removeEventListener(this,l,u),delete t[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)},a,c=()=>{o("attach",c),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),i("attach",c)},r.isAttached(this.canvas)?c():a()}unbindEvents(){de(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},de(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,i){let o=i?"set":"remove",s,a,c,l;for(r==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),c=0,l=t.length;c<l;++c){a=t[c];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let r=this._active||[],i=t.map(({datasetIndex:s,index:a})=>{let c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[a],index:a}});!vc(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(t,r,i){return this._plugins.notify(this,t,r,i)}isPluginEnabled(t){return this._plugins._cache.filter(r=>r.plugin.id===t).length===1}_updateHoverStyles(t,r,i){let o=this.options.hover,s=(l,u)=>l.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=s(r,t),c=i?t:s(t,r);a.length&&this.updateHoverStyle(a,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(t,r){let i={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},o=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;let s=this._handleEvent(t,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(s||i.changed)&&this.render(),this}_handleEvent(t,r,i){let{_active:o=[],options:s}=this,a=r,c=this._getActiveElements(t,o,i,a),l=GE(t),u=UL(t,this._lastEvent,i,l);i&&(this._lastEvent=null,ge(s.onHover,[t,c,this],this),l&&ge(s.onClick,[t,c,this],this));let d=!vc(c,o);return(d||r)&&(this._active=c,this._updateHoverStyles(c,o,r)),this._lastEvent=u,d}_getActiveElements(t,r,i,o){if(t.type==="mouseout")return[];if(!i)return r;let s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,o)}}return e})();function WC(){return de(wf.instances,e=>e._plugins.invalidate())}function $L(e,n,t){let{startAngle:r,x:i,y:o,outerRadius:s,innerRadius:a,options:c}=n,{borderWidth:l,borderJoinStyle:u}=c,d=Math.min(l/s,tt(r-t));if(e.beginPath(),e.arc(i,o,s-l/2,r+d/2,t-d/2),a>0){let h=Math.min(l/a,tt(r-t));e.arc(i,o,a+l/2,t-h/2,r+h/2,!0)}else{let h=Math.min(l/2,s*tt(r-t));if(u==="round")e.arc(i,o,h,t-ne/2,r+ne/2,!0);else if(u==="bevel"){let f=2*h*h,p=-f*Math.cos(t+ne/2)+i,g=-f*Math.sin(t+ne/2)+o,m=f*Math.cos(r+ne/2)+i,y=f*Math.sin(r+ne/2)+o;e.lineTo(p,g),e.lineTo(m,y)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function HL(e,n,t){let{startAngle:r,pixelMargin:i,x:o,y:s,outerRadius:a,innerRadius:c}=n,l=i/a;e.beginPath(),e.arc(o,s,a,r-l,t+l),c>i?(l=i/c,e.arc(o,s,c,t+l,r-l,!0)):e.arc(o,s,i,t+Te,r-Te),e.closePath(),e.clip()}function zL(e){return tf(e,["outerStart","outerEnd","innerStart","innerEnd"])}function WL(e,n,t,r){let i=zL(e.options.borderRadius),o=(t-n)/2,s=Math.min(o,r*n/2),a=c=>{let l=(t-Math.min(o,c))*r/2;return Ve(c,0,Math.min(o,l))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Ve(i.innerStart,0,s),innerEnd:Ve(i.innerEnd,0,s)}}function ys(e,n,t,r){return{x:t+e*Math.cos(n),y:r+e*Math.sin(n)}}function vf(e,n,t,r,i,o){let{x:s,y:a,startAngle:c,pixelMargin:l,innerRadius:u}=n,d=Math.max(n.outerRadius+r+t-l,0),h=u>0?u+r+t+l:0,f=0,p=i-c;if(r){let he=u>0?u-r:0,_e=d>0?d-r:0,xe=(he+_e)/2,Yt=xe!==0?p*xe/(xe+r):p;f=(p-Yt)/2}let g=Math.max(.001,p*d-t/ne)/d,m=(p-g)/2,y=c+m+f,v=i-m-f,{outerStart:_,outerEnd:b,innerStart:w,innerEnd:D}=WL(n,h,d,v-y),C=d-_,E=d-b,A=y+_/C,F=v-b/E,W=h+w,X=h+D,Ge=y+w/W,St=v-D/X;if(e.beginPath(),o){let he=(A+F)/2;if(e.arc(s,a,d,A,he),e.arc(s,a,d,he,F),b>0){let it=ys(E,F,s,a);e.arc(it.x,it.y,b,F,v+Te)}let _e=ys(X,v,s,a);if(e.lineTo(_e.x,_e.y),D>0){let it=ys(X,St,s,a);e.arc(it.x,it.y,D,v+Te,St+Math.PI)}let xe=(v-D/h+(y+w/h))/2;if(e.arc(s,a,h,v-D/h,xe,!0),e.arc(s,a,h,xe,y+w/h,!0),w>0){let it=ys(W,Ge,s,a);e.arc(it.x,it.y,w,Ge+Math.PI,y-Te)}let Yt=ys(C,y,s,a);if(e.lineTo(Yt.x,Yt.y),_>0){let it=ys(C,A,s,a);e.arc(it.x,it.y,_,y-Te,A)}}else{e.moveTo(s,a);let he=Math.cos(A)*d+s,_e=Math.sin(A)*d+a;e.lineTo(he,_e);let xe=Math.cos(F)*d+s,Yt=Math.sin(F)*d+a;e.lineTo(xe,Yt)}e.closePath()}function GL(e,n,t,r,i){let{fullCircles:o,startAngle:s,circumference:a}=n,c=n.endAngle;if(o){vf(e,n,t,r,c,i);for(let l=0;l<o;++l)e.fill();isNaN(a)||(c=s+(a%ye||ye))}return vf(e,n,t,r,c,i),e.fill(),c}function qL(e,n,t,r,i){let{fullCircles:o,startAngle:s,circumference:a,options:c}=n,{borderWidth:l,borderJoinStyle:u,borderDash:d,borderDashOffset:h,borderRadius:f}=c,p=c.borderAlign==="inner";if(!l)return;e.setLineDash(d||[]),e.lineDashOffset=h,p?(e.lineWidth=l*2,e.lineJoin=u||"round"):(e.lineWidth=l,e.lineJoin=u||"bevel");let g=n.endAngle;if(o){vf(e,n,t,r,g,i);for(let m=0;m<o;++m)e.stroke();isNaN(a)||(g=s+(a%ye||ye))}p&&HL(e,n,g),c.selfJoin&&g-s>=ne&&f===0&&u!=="miter"&&$L(e,n,g),o||(vf(e,n,t,r,g,i),e.stroke())}var Ry=class extends hn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(n){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,t,r){let i=this.getProps(["x","y"],r),{angle:o,distance:s}=Um(i,{x:n,y:t}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),h=(this.options.spacing+this.options.borderWidth)/2,f=B(d,c-a),p=hs(o,a,c)&&a!==c,g=f>=ye||p,m=An(s,l+h,u+h);return g&&m}getCenterPoint(n){let{x:t,y:r,startAngle:i,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:l}=this.options,u=(i+o)/2,d=(s+a+l+c)/2;return{x:t+Math.cos(u)*d,y:r+Math.sin(u)*d}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){let{options:t,circumference:r}=this,i=(t.offset||0)/4,o=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=r>ye?Math.floor(r/ye):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();let a=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(a)*i,Math.sin(a)*i);let c=1-Math.sin(Math.min(ne,r||0)),l=i*c;n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor,GL(n,this,l,o,s),qL(n,this,l,o,s),n.restore()}};function MS(e,n,t=n){e.lineCap=B(t.borderCapStyle,n.borderCapStyle),e.setLineDash(B(t.borderDash,n.borderDash)),e.lineDashOffset=B(t.borderDashOffset,n.borderDashOffset),e.lineJoin=B(t.borderJoinStyle,n.borderJoinStyle),e.lineWidth=B(t.borderWidth,n.borderWidth),e.strokeStyle=B(t.borderColor,n.borderColor)}function KL(e,n,t){e.lineTo(t.x,t.y)}function YL(e){return e.stepped?iC:e.tension||e.cubicInterpolationMode==="monotone"?oC:KL}function AS(e,n,t={}){let r=e.length,{start:i=0,end:o=r-1}=t,{start:s,end:a}=n,c=Math.max(i,s),l=Math.min(o,a),u=i<s&&o<s||i>a&&o>a;return{count:r,start:c,loop:n.loop,ilen:l<c&&!u?r+l-c:l-c}}function JL(e,n,t,r){let{points:i,options:o}=n,{count:s,start:a,loop:c,ilen:l}=AS(i,t,r),u=YL(o),{move:d=!0,reverse:h}=r||{},f,p,g;for(f=0;f<=l;++f)p=i[(a+(h?l-f:f))%s],!p.skip&&(d?(e.moveTo(p.x,p.y),d=!1):u(e,g,p,h,o.stepped),g=p);return c&&(p=i[(a+(h?l:0))%s],u(e,g,p,h,o.stepped)),!!c}function ZL(e,n,t,r){let i=n.points,{count:o,start:s,ilen:a}=AS(i,t,r),{move:c=!0,reverse:l}=r||{},u=0,d=0,h,f,p,g,m,y,v=b=>(s+(l?a-b:b))%o,_=()=>{g!==m&&(e.lineTo(u,m),e.lineTo(u,g),e.lineTo(u,y))};for(c&&(f=i[v(0)],e.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=i[v(h)],f.skip)continue;let b=f.x,w=f.y,D=b|0;D===p?(w<g?g=w:w>m&&(m=w),u=(d*u+b)/++d):(_(),e.lineTo(b,w),p=D,d=0,g=m=w),y=w}_()}function ky(e){let n=e.options,t=n.borderDash&&n.borderDash.length;return!e._decimated&&!e._loop&&!n.tension&&n.cubicInterpolationMode!=="monotone"&&!n.stepped&&!t?ZL:JL}function QL(e){return e.stepped?pC:e.tension||e.cubicInterpolationMode==="monotone"?gC:Rr}function XL(e,n,t,r){let i=n._path;i||(i=n._path=new Path2D,n.path(i,t,r)&&i.closePath()),MS(e,n.options),e.stroke(i)}function ej(e,n,t,r){let{segments:i,options:o}=n,s=ky(n);for(let a of i)MS(e,o,a.style),e.beginPath(),s(e,n,a,{start:t,end:t+r-1})&&e.closePath(),e.stroke()}var tj=typeof Path2D=="function";function nj(e,n,t,r){tj&&!n.options.segment?XL(e,n,t,r):ej(e,n,t,r)}var Df=(()=>{class e extends hn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){let i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){let o=i.spanGaps?this._loop:this._fullLoop;dC(this._points,i,t,o,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=yC(this,this.options.segment))}first(){let t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){let t=this.segments,r=this.points,i=t.length;return i&&r[t[i-1].end]}interpolate(t,r){let i=this.options,o=t[r],s=this.points,a=cy(this,{property:r,start:o,end:o});if(!a.length)return;let c=[],l=QL(i),u,d;for(u=0,d=a.length;u<d;++u){let{start:h,end:f}=a[u],p=s[h],g=s[f];if(p===g){c.push(p);continue}let m=Math.abs((o-p[r])/(g[r]-p[r])),y=l(p,g,m,i.stepped);y[r]=t[r],c.push(y)}return c.length===1?c[0]:c}pathSegment(t,r,i){return ky(this)(t,this,r,i)}path(t,r,i){let o=this.segments,s=ky(this),a=this._loop;r=r||0,i=i||this.points.length-r;for(let c of o)a&=s(t,this,c,{start:r,end:r+i-1});return!!a}draw(t,r,i,o){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),nj(t,this,i,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return e})();function GC(e,n,t,r){let i=e.options,{[t]:o}=e.getProps([t],r);return Math.abs(n-o)<i.radius+i.hitRadius}var rj=(()=>{class e extends hn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){let o=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(r-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,r){return GC(this,t,"x",r)}inYRange(t,r){return GC(this,t,"y",r)}getCenterPoint(t){let{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);let i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){let i=this.options;this.skip||i.radius<.1||!xn(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,ef(t,i,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return e})();function RS(e,n){let{x:t,y:r,base:i,width:o,height:s}=e.getProps(["x","y","base","width","height"],n),a,c,l,u,d;return e.horizontal?(d=s/2,a=Math.min(t,i),c=Math.max(t,i),l=r-d,u=r+d):(d=o/2,a=t-d,c=t+d,l=Math.min(r,i),u=Math.max(r,i)),{left:a,top:l,right:c,bottom:u}}function jr(e,n,t,r){return e?0:Ve(n,t,r)}function ij(e,n,t){let r=e.options.borderWidth,i=e.borderSkipped,o=Qm(r);return{t:jr(i.top,o.top,0,t),r:jr(i.right,o.right,0,n),b:jr(i.bottom,o.bottom,0,t),l:jr(i.left,o.left,0,n)}}function oj(e,n,t){let{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,o=Fr(i),s=Math.min(n,t),a=e.borderSkipped,c=r||Q(i);return{topLeft:jr(!c||a.top||a.left,o.topLeft,0,s),topRight:jr(!c||a.top||a.right,o.topRight,0,s),bottomLeft:jr(!c||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:jr(!c||a.bottom||a.right,o.bottomRight,0,s)}}function sj(e){let n=RS(e),t=n.right-n.left,r=n.bottom-n.top,i=ij(e,t/2,r/2),o=oj(e,t/2,r/2);return{outer:{x:n.left,y:n.top,w:t,h:r,radius:o},inner:{x:n.left+i.l,y:n.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function yy(e,n,t,r){let i=n===null,o=t===null,a=e&&!(i&&o)&&RS(e,r);return a&&(i||An(n,a.left,a.right))&&(o||An(t,a.top,a.bottom))}function aj(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function cj(e,n){e.rect(n.x,n.y,n.w,n.h)}function vy(e,n,t={}){let r=e.x!==t.x?-n:0,i=e.y!==t.y?-n:0,o=(e.x+e.w!==t.x+t.w?n:0)-r,s=(e.y+e.h!==t.y+t.h?n:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+o,h:e.h+s,radius:e.radius}}var Ny=class extends hn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){let{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:o,outer:s}=sj(this),a=aj(s.radius)?gs:cj;n.save(),(s.w!==o.w||s.h!==o.h)&&(n.beginPath(),a(n,vy(s,t,o)),n.clip(),a(n,vy(o,-t,s)),n.fillStyle=r,n.fill("evenodd")),n.beginPath(),a(n,vy(o,t)),n.fillStyle=i,n.fill(),n.restore()}inRange(n,t,r){return yy(this,n,t,r)}inXRange(n,t){return yy(this,n,null,t)}inYRange(n,t){return yy(this,null,n,t)}getCenterPoint(n){let{x:t,y:r,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],n);return{x:o?(t+i)/2:t,y:o?r:(r+i)/2}}getRange(n){return n==="x"?this.width/2:this.height/2}},lj=Object.freeze({__proto__:null,ArcElement:Ry,BarElement:Ny,LineElement:Df,PointElement:rj}),Oy=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],qC=Oy.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function kS(e){return Oy[e%Oy.length]}function NS(e){return qC[e%qC.length]}function uj(e,n){return e.borderColor=kS(n),e.backgroundColor=NS(n),++n}function dj(e,n){return e.backgroundColor=e.data.map(()=>kS(n++)),n}function fj(e,n){return e.backgroundColor=e.data.map(()=>NS(n++)),n}function hj(e){let n=0;return(t,r)=>{let i=e.getDatasetMeta(r).controller;i instanceof $y?n=dj(t,n):i instanceof _S?n=fj(t,n):i&&(n=uj(t,n))}}function KC(e){let n;for(n in e)if(e[n].borderColor||e[n].backgroundColor)return!0;return!1}function pj(e){return e&&(e.borderColor||e.backgroundColor)}function gj(){return be.borderColor!=="rgba(0,0,0,0.1)"||be.backgroundColor!=="rgba(0,0,0,0.1)"}var mj={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,n,t){if(!t.enabled)return;let{data:{datasets:r},options:i}=e.config,{elements:o}=i,s=KC(r)||pj(i)||o&&KC(o)||gj();if(!t.forceOverride&&s)return;let a=hj(e);r.forEach(a)}};function yj(e,n,t,r,i){let o=i.samples||r;if(o>=t)return e.slice(n,n+t);let s=[],a=(t-2)/(o-2),c=0,l=n+t-1,u=n,d,h,f,p,g;for(s[c++]=e[u],d=0;d<o-2;d++){let m=0,y=0,v,_=Math.floor((d+1)*a)+1+n,b=Math.min(Math.floor((d+2)*a)+1,t)+n,w=b-_;for(v=_;v<b;v++)m+=e[v].x,y+=e[v].y;m/=w,y/=w;let D=Math.floor(d*a)+1+n,C=Math.min(Math.floor((d+1)*a)+1,t)+n,{x:E,y:A}=e[u];for(f=p=-1,v=D;v<C;v++)p=.5*Math.abs((E-m)*(e[v].y-A)-(E-e[v].x)*(y-A)),p>f&&(f=p,h=e[v],g=v);s[c++]=h,u=g}return s[c++]=e[l],s}function vj(e,n,t,r){let i=0,o=0,s,a,c,l,u,d,h,f,p,g,m=[],y=n+t-1,v=e[n].x,b=e[y].x-v;for(s=n;s<n+t;++s){a=e[s],c=(a.x-v)/b*r,l=a.y;let w=c|0;if(w===u)l<p?(p=l,d=s):l>g&&(g=l,h=s),i=(o*i+a.x)/++o;else{let D=s-1;if(!Z(d)&&!Z(h)){let C=Math.min(d,h),E=Math.max(d,h);C!==f&&C!==D&&m.push(q(I({},e[C]),{x:i})),E!==f&&E!==D&&m.push(q(I({},e[E]),{x:i}))}s>0&&D!==f&&m.push(e[D]),m.push(a),u=w,o=0,p=g=l,d=h=f=s}}return m}function OS(e){if(e._decimated){let n=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:n})}}function YC(e){e.data.datasets.forEach(n=>{OS(n)})}function bj(e,n){let t=n.length,r=0,i,{iScale:o}=e,{min:s,max:a,minDefined:c,maxDefined:l}=o.getUserBounds();return c&&(r=Ve(Tn(n,o.axis,s).lo,0,t-1)),l?i=Ve(Tn(n,o.axis,a).hi+1,r,t)-r:i=t-r,{start:r,count:i}}var _j={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,n,t)=>{if(!t.enabled){YC(e);return}let r=e.width;e.data.datasets.forEach((i,o)=>{let{_data:s,indexAxis:a}=i,c=e.getDatasetMeta(o),l=s||i.data;if(ms([a,e.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let u=e.scales[c.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:d,count:h}=bj(c,l),f=t.threshold||4*r;if(h<=f){OS(i);return}Z(s)&&(i._data=l,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(t.algorithm){case"lttb":p=yj(l,d,h,r,t);break;case"min-max":p=vj(l,d,h,r);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=p})},destroy(e){YC(e)}};function wj(e,n,t){let r=e.segments,i=e.points,o=n.points,s=[];for(let a of r){let{start:c,end:l}=a;l=Ef(c,l,i);let u=Py(t,i[c],i[l],a.loop);if(!n.segments){s.push({source:a,target:u,start:i[c],end:i[l]});continue}let d=cy(n,u);for(let h of d){let f=Py(t,o[h.start],o[h.end],h.loop),p=ay(a,i,f);for(let g of p)s.push({source:g,target:h,start:{[t]:JC(u,f,"start",Math.max)},end:{[t]:JC(u,f,"end",Math.min)}})}}return s}function Py(e,n,t,r){if(r)return;let i=n[e],o=t[e];return e==="angle"&&(i=tt(i),o=tt(o)),{property:e,start:i,end:o}}function Dj(e,n){let{x:t=null,y:r=null}=e||{},i=n.points,o=[];return n.segments.forEach(({start:s,end:a})=>{a=Ef(s,a,i);let c=i[s],l=i[a];r!==null?(o.push({x:c.x,y:r}),o.push({x:l.x,y:r})):t!==null&&(o.push({x:t,y:c.y}),o.push({x:t,y:l.y}))}),o}function Ef(e,n,t){for(;n>e;n--){let r=t[n];if(!isNaN(r.x)&&!isNaN(r.y))break}return n}function JC(e,n,t,r){return e&&n?r(e[t],n[t]):e?e[t]:n?n[t]:0}function PS(e,n){let t=[],r=!1;return me(e)?(r=!0,t=e):t=Dj(e,n),t.length?new Df({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function ZC(e){return e&&e.fill!==!1}function Ej(e,n,t){let i=e[n].fill,o=[n],s;if(!t)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!Ce(i))return i;if(s=e[i],!s)return!1;if(s.visible)return i;o.push(i),i=s.fill}return!1}function Cj(e,n,t){let r=xj(e);if(Q(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Ce(i)&&Math.floor(i)===i?Sj(r[0],n,i,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Sj(e,n,t,r){return(e==="-"||e==="+")&&(t=n+t),t===n||t<0||t>=r?!1:t}function Ij(e,n){let t=null;return e==="start"?t=n.bottom:e==="end"?t=n.top:Q(e)?t=n.getPixelForValue(e.value):n.getBasePixel&&(t=n.getBasePixel()),t}function Tj(e,n,t){let r;return e==="start"?r=t:e==="end"?r=n.options.reverse?n.min:n.max:Q(e)?r=e.value:r=n.getBaseValue(),r}function xj(e){let n=e.options,t=n.fill,r=B(t&&t.target,t);return r===void 0&&(r=!!n.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function Mj(e){let{scale:n,index:t,line:r}=e,i=[],o=r.segments,s=r.points,a=Aj(n,t);a.push(PS({x:null,y:n.bottom},r));for(let c=0;c<o.length;c++){let l=o[c];for(let u=l.start;u<=l.end;u++)Rj(i,s[u],a)}return new Df({points:i,options:{}})}function Aj(e,n){let t=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){let o=r[i];if(o.index===n)break;o.hidden||t.unshift(o.dataset)}return t}function Rj(e,n,t){let r=[];for(let i=0;i<t.length;i++){let o=t[i],{first:s,last:a,point:c}=kj(o,n,"x");if(!(!c||s&&a)){if(s)r.unshift(c);else if(e.push(c),!a)break}}e.push(...r)}function kj(e,n,t){let r=e.interpolate(n,t);if(!r)return{};let i=r[t],o=e.segments,s=e.points,a=!1,c=!1;for(let l=0;l<o.length;l++){let u=o[l],d=s[u.start][t],h=s[u.end][t];if(An(i,d,h)){a=i===d,c=i===h;break}}return{first:a,last:c,point:r}}var bf=class{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,t,r){let{x:i,y:o,radius:s}=this;return t=t||{start:0,end:ye},n.arc(i,o,s,t.end,t.start,!0),!r.bounds}interpolate(n){let{x:t,y:r,radius:i}=this,o=n.angle;return{x:t+Math.cos(o)*i,y:r+Math.sin(o)*i,angle:o}}};function Nj(e){let{chart:n,fill:t,line:r}=e;if(Ce(t))return Oj(n,t);if(t==="stack")return Mj(e);if(t==="shape")return!0;let i=Pj(e);return i instanceof bf?i:PS(i,r)}function Oj(e,n){let t=e.getDatasetMeta(n);return t&&e.isDatasetVisible(n)?t.dataset:null}function Pj(e){return(e.scale||{}).getPointPositionForValue?Lj(e):Fj(e)}function Fj(e){let{scale:n={},fill:t}=e,r=Ij(t,n);if(Ce(r)){let i=n.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function Lj(e){let{scale:n,fill:t}=e,r=n.options,i=n.getLabels().length,o=r.reverse?n.max:n.min,s=Tj(t,n,o),a=[];if(r.grid.circular){let c=n.getPointPositionForValue(0,o);return new bf({x:c.x,y:c.y,radius:n.getDistanceFromCenterForValue(s)})}for(let c=0;c<i;++c)a.push(n.getPointPositionForValue(c,s));return a}function by(e,n,t){let r=Nj(n),{chart:i,index:o,line:s,scale:a,axis:c}=n,l=s.options,u=l.fill,d=l.backgroundColor,{above:h=d,below:f=d}=u||{},p=i.getDatasetMeta(o),g=ly(i,p);r&&s.points.length&&(_c(e,t),jj(e,{line:s,target:r,above:h,below:f,area:t,scale:a,axis:c,clip:g}),wc(e))}function jj(e,n){let{line:t,target:r,above:i,below:o,area:s,scale:a,clip:c}=n,l=t._loop?"angle":n.axis;e.save();let u=o;o!==i&&(l==="x"?(QC(e,r,s.top),_y(e,{line:t,target:r,color:i,scale:a,property:l,clip:c}),e.restore(),e.save(),QC(e,r,s.bottom)):l==="y"&&(XC(e,r,s.left),_y(e,{line:t,target:r,color:o,scale:a,property:l,clip:c}),e.restore(),e.save(),XC(e,r,s.right),u=i)),_y(e,{line:t,target:r,color:u,scale:a,property:l,clip:c}),e.restore()}function QC(e,n,t){let{segments:r,points:i}=n,o=!0,s=!1;e.beginPath();for(let a of r){let{start:c,end:l}=a,u=i[c],d=i[Ef(c,l,i)];o?(e.moveTo(u.x,u.y),o=!1):(e.lineTo(u.x,t),e.lineTo(u.x,u.y)),s=!!n.pathSegment(e,a,{move:s}),s?e.closePath():e.lineTo(d.x,t)}e.lineTo(n.first().x,t),e.closePath(),e.clip()}function XC(e,n,t){let{segments:r,points:i}=n,o=!0,s=!1;e.beginPath();for(let a of r){let{start:c,end:l}=a,u=i[c],d=i[Ef(c,l,i)];o?(e.moveTo(u.x,u.y),o=!1):(e.lineTo(t,u.y),e.lineTo(u.x,u.y)),s=!!n.pathSegment(e,a,{move:s}),s?e.closePath():e.lineTo(t,d.y)}e.lineTo(t,n.first().y),e.closePath(),e.clip()}function _y(e,n){let{line:t,target:r,property:i,color:o,scale:s,clip:a}=n,c=wj(t,r,i);for(let{source:l,target:u,start:d,end:h}of c){let{style:{backgroundColor:f=o}={}}=l,p=r!==!0;e.save(),e.fillStyle=f,Vj(e,s,a,p&&Py(i,d,h)),e.beginPath();let g=!!t.pathSegment(e,l),m;if(p){g?e.closePath():eS(e,r,h,i);let y=!!r.pathSegment(e,u,{move:g,reverse:!0});m=g&&y,m||eS(e,r,d,i)}e.closePath(),e.fill(m?"evenodd":"nonzero"),e.restore()}}function Vj(e,n,t,r){let i=n.chart.chartArea,{property:o,start:s,end:a}=r||{};if(o==="x"||o==="y"){let c,l,u,d;o==="x"?(c=s,l=i.top,u=a,d=i.bottom):(c=i.left,l=s,u=i.right,d=a),e.beginPath(),t&&(c=Math.max(c,t.left),u=Math.min(u,t.right),l=Math.max(l,t.top),d=Math.min(d,t.bottom)),e.rect(c,l,u-c,d-l),e.clip()}}function eS(e,n,t,r){let i=n.interpolate(t,r);i&&e.lineTo(i.x,i.y)}var Bj={id:"filler",afterDatasetsUpdate(e,n,t){let r=(e.data.datasets||[]).length,i=[],o,s,a,c;for(s=0;s<r;++s)o=e.getDatasetMeta(s),a=o.dataset,c=null,a&&a.options&&a instanceof Df&&(c={visible:e.isDatasetVisible(s),index:s,fill:Cj(a,s,r),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=c,i.push(c);for(s=0;s<r;++s)c=i[s],!(!c||c.fill===!1)&&(c.fill=Ej(i,s,t.propagate))},beforeDraw(e,n,t){let r=t.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let s=i.length-1;s>=0;--s){let a=i[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),r&&a.fill&&by(e.ctx,a,o))}},beforeDatasetsDraw(e,n,t){if(t.drawTime!=="beforeDatasetsDraw")return;let r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){let o=r[i].$filler;ZC(o)&&by(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,n,t){let r=n.meta.$filler;!ZC(r)||t.drawTime!=="beforeDatasetDraw"||by(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},tS=(e,n)=>{let{boxHeight:t=n,boxWidth:r=n}=e;return e.usePointStyle&&(t=Math.min(t,n),r=e.pointStyleWidth||Math.min(r,n)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(n,t)}},Uj=(e,n)=>e!==null&&n!==null&&e.datasetIndex===n.datasetIndex&&e.index===n.index,_f=class extends hn{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,t,r){this.maxWidth=n,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let n=this.options.labels||{},t=ge(n.generateLabels,[this.chart],this)||[];n.filter&&(t=t.filter(r=>n.filter(r,this.chart.data))),n.sort&&(t=t.sort((r,i)=>n.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:n,ctx:t}=this;if(!n.display){this.width=this.height=0;return}let r=n.labels,i=Pe(r.font),o=i.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=tS(r,o),l,u;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(s,o,a,c)+10):(u=this.maxHeight,l=this._fitCols(s,i,a,c)+10),this.width=Math.min(l,n.maxWidth||this.maxWidth),this.height=Math.min(u,n.maxHeight||this.maxHeight)}_fitRows(n,t,r,i){let{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],u=i+a,d=n;o.textAlign="left",o.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((p,g)=>{let m=r+t/2+o.measureText(p.text).width;(g===0||l[l.length-1]+m+2*a>s)&&(d+=u,l[l.length-(g>0?0:1)]=0,f+=u,h++),c[g]={left:0,top:f,row:h,width:m,height:i},l[l.length-1]+=m+a}),d}_fitCols(n,t,r,i){let{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],u=s-n,d=a,h=0,f=0,p=0,g=0;return this.legendItems.forEach((m,y)=>{let{itemWidth:v,itemHeight:_}=$j(r,t,o,m,i);y>0&&f+_+2*a>u&&(d+=h+a,l.push({width:h,height:f}),p+=h+a,g++,h=f=0),c[y]={left:p,top:f,col:g,width:v,height:_},h=Math.max(h,v),f+=_+a}),d+=h,l.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;let n=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:o}}=this,s=Gi(o,this.left,this.width);if(this.isHorizontal()){let a=0,c=nt(r,this.left+i,this.right-this.lineWidths[a]);for(let l of t)a!==l.row&&(a=l.row,c=nt(r,this.left+i,this.right-this.lineWidths[a])),l.top+=this.top+n+i,l.left=s.leftForLtr(s.x(c),l.width),c+=l.width+i}else{let a=0,c=nt(r,this.top+n+i,this.bottom-this.columnSizes[a].height);for(let l of t)l.col!==a&&(a=l.col,c=nt(r,this.top+n+i,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+i,l.left=s.leftForLtr(s.x(l.left),l.width),c+=l.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let n=this.ctx;_c(n,this),this._draw(),wc(n)}}_draw(){let{options:n,columnSizes:t,lineWidths:r,ctx:i}=this,{align:o,labels:s}=n,a=be.color,c=Gi(n.rtl,this.left,this.width),l=Pe(s.font),{padding:u}=s,d=l.size,h=d/2,f;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;let{boxWidth:p,boxHeight:g,itemHeight:m}=tS(s,d),y=function(D,C,E){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;i.save();let A=B(E.lineWidth,1);if(i.fillStyle=B(E.fillStyle,a),i.lineCap=B(E.lineCap,"butt"),i.lineDashOffset=B(E.lineDashOffset,0),i.lineJoin=B(E.lineJoin,"miter"),i.lineWidth=A,i.strokeStyle=B(E.strokeStyle,a),i.setLineDash(B(E.lineDash,[])),s.usePointStyle){let F={radius:g*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:A},W=c.xPlus(D,p/2),X=C+h;Zm(i,F,W,X,s.pointStyleWidth&&p)}else{let F=C+Math.max((d-g)/2,0),W=c.leftForLtr(D,p),X=Fr(E.borderRadius);i.beginPath(),Object.values(X).some(Ge=>Ge!==0)?gs(i,{x:W,y:F,w:p,h:g,radius:X}):i.rect(W,F,p,g),i.fill(),A!==0&&i.stroke()}i.restore()},v=function(D,C,E){Pr(i,E.text,D,C+m/2,l,{strikethrough:E.hidden,textAlign:c.textAlign(E.textAlign)})},_=this.isHorizontal(),b=this._computeTitleHeight();_?f={x:nt(o,this.left+u,this.right-r[0]),y:this.top+u+b,line:0}:f={x:this.left+u,y:nt(o,this.top+b+u,this.bottom-t[0].height),line:0},oy(this.ctx,n.textDirection);let w=m+u;this.legendItems.forEach((D,C)=>{i.strokeStyle=D.fontColor,i.fillStyle=D.fontColor;let E=i.measureText(D.text).width,A=c.textAlign(D.textAlign||(D.textAlign=s.textAlign)),F=p+h+E,W=f.x,X=f.y;c.setWidth(this.width),_?C>0&&W+F+u>this.right&&(X=f.y+=w,f.line++,W=f.x=nt(o,this.left+u,this.right-r[f.line])):C>0&&X+w>this.bottom&&(W=f.x=W+t[f.line].width+u,f.line++,X=f.y=nt(o,this.top+b+u,this.bottom-t[f.line].height));let Ge=c.x(W);if(y(Ge,X,D),W=tC(A,W+p+h,_?W+F:this.right,n.rtl),v(c.x(W),X,D),_)f.x+=F+u;else if(typeof D.text!="string"){let St=l.lineHeight;f.y+=FS(D,St)+u}else f.y+=w}),sy(this.ctx,n.textDirection)}drawTitle(){let n=this.options,t=n.title,r=Pe(t.font),i=rt(t.padding);if(!t.display)return;let o=Gi(n.rtl,this.left,this.width),s=this.ctx,a=t.position,c=r.size/2,l=i.top+c,u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+l,d=nt(n.align,d,this.right-h);else{let p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=l+nt(n.align,this.top,this.bottom-p-n.labels.padding-this._computeTitleHeight())}let f=nt(a,d,d+h);s.textAlign=o.textAlign(Qd(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=r.string,Pr(s,t.text,f,u,r)}_computeTitleHeight(){let n=this.options.title,t=Pe(n.font),r=rt(n.padding);return n.display?t.lineHeight+r.height:0}_getLegendItemAt(n,t){let r,i,o;if(An(n,this.left,this.right)&&An(t,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],An(n,i.left,i.left+i.width)&&An(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(n){let t=this.options;if(!Wj(n.type,t))return;let r=this._getLegendItemAt(n.x,n.y);if(n.type==="mousemove"||n.type==="mouseout"){let i=this._hoveredItem,o=Uj(i,r);i&&!o&&ge(t.onLeave,[n,i,this],this),this._hoveredItem=r,r&&!o&&ge(t.onHover,[n,r,this],this)}else r&&ge(t.onClick,[n,r,this],this)}};function $j(e,n,t,r,i){let o=Hj(r,e,n,t),s=zj(i,r,n.lineHeight);return{itemWidth:o,itemHeight:s}}function Hj(e,n,t,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((o,s)=>o.length>s.length?o:s)),n+t.size/2+r.measureText(i).width}function zj(e,n,t){let r=e;return typeof n.text!="string"&&(r=FS(n,t)),r}function FS(e,n){let t=e.text?e.text.length:0;return n*t}function Wj(e,n){return!!((e==="mousemove"||e==="mouseout")&&(n.onHover||n.onLeave)||n.onClick&&(e==="click"||e==="mouseup"))}var Gj={id:"legend",_element:_f,start(e,n,t){let r=e.legend=new _f({ctx:e.ctx,options:t,chart:e});ct.configure(e,r,t),ct.addBox(e,r)},stop(e){ct.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,n,t){let r=e.legend;ct.configure(e,r,t),r.options=t},afterUpdate(e){let n=e.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(e,n){n.replay||e.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,n,t){let r=n.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),n.hidden=!0):(i.show(r),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){let n=e.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:o,useBorderRadius:s,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{let l=c.controller.getStyle(t?0:void 0),u=rt(l.borderWidth);return{text:n[c.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:s&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}},Ac=class extends hn{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,t){let r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=n,this.height=this.bottom=t;let i=me(r.text)?r.text.length:1;this._padding=rt(r.padding);let o=i*Pe(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let n=this.options.position;return n==="top"||n==="bottom"}_drawArgs(n){let{top:t,left:r,bottom:i,right:o,options:s}=this,a=s.align,c=0,l,u,d;return this.isHorizontal()?(u=nt(a,r,o),d=t+n,l=o-r):(s.position==="left"?(u=r+n,d=nt(a,i,t),c=ne*-.5):(u=o-n,d=nt(a,t,i),c=ne*.5),l=i-t),{titleX:u,titleY:d,maxWidth:l,rotation:c}}draw(){let n=this.ctx,t=this.options;if(!t.display)return;let r=Pe(t.font),o=r.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(o);Pr(n,t.text,0,0,r,{color:t.color,maxWidth:c,rotation:l,textAlign:Qd(t.align),textBaseline:"middle",translation:[s,a]})}};function qj(e,n){let t=new Ac({ctx:e.ctx,options:n,chart:e});ct.configure(e,t,n),ct.addBox(e,t),e.titleBlock=t}var Kj={id:"title",_element:Ac,start(e,n,t){qj(e,t)},stop(e){let n=e.titleBlock;ct.removeBox(e,n),delete e.titleBlock},beforeUpdate(e,n,t){let r=e.titleBlock;ct.configure(e,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},uf=new WeakMap,Yj={id:"subtitle",start(e,n,t){let r=new Ac({ctx:e.ctx,options:t,chart:e});ct.configure(e,r,t),ct.addBox(e,r),uf.set(e,r)},stop(e){ct.removeBox(e,uf.get(e)),uf.delete(e)},beforeUpdate(e,n,t){let r=uf.get(e);ct.configure(e,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},xc={average(e){if(!e.length)return!1;let n,t,r=new Set,i=0,o=0;for(n=0,t=e.length;n<t;++n){let a=e[n].element;if(a&&a.hasValue()){let c=a.tooltipPosition();r.add(c.x),i+=c.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((a,c)=>a+c)/r.size,y:i/o}},nearest(e,n){if(!e.length)return!1;let t=n.x,r=n.y,i=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=e.length;o<s;++o){let c=e[o].element;if(c&&c.hasValue()){let l=c.getCenterPoint(),u=qd(n,l);u<i&&(i=u,a=c)}}if(a){let c=a.tooltipPosition();t=c.x,r=c.y}return{x:t,y:r}}};function Rn(e,n){return n&&(me(n)?Array.prototype.push.apply(e,n):e.push(n)),e}function Xn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Jj(e,n){let{element:t,datasetIndex:r,index:i}=n,o=e.getDatasetMeta(r).controller,{label:s,value:a}=o.getLabelAndValue(i);return{chart:e,label:s,parsed:o.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function nS(e,n){let t=e.chart.ctx,{body:r,footer:i,title:o}=e,{boxWidth:s,boxHeight:a}=n,c=Pe(n.bodyFont),l=Pe(n.titleFont),u=Pe(n.footerFont),d=o.length,h=i.length,f=r.length,p=rt(n.padding),g=p.height,m=0,y=r.reduce((b,w)=>b+w.before.length+w.lines.length+w.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,d&&(g+=d*l.lineHeight+(d-1)*n.titleSpacing+n.titleMarginBottom),y){let b=n.displayColors?Math.max(a,c.lineHeight):c.lineHeight;g+=f*b+(y-f)*c.lineHeight+(y-1)*n.bodySpacing}h&&(g+=n.footerMarginTop+h*u.lineHeight+(h-1)*n.footerSpacing);let v=0,_=function(b){m=Math.max(m,t.measureText(b).width+v)};return t.save(),t.font=l.string,de(e.title,_),t.font=c.string,de(e.beforeBody.concat(e.afterBody),_),v=n.displayColors?s+2+n.boxPadding:0,de(r,b=>{de(b.before,_),de(b.lines,_),de(b.after,_)}),v=0,t.font=u.string,de(e.footer,_),t.restore(),m+=p.width,{width:m,height:g}}function Zj(e,n){let{y:t,height:r}=n;return t<r/2?"top":t>e.height-r/2?"bottom":"center"}function Qj(e,n,t,r){let{x:i,width:o}=r,s=t.caretSize+t.caretPadding;if(e==="left"&&i+o+s>n.width||e==="right"&&i-o-s<0)return!0}function Xj(e,n,t,r){let{x:i,width:o}=t,{width:s,chartArea:{left:a,right:c}}=e,l="center";return r==="center"?l=i<=(a+c)/2?"left":"right":i<=o/2?l="left":i>=s-o/2&&(l="right"),Qj(l,e,n,t)&&(l="center"),l}function rS(e,n,t){let r=t.yAlign||n.yAlign||Zj(e,t);return{xAlign:t.xAlign||n.xAlign||Xj(e,n,t,r),yAlign:r}}function eV(e,n){let{x:t,width:r}=e;return n==="right"?t-=r:n==="center"&&(t-=r/2),t}function tV(e,n,t){let{y:r,height:i}=e;return n==="top"?r+=t:n==="bottom"?r-=i+t:r-=i/2,r}function iS(e,n,t,r){let{caretSize:i,caretPadding:o,cornerRadius:s}=e,{xAlign:a,yAlign:c}=t,l=i+o,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Fr(s),p=eV(n,a),g=tV(n,c,l);return c==="center"?a==="left"?p+=l:a==="right"&&(p-=l):a==="left"?p-=Math.max(u,h)+i:a==="right"&&(p+=Math.max(d,f)+i),{x:Ve(p,0,r.width-n.width),y:Ve(g,0,r.height-n.height)}}function df(e,n,t){let r=rt(t.padding);return n==="center"?e.x+e.width/2:n==="right"?e.x+e.width-r.right:e.x+r.left}function oS(e){return Rn([],Xn(e))}function nV(e,n,t){return Zn(e,{tooltip:n,tooltipItems:t,type:"tooltip"})}function sS(e,n){let t=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return t?e.override(t):e}var LS={beforeTitle:Mn,title(e){if(e.length>0){let n=e[0],t=n.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return n.dataset.label||"";if(n.label)return n.label;if(r>0&&n.dataIndex<r)return t[n.dataIndex]}return""},afterTitle:Mn,beforeBody:Mn,beforeLabel:Mn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let n=e.dataset.label||"";n&&(n+=": ");let t=e.formattedValue;return Z(t)||(n+=t),n},labelColor(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Mn,afterBody:Mn,beforeFooter:Mn,footer:Mn,afterFooter:Mn};function Et(e,n,t,r){let i=e[n].call(t,r);return typeof i>"u"?LS[n].call(t,r):i}var aS=(()=>{class e extends hn{static positioners=xc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let r=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&r.options.animation&&i.animations,s=new gf(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=nV(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){let{callbacks:i}=r,o=Et(i,"beforeTitle",this,t),s=Et(i,"title",this,t),a=Et(i,"afterTitle",this,t),c=[];return c=Rn(c,Xn(o)),c=Rn(c,Xn(s)),c=Rn(c,Xn(a)),c}getBeforeBody(t,r){return oS(Et(r.callbacks,"beforeBody",this,t))}getBody(t,r){let{callbacks:i}=r,o=[];return de(t,s=>{let a={before:[],lines:[],after:[]},c=sS(i,s);Rn(a.before,Xn(Et(c,"beforeLabel",this,s))),Rn(a.lines,Et(c,"label",this,s)),Rn(a.after,Xn(Et(c,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(t,r){return oS(Et(r.callbacks,"afterBody",this,t))}getFooter(t,r){let{callbacks:i}=r,o=Et(i,"beforeFooter",this,t),s=Et(i,"footer",this,t),a=Et(i,"afterFooter",this,t),c=[];return c=Rn(c,Xn(o)),c=Rn(c,Xn(s)),c=Rn(c,Xn(a)),c}_createItems(t){let r=this._active,i=this.chart.data,o=[],s=[],a=[],c=[],l,u;for(l=0,u=r.length;l<u;++l)c.push(Jj(this.chart,r[l]));return t.filter&&(c=c.filter((d,h,f)=>t.filter(d,h,f,i))),t.itemSort&&(c=c.sort((d,h)=>t.itemSort(d,h,i))),de(c,d=>{let h=sS(t.callbacks,d);o.push(Et(h,"labelColor",this,d)),s.push(Et(h,"labelPointStyle",this,d)),a.push(Et(h,"labelTextColor",this,d))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=c,c}update(t,r){let i=this.options.setContext(this.getContext()),o=this._active,s,a=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{let c=xc[i.position].call(this,o,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);let l=this._size=nS(this,i),u=Object.assign({},c,l),d=rS(this.chart,i,u),h=iS(i,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,i,o){let s=this.getCaretPosition(t,i,o);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(t,r,i){let{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:c}=i,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:h}=Fr(c),{x:f,y:p}=t,{width:g,height:m}=r,y,v,_,b,w,D;return s==="center"?(w=p+m/2,o==="left"?(y=f,v=y-a,b=w+a,D=w-a):(y=f+g,v=y+a,b=w-a,D=w+a),_=y):(o==="left"?v=f+Math.max(l,d)+a:o==="right"?v=f+g-Math.max(u,h)-a:v=this.caretX,s==="top"?(b=p,w=b-a,y=v-a,_=v+a):(b=p+m,w=b+a,y=v+a,_=v-a),D=b),{x1:y,x2:v,x3:_,y1:b,y2:w,y3:D}}drawTitle(t,r,i){let o=this.title,s=o.length,a,c,l;if(s){let u=Gi(i.rtl,this.x,this.width);for(t.x=df(this,i.titleAlign,i),r.textAlign=u.textAlign(i.titleAlign),r.textBaseline="middle",a=Pe(i.titleFont),c=i.titleSpacing,r.fillStyle=i.titleColor,r.font=a.string,l=0;l<s;++l)r.fillText(o[l],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+c,l+1===s&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,r,i,o,s){let a=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=s,d=Pe(s.bodyFont),h=df(this,"left",s),f=o.x(h),p=l<d.lineHeight?(d.lineHeight-l)/2:0,g=r.y+p;if(s.usePointStyle){let m={radius:Math.min(u,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},y=o.leftForLtr(f,u)+u/2,v=g+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,ef(t,m,y,v),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,ef(t,m,y,v)}else{t.lineWidth=Q(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;let m=o.leftForLtr(f,u),y=o.leftForLtr(o.xPlus(f,1),u-2),v=Fr(a.borderRadius);Object.values(v).some(_=>_!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,gs(t,{x:m,y:g,w:u,h:l,radius:v}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),gs(t,{x:y,y:g+1,w:u-2,h:l-2,radius:v}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(m,g,u,l),t.strokeRect(m,g,u,l),t.fillStyle=a.backgroundColor,t.fillRect(y,g+1,u-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,r,i){let{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:u,boxPadding:d}=i,h=Pe(i.bodyFont),f=h.lineHeight,p=0,g=Gi(i.rtl,this.x,this.width),m=function(A){r.fillText(A,g.x(t.x+p),t.y+f/2),t.y+=f+s},y=g.textAlign(a),v,_,b,w,D,C,E;for(r.textAlign=a,r.textBaseline="middle",r.font=h.string,t.x=df(this,y,i),r.fillStyle=i.bodyColor,de(this.beforeBody,m),p=c&&y!=="right"?a==="center"?u/2+d:u+2+d:0,w=0,C=o.length;w<C;++w){for(v=o[w],_=this.labelTextColors[w],r.fillStyle=_,de(v.before,m),b=v.lines,c&&b.length&&(this._drawColorBox(r,t,w,g,i),f=Math.max(h.lineHeight,l)),D=0,E=b.length;D<E;++D)m(b[D]),f=h.lineHeight;de(v.after,m)}p=0,f=h.lineHeight,de(this.afterBody,m),t.y-=s}drawFooter(t,r,i){let o=this.footer,s=o.length,a,c;if(s){let l=Gi(i.rtl,this.x,this.width);for(t.x=df(this,i.footerAlign,i),t.y+=i.footerMarginTop,r.textAlign=l.textAlign(i.footerAlign),r.textBaseline="middle",a=Pe(i.footerFont),r.fillStyle=i.footerColor,r.font=a.string,c=0;c<s;++c)r.fillText(o[c],l.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,r,i,o){let{xAlign:s,yAlign:a}=this,{x:c,y:l}=t,{width:u,height:d}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=Fr(o.cornerRadius);r.fillStyle=o.backgroundColor,r.strokeStyle=o.borderColor,r.lineWidth=o.borderWidth,r.beginPath(),r.moveTo(c+h,l),a==="top"&&this.drawCaret(t,r,i,o),r.lineTo(c+u-f,l),r.quadraticCurveTo(c+u,l,c+u,l+f),a==="center"&&s==="right"&&this.drawCaret(t,r,i,o),r.lineTo(c+u,l+d-g),r.quadraticCurveTo(c+u,l+d,c+u-g,l+d),a==="bottom"&&this.drawCaret(t,r,i,o),r.lineTo(c+p,l+d),r.quadraticCurveTo(c,l+d,c,l+d-p),a==="center"&&s==="left"&&this.drawCaret(t,r,i,o),r.lineTo(c,l+h),r.quadraticCurveTo(c,l,c+h,l),r.closePath(),r.fill(),o.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){let r=this.chart,i=this.$animations,o=i&&i.x,s=i&&i.y;if(o||s){let a=xc[t.position].call(this,this._active,this._eventPosition);if(!a)return;let c=this._size=nS(this,t),l=Object.assign({},a,this._size),u=rS(r,t,l),d=iS(t,l,u,r);(o._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){let r=this.options.setContext(this.getContext()),i=this.opacity;if(!i)return;this._updateAnimationTarget(r);let o={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;let a=rt(r.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,o,r),oy(t,r.textDirection),s.y+=a.top,this.drawTitle(s,t,r),this.drawBody(s,t,r),this.drawFooter(s,t,r),sy(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){let i=this._active,o=t.map(({datasetIndex:c,index:l})=>{let u=this.chart.getDatasetMeta(c);if(!u)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:u.data[l],index:l}}),s=!vc(i,o),a=this._positionChanged(o,r);(s||a)&&(this._active=o,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,s=this._active||[],a=this._getActiveElements(t,s,r,i),c=this._positionChanged(a,t),l=r||!vc(a,s)||c;return l&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),l}_getActiveElements(t,r,i,o){let s=this.options;if(t.type==="mouseout")return[];if(!o)return r.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let a=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(t,r){let{caretX:i,caretY:o,options:s}=this,a=xc[s.position].call(this,t,r);return a!==!1&&(i!==a.x||o!==a.y)}}return e})(),rV={id:"tooltip",_element:aS,positioners:xc,afterInit(e,n,t){t&&(e.tooltip=new aS({chart:e,options:t}))},beforeUpdate(e,n,t){e.tooltip&&e.tooltip.initialize(t)},reset(e,n,t){e.tooltip&&e.tooltip.initialize(t)},afterDraw(e){let n=e.tooltip;if(n&&n._willRender()){let t={tooltip:n};if(e.notifyPlugins("beforeTooltipDraw",q(I({},t),{cancelable:!0}))===!1)return;n.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",t)}},afterEvent(e,n){if(e.tooltip){let t=n.replay;e.tooltip.handleEvent(n.event,t,n.inChartArea)&&(n.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,n)=>n.bodyFont.size,boxWidth:(e,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:LS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},iV=Object.freeze({__proto__:null,Colors:mj,Decimation:_j,Filler:Bj,Legend:Gj,SubTitle:Yj,Title:Kj,Tooltip:rV}),oV=(e,n,t,r)=>(typeof n=="string"?(t=e.push(n)-1,r.unshift({index:t,label:n})):isNaN(n)&&(t=null),t);function sV(e,n,t,r){let i=e.indexOf(n);if(i===-1)return oV(e,n,t,r);let o=e.lastIndexOf(n);return i!==o?t:i}var aV=(e,n)=>e===null?null:Ve(Math.round(e),0,n);function cS(e){let n=this.getLabels();return e>=0&&e<n.length?n[e]:e}var cV=(()=>{class e extends Yi{static id="category";static defaults={ticks:{callback:cS}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let r=this._addedLabels;if(r.length){let i=this.getLabels();for(let{index:o,label:s}of r)i[o]===s&&i.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(Z(t))return null;let i=this.getLabels();return r=isFinite(r)&&i[r]===t?r:sV(i,t,B(r,t),this._addedLabels),aV(r,i.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:r}=this.getUserBounds(),{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),r||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){let t=this.min,r=this.max,i=this.options.offset,o=[],s=this.getLabels();s=t===0&&r===s.length-1?s:s.slice(t,r+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=r;a++)o.push({value:a});return o}getLabelForValue(t){return cS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return e})();function lV(e,n){let t=[],{bounds:i,step:o,min:s,max:a,precision:c,count:l,maxTicks:u,maxDigits:d,includeBounds:h}=e,f=o||1,p=u-1,{min:g,max:m}=n,y=!Z(s),v=!Z(a),_=!Z(l),b=(m-g)/(d+1),w=jm((m-g)/p/f)*f,D,C,E,A;if(w<1e-14&&!y&&!v)return[{value:g},{value:m}];A=Math.ceil(m/w)-Math.floor(g/w),A>p&&(w=jm(A*w/p/f)*f),Z(c)||(D=Math.pow(10,c),w=Math.ceil(w*D)/D),i==="ticks"?(C=Math.floor(g/w)*w,E=Math.ceil(m/w)*w):(C=g,E=m),y&&v&&o&&KE((a-s)/o,w/1e3)?(A=Math.round(Math.min((a-s)/w,u)),w=(a-s)/A,C=s,E=a):_?(C=y?s:C,E=v?a:E,A=l-1,w=(E-C)/A):(A=(E-C)/w,fs(A,Math.round(A),w/1e3)?A=Math.round(A):A=Math.ceil(A));let F=Math.max(Bm(w),Bm(C));D=Math.pow(10,Z(c)?F:c),C=Math.round(C*D)/D,E=Math.round(E*D)/D;let W=0;for(y&&(h&&C!==s?(t.push({value:s}),C<s&&W++,fs(Math.round((C+W*w)*D)/D,s,lS(s,b,e))&&W++):C<s&&W++);W<A;++W){let X=Math.round((C+W*w)*D)/D;if(v&&X>a)break;t.push({value:X})}return v&&h&&E!==a?t.length&&fs(t[t.length-1].value,a,lS(a,b,e))?t[t.length-1].value=a:t.push({value:a}):(!v||E===a)&&t.push({value:E}),t}function lS(e,n,{horizontal:t,minRotation:r}){let i=Kt(r),o=(t?Math.sin(i):Math.cos(i))||.001,s=.75*n*(""+e).length;return Math.min(n/o,s)}var bs=class extends Yi{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,t){return Z(n)||(typeof n=="number"||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){let{beginAtZero:n}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds(),{min:i,max:o}=this,s=c=>i=t?i:c,a=c=>o=r?o:c;if(n){let c=fn(i),l=fn(o);c<0&&l<0?a(0):c>0&&l>0&&s(0)}if(i===o){let c=o===0?1:Math.abs(o*.05);a(o+c),n||s(i-c)}this.min=i,this.max=o}getTickLimit(){let n=this.options.ticks,{maxTicksLimit:t,stepSize:r}=n,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let n=this.options,t=n.ticks,r=this.getTickLimit();r=Math.max(2,r);let i={maxTicks:r,bounds:n.bounds,min:n.min,max:n.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,s=lV(i,o);return n.bounds==="ticks"&&Vm(s,this,"value"),n.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let n=this.ticks,t=this.min,r=this.max;if(super.configure(),this.options.offset&&n.length){let i=(r-t)/Math.max(n.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(n){return ps(n,this.chart.options.locale,this.options.ticks.format)}},Fy=class extends bs{static id="linear";static defaults={ticks:{callback:bc.formatters.numeric}};determineDataLimits(){let{min:n,max:t}=this.getMinMax(!0);this.min=Ce(n)?n:0,this.max=Ce(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let n=this.isHorizontal(),t=n?this.width:this.height,r=Kt(this.options.ticks.minRotation),i=(n?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/i))}getPixelForValue(n){return n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}},Rc=e=>Math.floor(Yn(e)),Ki=(e,n)=>Math.pow(10,Rc(e)+n);function uS(e){return e/Math.pow(10,Rc(e))===1}function dS(e,n,t){let r=Math.pow(10,t),i=Math.floor(e/r);return Math.ceil(n/r)-i}function uV(e,n){let t=n-e,r=Rc(t);for(;dS(e,n,r)>10;)r++;for(;dS(e,n,r)<10;)r--;return Math.min(r,Rc(e))}function dV(e,{min:n,max:t}){n=Dt(e.min,n);let r=[],i=Rc(n),o=uV(n,t),s=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),c=i>o?Math.pow(10,i):0,l=Math.round((n-c)*s)/s,u=Math.floor((n-c)/a/10)*a*10,d=Math.floor((l-u)/Math.pow(10,o)),h=Dt(e.min,Math.round((c+u+d*Math.pow(10,o))*s)/s);for(;h<t;)r.push({value:h,major:uS(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,s=o>=0?1:s),h=Math.round((c+u+d*Math.pow(10,o))*s)/s;let f=Dt(e.max,h);return r.push({value:f,major:uS(f),significand:d}),r}var Ly=class extends Yi{static id="logarithmic";static defaults={ticks:{callback:bc.formatters.logarithmic,major:{enabled:!0}}};constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,t){let r=bs.prototype.parse.apply(this,[n,t]);if(r===0){this._zero=!0;return}return Ce(r)&&r>0?r:null}determineDataLimits(){let{min:n,max:t}=this.getMinMax(!0);this.min=Ce(n)?Math.max(0,n):null,this.max=Ce(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ce(this._userMin)&&(this.min=n===Ki(this.min,0)?Ki(this.min,-1):Ki(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:n,maxDefined:t}=this.getUserBounds(),r=this.min,i=this.max,o=a=>r=n?r:a,s=a=>i=t?i:a;r===i&&(r<=0?(o(1),s(10)):(o(Ki(r,-1)),s(Ki(i,1)))),r<=0&&o(Ki(i,-1)),i<=0&&s(Ki(r,1)),this.min=r,this.max=i}buildTicks(){let n=this.options,t={min:this._userMin,max:this._userMax},r=dV(t,this);return n.bounds==="ticks"&&Vm(r,this,"value"),n.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(n){return n===void 0?"0":ps(n,this.chart.options.locale,this.options.ticks.format)}configure(){let n=this.min;super.configure(),this._startValue=Yn(n),this._valueRange=Yn(this.max)-Yn(n)}getPixelForValue(n){return(n===void 0||n===0)&&(n=this.min),n===null||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(Yn(n)-this._startValue)/this._valueRange)}getValueForPixel(n){let t=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+t*this._valueRange)}};function jy(e){let n=e.ticks;if(n.display&&e.display){let t=rt(n.backdropPadding);return B(n.font&&n.font.size,be.font.size)+t.height}return 0}function fV(e,n,t){return t=me(t)?t:[t],{w:rC(e,n.string,t),h:t.length*n.lineHeight}}function fS(e,n,t,r,i){return e===r||e===i?{start:n-t/2,end:n+t/2}:e<r||e>i?{start:n-t,end:n}:{start:n,end:n+t}}function hV(e){let n={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},t=Object.assign({},n),r=[],i=[],o=e._pointLabels.length,s=e.options.pointLabels,a=s.centerPointLabels?ne/o:0;for(let c=0;c<o;c++){let l=s.setContext(e.getPointLabelContext(c));i[c]=l.padding;let u=e.getPointPosition(c,e.drawingArea+i[c],a),d=Pe(l.font),h=fV(e.ctx,d,e._pointLabels[c]);r[c]=h;let f=tt(e.getIndexAngle(c)+a),p=Math.round(Jd(f)),g=fS(p,u.x,h.w,0,180),m=fS(p,u.y,h.h,90,270);pV(t,n,f,g,m)}e.setCenterPoint(n.l-t.l,t.r-n.r,n.t-t.t,t.b-n.b),e._pointLabelItems=yV(e,r,i)}function pV(e,n,t,r,i){let o=Math.abs(Math.sin(t)),s=Math.abs(Math.cos(t)),a=0,c=0;r.start<n.l?(a=(n.l-r.start)/o,e.l=Math.min(e.l,n.l-a)):r.end>n.r&&(a=(r.end-n.r)/o,e.r=Math.max(e.r,n.r+a)),i.start<n.t?(c=(n.t-i.start)/s,e.t=Math.min(e.t,n.t-c)):i.end>n.b&&(c=(i.end-n.b)/s,e.b=Math.max(e.b,n.b+c))}function gV(e,n,t){let r=e.drawingArea,{extra:i,additionalAngle:o,padding:s,size:a}=t,c=e.getPointPosition(n,r+i+s,o),l=Math.round(Jd(tt(c.angle+Te))),u=_V(c.y,a.h,l),d=vV(l),h=bV(c.x,a.w,d);return{visible:!0,x:c.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function mV(e,n){if(!n)return!0;let{left:t,top:r,right:i,bottom:o}=e;return!(xn({x:t,y:r},n)||xn({x:t,y:o},n)||xn({x:i,y:r},n)||xn({x:i,y:o},n))}function yV(e,n,t){let r=[],i=e._pointLabels.length,o=e.options,{centerPointLabels:s,display:a}=o.pointLabels,c={extra:jy(o)/2,additionalAngle:s?ne/i:0},l;for(let u=0;u<i;u++){c.padding=t[u],c.size=n[u];let d=gV(e,u,c);r.push(d),a==="auto"&&(d.visible=mV(d,l),d.visible&&(l=d))}return r}function vV(e){return e===0||e===180?"center":e<180?"left":"right"}function bV(e,n,t){return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function _V(e,n,t){return t===90||t===270?e-=n/2:(t>270||t<90)&&(e-=n),e}function wV(e,n,t){let{left:r,top:i,right:o,bottom:s}=t,{backdropColor:a}=n;if(!Z(a)){let c=Fr(n.borderRadius),l=rt(n.backdropPadding);e.fillStyle=a;let u=r-l.left,d=i-l.top,h=o-r+l.width,f=s-i+l.height;Object.values(c).some(p=>p!==0)?(e.beginPath(),gs(e,{x:u,y:d,w:h,h:f,radius:c}),e.fill()):e.fillRect(u,d,h,f)}}function DV(e,n){let{ctx:t,options:{pointLabels:r}}=e;for(let i=n-1;i>=0;i--){let o=e._pointLabelItems[i];if(!o.visible)continue;let s=r.setContext(e.getPointLabelContext(i));wV(t,s,o);let a=Pe(s.font),{x:c,y:l,textAlign:u}=o;Pr(t,e._pointLabels[i],c,l+a.lineHeight/2,a,{color:s.color,textAlign:u,textBaseline:"middle"})}}function jS(e,n,t,r){let{ctx:i}=e;if(t)i.arc(e.xCenter,e.yCenter,n,0,ye);else{let o=e.getPointPosition(0,n);i.moveTo(o.x,o.y);for(let s=1;s<r;s++)o=e.getPointPosition(s,n),i.lineTo(o.x,o.y)}}function EV(e,n,t,r,i){let o=e.ctx,s=n.circular,{color:a,lineWidth:c}=n;!s&&!r||!a||!c||t<0||(o.save(),o.strokeStyle=a,o.lineWidth=c,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),jS(e,t,s,r),o.closePath(),o.stroke(),o.restore())}function CV(e,n,t){return Zn(e,{label:t,index:n,type:"pointLabel"})}var Vy=class extends bs{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:bc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let n=this._padding=rt(jy(this.options)/2),t=this.width=this.maxWidth-n.width,r=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+t/2+n.left),this.yCenter=Math.floor(this.top+r/2+n.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){let{min:n,max:t}=this.getMinMax(!1);this.min=Ce(n)&&!isNaN(n)?n:0,this.max=Ce(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/jy(this.options))}generateTickLabels(n){bs.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((t,r)=>{let i=ge(this.options.pointLabels.callback,[t,r],this);return i||i===0?i:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){let n=this.options;n.display&&n.pointLabels.display?hV(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,t,r,i){this.xCenter+=Math.floor((n-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,t,r,i))}getIndexAngle(n){let t=ye/(this._pointLabels.length||1),r=this.options.startAngle||0;return tt(n*t+Kt(r))}getDistanceFromCenterForValue(n){if(Z(n))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*t:(n-this.min)*t}getValueForDistanceFromCenter(n){if(Z(n))return NaN;let t=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(n){let t=this._pointLabels||[];if(n>=0&&n<t.length){let r=t[n];return CV(this.getContext(),n,r)}}getPointPosition(n,t,r=0){let i=this.getIndexAngle(n)-Te+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(n,t){return this.getPointPosition(n,this.getDistanceFromCenterForValue(t))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){let{left:t,top:r,right:i,bottom:o}=this._pointLabelItems[n];return{left:t,top:r,right:i,bottom:o}}drawBackground(){let{backgroundColor:n,grid:{circular:t}}=this.options;if(n){let r=this.ctx;r.save(),r.beginPath(),jS(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=n,r.fill(),r.restore()}}drawGrid(){let n=this.ctx,t=this.options,{angleLines:r,grid:i,border:o}=t,s=this._pointLabels.length,a,c,l;if(t.pointLabels.display&&DV(this,s),i.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);let h=this.getContext(d),f=i.setContext(h),p=o.setContext(h);EV(this,f,c,s,p)}}),r.display){for(n.save(),a=s-1;a>=0;a--){let u=r.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(n.lineWidth=h,n.strokeStyle=d,n.setLineDash(u.borderDash),n.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(a,c),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(l.x,l.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let n=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;let i=this.getIndexAngle(0),o,s;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(i),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;let l=r.setContext(this.getContext(c)),u=Pe(l.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){n.font=u.string,s=n.measureText(a.label).width,n.fillStyle=l.backdropColor;let d=rt(l.backdropPadding);n.fillRect(-s/2-d.left,-o-u.size/2-d.top,s+d.width,u.size+d.height)}Pr(n,a.label,0,-o,u,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),n.restore()}drawTitle(){}},Cf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ct=Object.keys(Cf);function hS(e,n){return e-n}function pS(e,n){if(Z(n))return null;let t=e._adapter,{parser:r,round:i,isoWeekday:o}=e._parseOpts,s=n;return typeof r=="function"&&(s=r(s)),Ce(s)||(s=typeof r=="string"?t.parse(s,r):t.parse(s)),s===null?null:(i&&(s=i==="week"&&(Wi(o)||o===!0)?t.startOf(s,"isoWeek",o):t.startOf(s,i)),+s)}function gS(e,n,t,r){let i=Ct.length;for(let o=Ct.indexOf(e);o<i-1;++o){let s=Cf[Ct[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((t-n)/(a*s.size))<=r)return Ct[o]}return Ct[i-1]}function SV(e,n,t,r,i){for(let o=Ct.length-1;o>=Ct.indexOf(t);o--){let s=Ct[o];if(Cf[s].common&&e._adapter.diff(i,r,s)>=n-1)return s}return Ct[t?Ct.indexOf(t):0]}function IV(e){for(let n=Ct.indexOf(e)+1,t=Ct.length;n<t;++n)if(Cf[Ct[n]].common)return Ct[n]}function mS(e,n,t){if(!t)e[n]=!0;else if(t.length){let{lo:r,hi:i}=Zd(t,n),o=t[r]>=n?t[r]:t[i];e[o]=!0}}function TV(e,n,t,r){let i=e._adapter,o=+i.startOf(n[0].value,r),s=n[n.length-1].value,a,c;for(a=o;a<=s;a=+i.add(a,1,r))c=t[a],c>=0&&(n[c].major=!0);return n}function yS(e,n,t){let r=[],i={},o=n.length,s,a;for(s=0;s<o;++s)a=n[s],i[a]=s,r.push({value:a,major:!1});return o===0||!t?r:TV(e,r,i,t)}var By=(()=>{class e extends Yi{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){let i=t.time||(t.time={}),o=this._adapter=new j1._date(t.adapters.date);o.init(r),us(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:pS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,r=this._adapter,i=t.time.unit||"day",{min:o,max:s,minDefined:a,maxDefined:c}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(o=Math.min(o,u.min)),!c&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!c)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),o=Ce(o)&&!isNaN(o)?o:+r.startOf(Date.now(),i),s=Ce(s)&&!isNaN(s)?s:+r.endOf(Date.now(),i)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){let t=this.getLabelTimestamps(),r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],i=t[t.length-1]),{min:r,max:i}}buildTicks(){let t=this.options,r=t.time,i=t.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let s=this.min,a=this.max,c=ZE(o,s,a);return this._unit=r.unit||(i.autoSkip?gS(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):SV(this,c.length,r.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:IV(this._unit),this.initOffsets(o),t.reverse&&c.reverse(),yS(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r=0,i=0,o,s;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),t.length===1?r=1-o:r=(this.getDecimalForValue(t[1])-o)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);let a=t.length<3?.5:.25;r=Ve(r,0,a),i=Ve(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){let t=this._adapter,r=this.min,i=this.max,o=this.options,s=o.time,a=s.unit||gS(s.minUnit,r,i,this._getLabelCapacity(r)),c=B(o.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,u=Wi(l)||l===!0,d={},h=r,f,p;if(u&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,u?"day":a),t.diff(i,r,a)>1e5*c)throw new Error(r+" and "+i+" are too far apart with stepSize of "+c+" "+a);let g=o.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<i;f=+t.add(f,c,a),p++)mS(d,f,g);return(f===i||o.bounds==="ticks"||p===1)&&mS(d,f,g),Object.keys(d).sort(hS).map(m=>+m)}getLabelForValue(t){let r=this._adapter,i=this.options.time;return i.tooltipFormat?r.format(t,i.tooltipFormat):r.format(t,i.displayFormats.datetime)}format(t,r){let o=this.options.time.displayFormats,s=this._unit,a=r||o[s];return this._adapter.format(t,a)}_tickFormatFunction(t,r,i,o){let s=this.options,a=s.ticks.callback;if(a)return ge(a,[t,r,i],this);let c=s.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&c[l],h=u&&c[u],f=i[r],p=u&&h&&f&&f.major;return this._adapter.format(t,o||(p?h:d))}generateTickLabels(t){let r,i,o;for(r=0,i=t.length;r<i;++r)o=t[r],o.label=this._tickFormatFunction(o.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let r=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(t){let r=this._offsets,i=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){let r=this.options.ticks,i=this.ctx.measureText(t).width,o=Kt(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(o),a=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:i*s+c*a,h:i*a+c*s}}_getLabelCapacity(t){let r=this.options.time,i=r.displayFormats,o=i[r.unit]||i.millisecond,s=this._tickFormatFunction(t,0,yS(this,[t],this._majorUnit),o),a=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],r,i;if(t.length)return t;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(r=0,i=o.length;r<i;++r)t=t.concat(o[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],r,i;if(t.length)return t;let o=this.getLabels();for(r=0,i=o.length;r<i;++r)t.push(pS(this,o[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Hm(t.sort(hS))}}return e})();function ff(e,n,t){let r=0,i=e.length-1,o,s,a,c;t?(n>=e[r].pos&&n<=e[i].pos&&({lo:r,hi:i}=Tn(e,"pos",n)),{pos:o,time:a}=e[r],{pos:s,time:c}=e[i]):(n>=e[r].time&&n<=e[i].time&&({lo:r,hi:i}=Tn(e,"time",n)),{time:o,pos:a}=e[r],{time:s,pos:c}=e[i]);let l=s-o;return l?a+(c-a)*(n-o)/l:a}var Uy=class extends By{static id="timeseries";static defaults=By.defaults;constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let n=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(n);this._minPos=ff(t,this.min),this._tableRange=ff(t,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){let{min:t,max:r}=this,i=[],o=[],s,a,c,l,u;for(s=0,a=n.length;s<a;++s)l=n[s],l>=t&&l<=r&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(s=0,a=i.length;s<a;++s)u=i[s+1],c=i[s-1],l=i[s],Math.round((u+c)/2)!==l&&o.push({time:l,pos:s/(a-1)});return o}_generate(){let n=this.min,t=this.max,r=super.getDataTimestamps();return(!r.includes(n)||!r.length)&&r.splice(0,0,n),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;let t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?n=this.normalize(t.concat(r)):n=t.length?t:r,n=this._cache.all=n,n}getDecimalForValue(n){return(ff(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){let t=this._offsets,r=this.getDecimalForPixel(n)/t.factor-t.end;return ff(this._table,r*this._tableRange+this._minPos,!0)}},xV=Object.freeze({__proto__:null,CategoryScale:cV,LinearScale:Fy,LogarithmicScale:Ly,RadialLinearScale:Vy,TimeScale:By,TimeSeriesScale:Uy}),VS=[L1,lj,iV,xV];wf.register(...VS);var BS=wf;function MV(e,n){if(e&1&&(x(0,"div",21)(1,"strong"),R(2),T(),at(3,"br"),R(4),T()),e&2){let t=n.$implicit;J(2),vi(t.name),J(2),uu(" ",t.kcal," kcal \u2014 ",t.date," ")}}function AV(e,n){e&1&&(x(0,"div",22),R(1," No meals recorded "),T())}var Sf=class e{constructor(n,t){this.cdr=n;this.router=t}userId;totalCalories=0;meals=[];weeklyLabels=[];weeklyCalories=[];sidebarOpen=!0;toggleSidebar(){this.sidebarOpen=!this.sidebarOpen}async ngAfterViewInit(){this.userId=Number(localStorage.getItem("user_id"));let n=localStorage.getItem("userId");if(!n){console.warn("No user logged in");return}this.userId=Number(n),await this.loadTodayCalories(),await this.loadRecentMeals(),await this.loadWeeklyChart()}async loadTodayCalories(){let n=new Date().toLocaleDateString("en-CA"),{data:t}=await kt.from("users_meals").select("kcal").eq("user_id",this.userId).eq("date",n);this.totalCalories=t?.reduce((r,i)=>r+Number(i.kcal||0),0)||0}async loadRecentMeals(){let{data:n}=await kt.from("users_meals").select(`
        date,
        kcal,
        meals!inner (
          name
        )
      `).eq("user_id",this.userId).order("date",{ascending:!1}).limit(10);this.meals=(n||[]).map(t=>({name:t.meals?.name||"Unknown meal",kcal:t.kcal,date:t.date})),this.cdr.detectChanges()}async loadWeeklyChart(){let n=new Date;n.setDate(n.getDate()-6);let t=n.toISOString().split("T")[0],{data:r}=await kt.from("users_meals").select("date, kcal").eq("user_id",this.userId).gte("date",t).order("date");if(!r||r.length===0){this.renderChart([],[]);return}let i={};for(let o of r)i[o.date]=(i[o.date]||0)+Number(o.kcal);this.weeklyLabels=Object.keys(i),this.weeklyCalories=Object.values(i),this.renderChart(this.weeklyLabels,this.weeklyCalories)}renderChart(n,t){let r=document.getElementById("weeklyChart");new BS(r,{type:"bar",data:{labels:n,datasets:[{label:"Calories",data:t,borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}})}goToUserDashboard(){this.router.navigate(["/user-dashboard"])}goToGoals(){this.router.navigate(["/check-goals"])}goToLogCal(){this.router.navigate(["/log-cal"])}logout(){localStorage.clear(),location.href="/"}static \u0275fac=function(t){return new(t||e)(V(wt),V(Ht))};static \u0275cmp=Fe({type:e,selectors:[["app-user-dashboard"]],decls:38,vars:3,consts:[[1,"page-bg"],[1,"d-flex","vh-100"],[1,"bg-dark","text-white","p-3",2,"width","240px"],[1,"mb-4"],[1,"nav","flex-column","gap-2"],[1,"nav-item"],[1,"btn","btn-outline-light","w-100",3,"click"],[1,"nav-item","mt-auto"],[1,"flex-grow-1","p-4"],[1,"row","g-4"],[1,"col-lg-8"],[1,"card","shadow-sm","mb-4","text-center","p-4"],[1,"fw-bold"],[1,"text-muted"],[1,"card","shadow-sm","p-4","bg-gray","text-white"],[1,"mb-3"],["id","weeklyChart"],[1,"col-lg-4"],[1,"card","shadow-sm","p-3","h-100"],["class","d-flex justify-content-between border-bottom py-2",4,"ngFor","ngForOf"],["class","text-muted text-center mt-3",4,"ngIf"],[1,"d-flex","justify-content-between","border-bottom","py-2"],[1,"text-muted","text-center","mt-3"]],template:function(t,r){t&1&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),R(4,"CalTrack"),T(),x(5,"ul",4)(6,"li",5)(7,"button",6),fe("click",function(){return r.goToUserDashboard()}),R(8," User Dashboard "),T()(),x(9,"li",5)(10,"button",6),fe("click",function(){return r.goToGoals()}),R(11," Goals "),T()(),x(12,"li",5)(13,"button",6),fe("click",function(){return r.goToLogCal()}),R(14," Log Calories "),T()(),x(15,"li",7)(16,"button",6),fe("click",function(){return r.logout()}),R(17," Sign Out "),T()()()(),x(18,"div",8)(19,"div",9)(20,"div",10)(21,"div",11)(22,"h5"),R(23,"Total calories today"),T(),x(24,"h1",12),R(25),T(),x(26,"span",13),R(27,"kcal"),T()(),x(28,"div",14)(29,"h5",15),R(30,"Weekly intake"),T(),at(31,"canvas",16),T()(),x(32,"div",17)(33,"div",18)(34,"h5",15),R(35,"Meals consumed"),T(),sn(36,MV,5,3,"div",19)(37,AV,2,0,"div",20),T()()()()()()),t&2&&(J(25),vi(r.totalCalories),J(11),Oe("ngForOf",r.meals),J(),Oe("ngIf",r.meals.length===0))},dependencies:[En,xo,Un],styles:[".page-bg[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#77498d,#f6ebe6,#ffeef9)}"]})};var If=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Fe({type:e,selectors:[["app-check-goals"]],decls:2,vars:0,template:function(t,r){t&1&&(gr(0,"p"),R(1,"check-goals works!"),mr())},encapsulation:2})};var Tf=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Fe({type:e,selectors:[["app-check-users"]],decls:2,vars:0,template:function(t,r){t&1&&(gr(0,"p"),R(1,"check-users works!"),mr())},encapsulation:2})};function RV(e,n){if(e&1&&at(0,"option",26),e&2){let t=n.$implicit;Oe("value",t.name)}}function kV(e,n){if(e&1&&(x(0,"div",27)(1,"span"),R(2),T(),x(3,"strong"),R(4),T()()),e&2){let t=n.$implicit;J(2),vi(t.name),J(2),an("",t.kcal," kcal")}}function NV(e,n){e&1&&(x(0,"div",28),R(1," No meals today "),T())}var xf=class e{constructor(n,t){this.cdr=n;this.router=t}userId;meals=[];selectedMeal=null;selectedMealName="";weight=0;calculatedCalories=0;todayMeals=[];loading=!1;async ngAfterViewInit(){this.userId=Number(localStorage.getItem("userId")),await this.loadMeals(),await this.loadTodayMeals()}async loadMeals(){let{data:n,error:t}=await kt.from("meals").select("id, name, kcal, weight").order("name");if(t){console.error(t);return}this.meals=n}onMealSelected(){this.selectedMeal=this.meals.find(n=>n.name.toLowerCase()===this.selectedMealName.toLowerCase())??null,this.calculateCalories()}calculateCalories(){if(!this.selectedMeal||!this.weight){this.calculatedCalories=0;return}this.calculatedCalories=Math.round(this.selectedMeal.kcal/this.selectedMeal.weight*this.weight)}async logMeal(){if(!this.selectedMeal||this.loading)return;this.loading=!0;let n=new Date().toISOString().split("T")[0],{error:t}=await kt.from("users_meals").insert({user_id:this.userId,meal_id:this.selectedMeal.id,date:n,kcal:this.calculatedCalories});if(this.loading=!1,t){console.error("Insert failed:",t);return}this.weight=0,this.calculatedCalories=0,this.selectedMealName="",this.selectedMeal=null,await this.loadTodayMeals()}async loadTodayMeals(){let n=new Date().toISOString().split("T")[0],{data:t,error:r}=await kt.from("users_meals").select(`
        kcal,
        meals!inner (
          name
        )
      `).eq("user_id",this.userId).eq("date",n).order("id",{ascending:!1});if(r){console.error(r);return}let i=t;this.todayMeals=i.map(o=>({name:o.meals?.name??"Unknown",kcal:o.kcal})),this.cdr.detectChanges()}goToUserDashboard(){this.router.navigate(["/user-dashboard"])}goToGoals(){this.router.navigate(["/check-goals"])}goToLogCal(){this.router.navigate(["/log-cal"])}logout(){localStorage.clear(),location.href="/"}static \u0275fac=function(t){return new(t||e)(V(wt),V(Ht))};static \u0275cmp=Fe({type:e,selectors:[["app-log-cal"]],decls:43,vars:8,consts:[["form","ngForm"],[1,"page-bg"],[1,"d-flex","vh-100"],[1,"bg-dark","text-white","p-3",2,"width","240px"],[1,"mb-4"],[1,"nav","flex-column","gap-2"],[1,"nav-item"],[1,"btn","btn-outline-light","w-100",3,"click"],[1,"nav-item","mt-auto"],[1,"flex-grow-1","p-4","d-flex","justify-content-center"],[1,"card","shadow-sm","p-4",2,"width","400px"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"form-label"],["list","mealsList","name","meal","required","",1,"form-control",3,"ngModelChange","input","ngModel"],["id","mealsList"],[3,"value",4,"ngFor","ngForOf"],[1,"form-label","mt-3"],["type","number","min","0","name","weight","required","",1,"form-control",3,"ngModelChange","input","ngModel"],["disabled","",1,"form-control",3,"value"],["type","submit",1,"btn","btn-primary","w-100","mt-4",3,"disabled"],[1,"p-4",2,"width","350px"],[1,"card","shadow-sm","p-3","h-100"],[1,"mb-3"],["class","d-flex justify-content-between border-bottom py-2",4,"ngFor","ngForOf"],["class","text-muted text-center mt-3",4,"ngIf"],[3,"value"],[1,"d-flex","justify-content-between","border-bottom","py-2"],[1,"text-muted","text-center","mt-3"]],template:function(t,r){if(t&1){let i=yi();x(0,"div",1)(1,"div",2)(2,"div",3)(3,"h4",4),R(4,"CalTrack"),T(),x(5,"ul",5)(6,"li",6)(7,"button",7),fe("click",function(){return ie(i),oe(r.goToUserDashboard())}),R(8," User Dashboard "),T()(),x(9,"li",6)(10,"button",7),fe("click",function(){return ie(i),oe(r.goToGoals())}),R(11," Goals "),T()(),x(12,"li",6)(13,"button",7),fe("click",function(){return ie(i),oe(r.goToLogCal())}),R(14," Log Calories "),T()(),x(15,"li",8)(16,"button",7),fe("click",function(){return ie(i),oe(r.logout())}),R(17," Sign Out "),T()()()(),x(18,"div",9)(19,"div",10)(20,"h4",11),R(21,"Register your meal"),T(),x(22,"form",12,0),fe("ngSubmit",function(){return ie(i),oe(r.logMeal())}),x(24,"label",13),R(25,"Name"),T(),x(26,"input",14),He("ngModelChange",function(s){return ie(i),Qe(r.selectedMealName,s)||(r.selectedMealName=s),oe(s)}),fe("input",function(){return ie(i),oe(r.onMealSelected())}),T(),x(27,"datalist",15),sn(28,RV,1,1,"option",16),T(),x(29,"label",17),R(30,"Weight (g)"),T(),x(31,"input",18),He("ngModelChange",function(s){return ie(i),Qe(r.weight,s)||(r.weight=s),oe(s)}),fe("input",function(){return ie(i),oe(r.calculateCalories())}),T(),x(32,"label",17),R(33,"Calories"),T(),at(34,"input",19),x(35,"button",20),R(36),T()()()(),x(37,"div",21)(38,"div",22)(39,"h5",23),R(40,"Today's meals"),T(),sn(41,kV,5,2,"div",24)(42,NV,2,0,"div",25),T()()()()}t&2&&(J(26),$e("ngModel",r.selectedMealName),J(2),Oe("ngForOf",r.meals),J(3),$e("ngModel",r.weight),J(3),Oe("value",r.calculatedCalories),J(),Oe("disabled",!r.selectedMeal||r.loading),J(),an(" ",r.loading?"Logging...":"Log meal"," "),J(5),Oe("ngForOf",r.todayMeals),J(),Oe("ngIf",r.todayMeals.length===0))},dependencies:[En,xo,Un,Ko,qo,wD,ED,Cr,Ga,Wo,Go,Mi,nm,xi,Ti],encapsulation:2})};var Mf=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Fe({type:e,selectors:[["app-nutri-dashboard"]],decls:2,vars:0,template:function(t,r){t&1&&(gr(0,"p"),R(1,"nutri-dashboard works!"),mr())},encapsulation:2})};function OV(e,n){if(e&1&&(x(0,"div",36),R(1),T()),e&2){let t=ca();J(),an(" ",t.errorMessage," ")}}var Af=class e{constructor(n,t){this.router=n;this.cdr=t}showPassword=!1;errorMessage="";user={firstName:"",firstLastName:"",secondLastName:"",height:null,weight:null,age:null,phoneNumber:"",username:"",password:""};navigateToLogin(n){n.preventDefault(),this.router.navigate([""])}async createUser(n){let{error:t}=await kt.from("users").insert([{firstName:n.firstName,firstLastName:n.firstLastName,secondLastName:n.secondLastName,height:n.height,weight:n.weight,age:n.age,phoneNumber:n.phoneNumber,username:n.username,password:n.password}]);t?t.code==="23505"?(this.errorMessage="Email already exists",this.cdr.detectChanges()):(this.errorMessage="Something went wrong",this.cdr.detectChanges(),console.error(t)):this.router.navigate([""])}static \u0275fac=function(t){return new(t||e)(V(Ht),V(wt))};static \u0275cmp=Fe({type:e,selectors:[["app-sign-up"]],decls:66,vars:12,consts:[["form","ngForm"],[1,"page-bg"],[1,"page-bg","vh-100"],[1,"navbar","navbar-dark","bg-dark"],[1,"container-fluid"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#sidebar","aria-controls","sidebar",1,"btn","btn-outline-light","me-2"],[1,"navbar-brand","mb-0","h1"],["tabindex","-1","id","sidebar","aria-labelledby","sidebarLabel",1,"offcanvas","offcanvas-start"],[1,"offcanvas-header"],["id","sidebarLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset"],[1,"offcanvas-body","p-0"],[1,"nav","flex-column","p-3"],["data-bs-dismiss","offcanvas",1,"nav-link","active",3,"click"],[1,"container-fluid","pt-4","h-100","d-flex","justify-content-center","align-items-start"],[1,"card","shadow","p-4","w-100",2,"max-width","900px"],[1,"mb-4","text-center"],[3,"ngSubmit"],[1,"row","g-3"],[1,"col-md-4"],[1,"form-label"],["name","firstName","required","","maxlength","20",1,"form-control",3,"ngModelChange","ngModel"],["name","firstLastName","required","","maxlength","20",1,"form-control",3,"ngModelChange","ngModel"],["name","secondLastName","required","","maxlength","20",1,"form-control",3,"ngModelChange","ngModel"],["type","number","step","0.01","name","height","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","step","0.1","name","weight","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","age","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-6"],["type","email","name","username","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","phoneNumber","maxlength","20","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-12"],[1,"input-group"],["name","password","required","",1,"form-control",3,"ngModelChange","type","ngModel"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["class","text-danger mt-3",4,"ngIf"],[1,"btn","btn-success","w-100","mt-4",3,"disabled"],[1,"text-danger","mt-3"]],template:function(t,r){if(t&1){let i=yi();x(0,"div",1)(1,"div",2)(2,"nav",3)(3,"div",4)(4,"button",5),R(5," \u2630 "),T(),x(6,"span",6),R(7,"CalTrack"),T()()(),x(8,"div",7)(9,"div",8)(10,"h5",9),R(11,"Menu"),T(),at(12,"button",10),T(),x(13,"div",11)(14,"nav",12)(15,"a",13),fe("click",function(s){return ie(i),oe(r.navigateToLogin(s))}),R(16," \u2190 Back to Login "),T()()()(),x(17,"div",14)(18,"div",15)(19,"h2",16),R(20,"Create Account"),T(),x(21,"form",17,0),fe("ngSubmit",function(){return ie(i),oe(r.createUser(r.user))}),x(23,"div",18)(24,"div",19)(25,"label",20),R(26,"Name"),T(),x(27,"input",21),He("ngModelChange",function(s){return ie(i),Qe(r.user.firstName,s)||(r.user.firstName=s),oe(s)}),T()(),x(28,"div",19)(29,"label",20),R(30,"First Last Name"),T(),x(31,"input",22),He("ngModelChange",function(s){return ie(i),Qe(r.user.firstLastName,s)||(r.user.firstLastName=s),oe(s)}),T()(),x(32,"div",19)(33,"label",20),R(34,"Second Last Name"),T(),x(35,"input",23),He("ngModelChange",function(s){return ie(i),Qe(r.user.secondLastName,s)||(r.user.secondLastName=s),oe(s)}),T()(),x(36,"div",19)(37,"label",20),R(38,"Height (m)"),T(),x(39,"input",24),He("ngModelChange",function(s){return ie(i),Qe(r.user.height,s)||(r.user.height=s),oe(s)}),T()(),x(40,"div",19)(41,"label",20),R(42,"Weight (kg)"),T(),x(43,"input",25),He("ngModelChange",function(s){return ie(i),Qe(r.user.weight,s)||(r.user.weight=s),oe(s)}),T()(),x(44,"div",19)(45,"label",20),R(46,"Age"),T(),x(47,"input",26),He("ngModelChange",function(s){return ie(i),Qe(r.user.age,s)||(r.user.age=s),oe(s)}),T()(),x(48,"div",27)(49,"label",20),R(50,"Email"),T(),x(51,"input",28),He("ngModelChange",function(s){return ie(i),Qe(r.user.username,s)||(r.user.username=s),oe(s)}),T()(),x(52,"div",27)(53,"label",20),R(54,"Phone Number"),T(),x(55,"input",29),He("ngModelChange",function(s){return ie(i),Qe(r.user.phoneNumber,s)||(r.user.phoneNumber=s),oe(s)}),T()(),x(56,"div",30)(57,"label",20),R(58,"Password"),T(),x(59,"div",31)(60,"input",32),He("ngModelChange",function(s){return ie(i),Qe(r.user.password,s)||(r.user.password=s),oe(s)}),T(),x(61,"button",33),fe("click",function(){return ie(i),oe(r.showPassword=!r.showPassword)}),R(62," \u{1F441} "),T()()()(),sn(63,OV,2,1,"div",34),x(64,"button",35),R(65," Create User "),T()()()()()()}if(t&2){let i=la(22);J(27),$e("ngModel",r.user.firstName),J(4),$e("ngModel",r.user.firstLastName),J(4),$e("ngModel",r.user.secondLastName),J(4),$e("ngModel",r.user.height),J(4),$e("ngModel",r.user.weight),J(4),$e("ngModel",r.user.age),J(4),$e("ngModel",r.user.username),J(4),$e("ngModel",r.user.phoneNumber),J(5),Oe("type",r.showPassword?"text":"password"),$e("ngModel",r.user.password),J(3),Oe("ngIf",r.errorMessage),J(),Oe("disabled",i.invalid)}},dependencies:[En,Un,Ko,qo,Cr,Ga,Wo,Go,Mi,rm,xi,Ti],styles:[".page-bg[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#498d8d,#e6f6f4,#eefcff)}"]})};var US=[{path:"",component:jd},{path:"user-dashboard",component:Sf},{path:"nutri-dashboard",component:Mf},{path:"sign-up",component:Af},{path:"check-goals",component:If},{path:"check-users",component:Tf},{path:"log-cal",component:xf}];var $S={providers:[Kg(US),Sg()]};_g(id,$S);
