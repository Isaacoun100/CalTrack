var ZI=Object.defineProperty,QI=Object.defineProperties;var XI=Object.getOwnPropertyDescriptors;var Uv=Object.getOwnPropertySymbols;var ex=Object.prototype.hasOwnProperty,tx=Object.prototype.propertyIsEnumerable;var $v=(e,n,t)=>n in e?ZI(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,M=(e,n)=>{for(var t in n||={})ex.call(n,t)&&$v(e,t,n[t]);if(Uv)for(var t of Uv(n))tx.call(n,t)&&$v(e,t,n[t]);return e},q=(e,n)=>QI(e,XI(n));var yt=null,rc=!1,fh=1,nx=null,Ct=Symbol("SIGNAL");function J(e){let n=yt;return yt=e,n}function oc(){return yt}var zs={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ws(e){if(rc)throw new Error("");if(yt===null)return;yt.consumerOnSignalRead(e);let n=yt.producersTail;if(n!==void 0&&n.producer===e)return;let t,r=yt.recomputing;if(r&&(t=n!==void 0?n.nextProducer:yt.producers,t!==void 0&&t.producer===e)){yt.producersTail=t,t.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===yt&&(!r||ix(i,yt)))return;let o=Co(yt),s={producer:e,consumer:yt,nextProducer:t,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};yt.producersTail=s,n!==void 0?n.nextProducer=s:yt.producers=s,o&&Gv(e,s)}function Hv(){fh++}function hh(e){if(!(Co(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===fh)){if(!e.producerMustRecompute(e)&&!ac(e)){dh(e);return}e.producerRecomputeValue(e),dh(e)}}function ph(e){if(e.consumers===void 0)return;let n=rc;rc=!0;try{for(let t=e.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||rx(r)}}finally{rc=n}}function gh(){return yt?.consumerAllowSignalWrites!==!1}function rx(e){e.dirty=!0,ph(e),e.consumerMarkedDirty?.(e)}function dh(e){e.dirty=!1,e.lastCleanEpoch=fh}function Gs(e){return e&&zv(e),J(e)}function zv(e){e.producersTail=void 0,e.recomputing=!0}function sc(e,n){J(n),e&&Wv(e)}function Wv(e){e.recomputing=!1;let n=e.producersTail,t=n!==void 0?n.nextProducer:e.producers;if(t!==void 0){if(Co(e))do t=mh(t);while(t!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function ac(e){for(let n=e.producers;n!==void 0;n=n.nextProducer){let t=n.producer,r=n.lastReadVersion;if(r!==t.version||(hh(t),r!==t.version))return!0}return!1}function qs(e){if(Co(e)){let n=e.producers;for(;n!==void 0;)n=mh(n)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function Gv(e,n){let t=e.consumersTail,r=Co(e);if(t!==void 0?(n.nextConsumer=t.nextConsumer,t.nextConsumer=n):(n.nextConsumer=void 0,e.consumers=n),n.prevConsumer=t,e.consumersTail=n,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)Gv(i.producer,i)}function mh(e){let n=e.producer,t=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:n.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(n.consumers=r,!Co(n)){let o=n.producers;for(;o!==void 0;)o=mh(o)}return t}function Co(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function yh(e){nx?.(e)}function ix(e,n){let t=n.producersTail;if(t!==void 0){let r=n.producers;do{if(r===e)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function vh(e,n){return Object.is(e,n)}function lc(e,n){let t=Object.create(ox);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(hh(t),Ws(t),t.value===ic)throw t.error;return t.value};return r[Ct]=t,yh(t),r}var ch=Symbol("UNSET"),uh=Symbol("COMPUTING"),ic=Symbol("ERRORED"),ox=q(M({},zs),{value:ch,dirty:!0,error:null,equal:vh,kind:"computed",producerMustRecompute(e){return e.value===ch||e.value===uh},producerRecomputeValue(e){if(e.value===uh)throw new Error("");let n=e.value;e.value=uh;let t=Gs(e),r,i=!1;try{r=e.computation(),J(null),i=n!==ch&&n!==ic&&r!==ic&&e.equal(n,r)}catch(o){r=ic,e.error=o}finally{sc(e,t)}if(i){e.value=n;return}e.value=r,e.version++}});function sx(){throw new Error}var qv=sx;function Kv(e){qv(e)}function bh(e){qv=e}var ax=null;function _h(e,n){let t=Object.create(cc);t.value=e,n!==void 0&&(t.equal=n);let r=()=>Yv(t);return r[Ct]=t,yh(t),[r,s=>Ks(t,s),s=>Jv(t,s)]}function Yv(e){return Ws(e),e.value}function Ks(e,n){gh()||Kv(e),e.equal(e.value,n)||(e.value=n,lx(e))}function Jv(e,n){gh()||Kv(e),Ks(e,n(e.value))}var cc=q(M({},zs),{equal:vh,value:void 0,kind:"signal"});function lx(e){e.version++,Hv(),ph(e),ax?.(e)}function wh(e){let n=J(null);try{return e()}finally{J(n)}}function W(e){return typeof e=="function"}function So(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var uc=So(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ys(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var it=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(W(r))try{r()}catch(o){n=o instanceof uc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Zv(o)}catch(s){n=n??[],s instanceof uc?n=[...n,...s.errors]:n.push(s)}}if(n)throw new uc(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Zv(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Ys(t,n)}remove(n){let{_finalizers:t}=this;t&&Ys(t,n),n instanceof e&&n._removeParent(this)}};it.EMPTY=(()=>{let e=new it;return e.closed=!0,e})();var Dh=it.EMPTY;function dc(e){return e instanceof it||e&&"closed"in e&&W(e.remove)&&W(e.add)&&W(e.unsubscribe)}function Zv(e){W(e)?e():e.unsubscribe()}var cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Io={setTimeout(e,n,...t){let{delegate:r}=Io;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=Io;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function fc(e){Io.setTimeout(()=>{let{onUnhandledError:n}=cn;if(n)n(e);else throw e})}function Js(){}var Qv=Eh("C",void 0,void 0);function Xv(e){return Eh("E",void 0,e)}function eb(e){return Eh("N",e,void 0)}function Eh(e,n,t){return{kind:e,value:n,error:t}}var hi=null;function xo(e){if(cn.useDeprecatedSynchronousErrorHandling){let n=!hi;if(n&&(hi={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=hi;if(hi=null,t)throw r}}else e()}function tb(e){cn.useDeprecatedSynchronousErrorHandling&&hi&&(hi.errorThrown=!0,hi.error=e)}var pi=class extends it{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,dc(n)&&n.add(this)):this.destination=dx}static create(n,t,r){return new To(n,t,r)}next(n){this.isStopped?Sh(eb(n),this):this._next(n)}error(n){this.isStopped?Sh(Xv(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Sh(Qv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},cx=Function.prototype.bind;function Ch(e,n){return cx.call(e,n)}var Ih=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){hc(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){hc(r)}else hc(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){hc(t)}}},To=class extends pi{constructor(n,t,r){super();let i;if(W(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&cn.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Ch(n.next,o),error:n.error&&Ch(n.error,o),complete:n.complete&&Ch(n.complete,o)}):i=n}this.destination=new Ih(i)}};function hc(e){cn.useDeprecatedSynchronousErrorHandling?tb(e):fc(e)}function ux(e){throw e}function Sh(e,n){let{onStoppedNotification:t}=cn;t&&Io.setTimeout(()=>t(e,n))}var dx={closed:!0,next:Js,error:ux,complete:Js};var Mo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function un(e){return e}function xh(...e){return Th(e)}function Th(e){return e.length===0?un:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var ie=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=hx(t)?t:new To(t,r,i);return xo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=nb(r),new r((i,o)=>{let s=new To({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Mo](){return this}pipe(...t){return Th(t)(this)}toPromise(t){return t=nb(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function nb(e){var n;return(n=e??cn.Promise)!==null&&n!==void 0?n:Promise}function fx(e){return e&&W(e.next)&&W(e.error)&&W(e.complete)}function hx(e){return e&&e instanceof pi||fx(e)&&dc(e)}function px(e){return W(e?.lift)}function he(e){return n=>{if(px(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(e,n,t,r,i){return new Mh(e,n,t,r,i)}var Mh=class extends pi{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};var rb=So(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Xe=(()=>{class e extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new pc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new rb}next(t){xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Dh:(this.currentObservers=null,o.push(t),new it(()=>{this.currentObservers=null,Ys(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ie;return t.source=this,t}}return e.create=(n,t)=>new pc(n,t),e})(),pc=class extends Xe{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:Dh}};var ot=class extends Xe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var Rt=new ie(e=>e.complete());function ib(e){return e&&W(e.schedule)}function ob(e){return e[e.length-1]}function gc(e){return W(ob(e))?e.pop():void 0}function Er(e){return ib(ob(e))?e.pop():void 0}function mi(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t}function mc(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})}function sb(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function gi(e){return this instanceof gi?(this.v=e,this):new gi(e)}function ab(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(i[f]=function(g){return new Promise(function(m,y){o.push([f,g,m,y])>1||l(f,g)})},p&&(i[f]=p(i[f])))}function l(f,p){try{c(r[f](p))}catch(g){h(o[0][3],g)}}function c(f){f.value instanceof gi?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function lb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof sb=="function"?sb(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var yc=e=>e&&typeof e.length=="number"&&typeof e!="function";function vc(e){return W(e?.then)}function bc(e){return W(e[Mo])}function _c(e){return Symbol.asyncIterator&&W(e?.[Symbol.asyncIterator])}function wc(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function gx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Dc=gx();function Ec(e){return W(e?.[Dc])}function Cc(e){return ab(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield gi(t.read());if(i)return yield gi(void 0);yield yield gi(r)}}finally{t.releaseLock()}})}function Sc(e){return W(e?.getReader)}function We(e){if(e instanceof ie)return e;if(e!=null){if(bc(e))return mx(e);if(yc(e))return yx(e);if(vc(e))return vx(e);if(_c(e))return cb(e);if(Ec(e))return bx(e);if(Sc(e))return _x(e)}throw wc(e)}function mx(e){return new ie(n=>{let t=e[Mo]();if(W(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function yx(e){return new ie(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function vx(e){return new ie(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,fc)})}function bx(e){return new ie(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function cb(e){return new ie(n=>{wx(e,n).catch(t=>n.error(t))})}function _x(e){return cb(Cc(e))}function wx(e,n){var t,r,i,o;return mc(this,void 0,void 0,function*(){try{for(t=lb(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})}function kt(e,n,t,r=0,i=!1){let o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Ic(e,n=0){return he((t,r)=>{t.subscribe(pe(r,i=>kt(r,e,()=>r.next(i),n),()=>kt(r,e,()=>r.complete(),n),i=>kt(r,e,()=>r.error(i),n)))})}function xc(e,n=0){return he((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function ub(e,n){return We(e).pipe(xc(n),Ic(n))}function db(e,n){return We(e).pipe(xc(n),Ic(n))}function fb(e,n){return new ie(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function hb(e,n){return new ie(t=>{let r;return kt(t,n,()=>{r=e[Dc](),kt(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>W(r?.return)&&r.return()})}function Tc(e,n){if(!e)throw new Error("Iterable cannot be null");return new ie(t=>{kt(t,n,()=>{let r=e[Symbol.asyncIterator]();kt(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function pb(e,n){return Tc(Cc(e),n)}function gb(e,n){if(e!=null){if(bc(e))return ub(e,n);if(yc(e))return fb(e,n);if(vc(e))return db(e,n);if(_c(e))return Tc(e,n);if(Ec(e))return hb(e,n);if(Sc(e))return pb(e,n)}throw wc(e)}function ke(e,n){return n?gb(e,n):We(e)}function K(...e){let n=Er(e);return ke(e,n)}function Ah(e,n){let t=W(e)?e:()=>e,r=i=>i.error(t());return new ie(n?i=>n.schedule(r,0,i):r)}function Mc(e){return!!e&&(e instanceof ie||W(e.lift)&&W(e.subscribe))}var yi=So(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function de(e,n){return he((t,r)=>{let i=0;t.subscribe(pe(r,o=>{r.next(e.call(n,o,i++))}))})}var{isArray:Dx}=Array;function Ex(e,n){return Dx(n)?e(...n):e(n)}function Ac(e){return de(n=>Ex(e,n))}var{isArray:Cx}=Array,{getPrototypeOf:Sx,prototype:Ix,keys:xx}=Object;function Rc(e){if(e.length===1){let n=e[0];if(Cx(n))return{args:n,keys:null};if(Tx(n)){let t=xx(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function Tx(e){return e&&typeof e=="object"&&Sx(e)===Ix}function kc(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function Nc(...e){let n=Er(e),t=gc(e),{args:r,keys:i}=Rc(e);if(r.length===0)return ke([],n);let o=new ie(Mx(r,n,i?s=>kc(i,s):un));return t?o.pipe(Ac(t)):o}function Mx(e,n,t=un){return r=>{mb(n,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)mb(n,()=>{let c=ke(e[l],n),u=!1;c.subscribe(pe(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function mb(e,n,t){e?kt(t,e,n):n()}function yb(e,n,t,r,i,o,s,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&n.complete()},f=g=>c<r?p(g):l.push(g),p=g=>{o&&n.next(g),c++;let m=!1;We(t(g,u++)).subscribe(pe(n,y=>{i?.(y),o?f(y):n.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){let y=l.shift();s?kt(n,s,()=>p(y)):p(y)}h()}catch(y){n.error(y)}}))};return e.subscribe(pe(n,f,()=>{d=!0,h()})),()=>{a?.()}}function st(e,n,t=1/0){return W(n)?st((r,i)=>de((o,s)=>n(r,o,i,s))(We(e(r,i))),t):(typeof n=="number"&&(t=n),he((r,i)=>yb(r,i,e,t)))}function Ao(e=1/0){return st(un,e)}function vb(){return Ao(1)}function Ro(...e){return vb()(ke(e,Er(e)))}function Zs(e){return new ie(n=>{We(e()).subscribe(n)})}function Rh(...e){let n=gc(e),{args:t,keys:r}=Rc(e),i=new ie(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;We(t[u]).subscribe(pe(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?kc(r,a):a),o.complete())}))}});return n?i.pipe(Ac(n)):i}function Nt(e,n){return he((t,r)=>{let i=0;t.subscribe(pe(r,o=>e.call(n,o,i++)&&r.next(o)))})}function ko(e){return he((n,t)=>{let r=null,i=!1,o;r=n.subscribe(pe(t,void 0,void 0,s=>{o=We(e(s,ko(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Cr(e,n){return W(n)?st(e,n,1):st(e,1)}function kh(e){return he((n,t)=>{let r=!1;n.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function Qn(e){return e<=0?()=>Rt:he((n,t)=>{let r=0;n.subscribe(pe(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function bb(e=Ax){return he((n,t)=>{let r=!1;n.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function Ax(){return new yi}function Qs(e){return he((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function Xn(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Nt((i,o)=>e(i,o,r)):un,Qn(1),t?kh(n):bb(()=>new yi))}function Oc(e){return e<=0?()=>Rt:he((n,t)=>{let r=[];n.subscribe(pe(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Nh(...e){let n=Er(e);return he((t,r)=>{(n?Ro(e,t,n):Ro(e,t)).subscribe(r)})}function $t(e,n){return he((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(pe(r,l=>{i?.unsubscribe();let c=0,u=o++;We(e(l,u)).subscribe(i=pe(r,d=>r.next(n?n(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Xs(e){return he((n,t)=>{We(e).subscribe(pe(t,()=>t.complete(),Js)),!t.closed&&n.subscribe(t)})}function St(e,n,t){let r=W(e)||n||t?{next:e,error:n,complete:t}:e;return r?he((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(pe(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):un}var Oh;function Pc(){return Oh}function Nn(e){let n=Oh;return Oh=e,n}var _b=Symbol("NotFound");function No(e){return e===_b||e?.name==="\u0275NotFound"}var Yh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",R=class extends Error{code;constructor(n,t){super(nr(n,t)),this.code=n}};function Nx(e){return`NG0${Math.abs(e)}`}function nr(e,n){return`${Nx(e)}${n?": "+n:""}`}var Di=globalThis;function ge(e){for(let n in e)if(e[n]===ge)return n;throw Error("")}function Sb(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function tr(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(tr).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Jh(e,n){return e?n?`${e} ${n}`:e:n||""}var Ox=ge({__forward_ref__:ge});function Pt(e){return e.__forward_ref__=Pt,e.toString=function(){return tr(this())},e}function at(e){return Zh(e)?e():e}function Zh(e){return typeof e=="function"&&e.hasOwnProperty(Ox)&&e.__forward_ref__===Pt}function N(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Kt(e){return{providers:e.providers||[],imports:e.imports||[]}}function oa(e){return Px(e,Bc)}function Qh(e){return oa(e)!==null}function Px(e,n){return e.hasOwnProperty(n)&&e[n]||null}function Fx(e){let n=e?.[Bc]??null;return n||null}function Fh(e){return e&&e.hasOwnProperty(Lc)?e[Lc]:null}var Bc=ge({\u0275prov:ge}),Lc=ge({\u0275inj:ge}),k=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=N({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Xh(e){return e&&!!e.\u0275providers}var ep=ge({\u0275cmp:ge}),tp=ge({\u0275dir:ge}),np=ge({\u0275pipe:ge}),rp=ge({\u0275mod:ge}),ta=ge({\u0275fac:ge}),Ei=ge({__NG_ELEMENT_ID__:ge}),wb=ge({__NG_ENV_ID__:ge});function ip(e){return Uc(e,"@NgModule"),e[rp]||null}function rr(e){return Uc(e,"@Component"),e[ep]||null}function op(e){return Uc(e,"@Directive"),e[tp]||null}function Ib(e){return Uc(e,"@Pipe"),e[np]||null}function Uc(e,n){if(e==null)throw new R(-919,!1)}function Po(e){return typeof e=="string"?e:e==null?"":String(e)}function xb(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Po(e)}var Tb=ge({ngErrorCode:ge}),Lx=ge({ngErrorMessage:ge}),jx=ge({ngTokenPath:ge});function sp(e,n){return Mb("",-200,n)}function $c(e,n){throw new R(-201,!1)}function Mb(e,n,t){let r=new R(n,e);return r[Tb]=n,r[Lx]=e,t&&(r[jx]=t),r}function Vx(e){return e[Tb]}var Lh;function Ab(){return Lh}function It(e){let n=Lh;return Lh=e,n}function ap(e,n,t){let r=oa(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(n!==void 0)return n;$c(e,"")}var Bx={},vi=Bx,Ux="__NG_DI_FLAG__",jh=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=bi(t)||0;try{return this.injector.get(n,r&8?null:vi,r)}catch(i){if(No(i))return i;throw i}}};function $x(e,n=0){let t=Pc();if(t===void 0)throw new R(-203,!1);if(t===null)return ap(e,void 0,n);{let r=Hx(n),i=t.retrieve(e,r);if(No(i)){if(r.optional)return null;throw i}return i}}function j(e,n=0){return(Ab()||$x)(at(e),n)}function x(e,n){return j(e,bi(n))}function bi(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Hx(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Vh(e){let n=[];for(let t=0;t<e.length;t++){let r=at(e[t]);if(Array.isArray(r)){if(r.length===0)throw new R(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=zx(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}n.push(j(i,o))}else n.push(j(r))}return n}function zx(e){return e[Ux]}function Sr(e,n){let t=e.hasOwnProperty(ta);return t?e[ta]:null}function Hc(e,n){e.forEach(t=>Array.isArray(t)?Hc(t,n):n(t))}function lp(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function sa(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Rb(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let o=i-2;e[i]=e[o],i--}e[n]=t,e[n+1]=r}}function kb(e,n,t){let r=Fo(e,n);return r>=0?e[r|1]=t:(r=~r,Rb(e,r,n,t)),r}function zc(e,n){let t=Fo(e,n);if(t>=0)return e[t|1]}function Fo(e,n){return Wx(e,n,1)}function Wx(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}var Tr={},Ht=[],Lo=new k(""),cp=new k("",-1),up=new k(""),na=class{get(n,t=vi){if(t===vi){let i=Mb("",-201);throw i.name="\u0275NotFound",i}return t}};function Mr(e){return{\u0275providers:e}}function Nb(...e){return{\u0275providers:dp(!0,e),\u0275fromNgModule:!0}}function dp(e,...n){let t=[],r=new Set,i,o=s=>{t.push(s)};return Hc(n,s=>{let a=s;jc(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Ob(i,o),t}function Ob(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];fp(i,o=>{n(o,r)})}}function jc(e,n,t,r){if(e=at(e),!e)return!1;let i=null,o=Fh(e),s=!o&&rr(e);if(!o&&!s){let l=e.ngModule;if(o=Fh(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)jc(c,n,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Hc(o.imports,u=>{jc(u,n,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Ob(c,n)}if(!a){let c=Sr(i)||(()=>new i);n({provide:i,useFactory:c,deps:Ht},i),n({provide:up,useValue:i,multi:!0},i),n({provide:Lo,useValue:()=>j(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;fp(l,u=>{n(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function fp(e,n){for(let t of e)Xh(t)&&(t=t.\u0275providers),Array.isArray(t)?fp(t,n):n(t)}var Gx=ge({provide:String,useValue:ge});function Pb(e){return e!==null&&typeof e=="object"&&Gx in e}function qx(e){return!!(e&&e.useExisting)}function Kx(e){return!!(e&&e.useFactory)}function _i(e){return typeof e=="function"}function Fb(e){return!!e.useClass}var aa=new k(""),Fc={},Db={},Ph;function la(){return Ph===void 0&&(Ph=new na),Ph}var Fe=class{},wi=class extends Fe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Uh(n,s=>this.processProvider(s)),this.records.set(cp,Oo(void 0,this)),i.has("environment")&&this.records.set(Fe,Oo(void 0,this));let o=this.records.get(aa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(up,Ht,{self:!0}))}retrieve(n,t){let r=bi(t)||0;try{return this.get(n,vi,r)}catch(i){if(No(i))return i;throw i}}destroy(){ea(this),this._destroyed=!0;let n=J(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(n)}}onDestroy(n){return ea(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){ea(this);let t=Nn(this),r=It(void 0),i;try{return n()}finally{Nn(t),It(r)}}get(n,t=vi,r){if(ea(this),n.hasOwnProperty(wb))return n[wb](this);let i=bi(r),o,s=Nn(this),a=It(void 0);try{if(!(i&4)){let c=this.records.get(n);if(c===void 0){let u=Xx(n)&&oa(n);u&&this.injectableDefInScope(u)?c=Oo(Bh(n),Fc):c=null,this.records.set(n,c)}if(c!=null)return this.hydrate(n,c,i)}let l=i&2?la():this.parent;return t=i&8&&t===vi?null:t,l.get(n,t)}catch(l){let c=Vx(l);throw c===-200||c===-201?new R(c,null):l}finally{It(a),Nn(s)}}resolveInjectorInitializers(){let n=J(null),t=Nn(this),r=It(void 0),i;try{let o=this.get(Lo,Ht,{self:!0});for(let s of o)s()}finally{Nn(t),It(r),J(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(tr(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=at(n);let t=_i(n)?n:at(n&&n.provide),r=Jx(n);if(!_i(n)&&n.multi===!0){let i=this.records.get(t);i||(i=Oo(void 0,Fc,!0),i.factory=()=>Vh(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let i=J(null);try{if(t.value===Db)throw sp(tr(n));return t.value===Fc&&(t.value=Db,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&Qx(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{J(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=at(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Bh(e){let n=oa(e),t=n!==null?n.factory:Sr(e);if(t!==null)return t;if(e instanceof k)throw new R(204,!1);if(e instanceof Function)return Yx(e);throw new R(204,!1)}function Yx(e){if(e.length>0)throw new R(204,!1);let t=Fx(e);return t!==null?()=>t.factory(e):()=>new e}function Jx(e){if(Pb(e))return Oo(void 0,e.useValue);{let n=hp(e);return Oo(n,Fc)}}function hp(e,n,t){let r;if(_i(e)){let i=at(e);return Sr(i)||Bh(i)}else if(Pb(e))r=()=>at(e.useValue);else if(Kx(e))r=()=>e.useFactory(...Vh(e.deps||[]));else if(qx(e))r=(i,o)=>j(at(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=at(e&&(e.useClass||e.provide));if(Zx(e))r=()=>new i(...Vh(e.deps));else return Sr(i)||Bh(i)}return r}function ea(e){if(e.destroyed)throw new R(205,!1)}function Oo(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Zx(e){return!!e.deps}function Qx(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Xx(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Uh(e,n){for(let t of e)Array.isArray(t)?Uh(t,n):t&&Xh(t)?Uh(t.\u0275providers,n):n(t)}function et(e,n){let t;e instanceof wi?(ea(e),t=e):t=new jh(e);let r,i=Nn(t),o=It(void 0);try{return n()}finally{Nn(i),It(o)}}function Lb(){return Ab()!==void 0||Pc()!=null}var dn=0,G=1,H=2,lt=3,Yt=4,Jt=5,ca=6,jo=7,bt=8,Ar=9,ir=10,Le=11,Vo=12,pp=13,Ci=14,Zt=15,Si=16,Ii=17,xi=18,Rr=19,gp=20,er=21,Wc=22,ua=23,zt=24,Ti=25,da=26,ct=27,jb=1;var kr=7,fa=8,ha=9,Ft=10;function Pn(e){return Array.isArray(e)&&typeof e[jb]=="object"}function fn(e){return Array.isArray(e)&&e[jb]===!0}function mp(e){return(e.flags&4)!==0}function Nr(e){return e.componentOffset>-1}function pa(e){return(e.flags&1)===1}function Fn(e){return!!e.template}function Bo(e){return(e[H]&512)!==0}function Mi(e){return(e[H]&256)===256}var Vb="svg",Bb="math";function Qt(e){for(;Array.isArray(e);)e=e[dn];return e}function yp(e,n){return Qt(n[e])}function hn(e,n){return Qt(n[e.index])}function Gc(e,n){return e.data[n]}function vp(e,n){return e[n]}function bp(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function Xt(e,n){let t=n[e];return Pn(t)?t:t[dn]}function qc(e){return(e[H]&128)===128}function Ub(e){return fn(e[lt])}function Ai(e,n){return n==null?null:e[n]}function _p(e){e[Ii]=0}function wp(e){e[H]&1024||(e[H]|=1024,qc(e)&&Uo(e))}function $b(e,n){for(;e>0;)n=n[Ci],e--;return n}function ga(e){return!!(e[H]&9216||e[zt]?.dirty)}function Kc(e){e[ir].changeDetectionScheduler?.notify(8),e[H]&64&&(e[H]|=1024),ga(e)&&Uo(e)}function Uo(e){e[ir].changeDetectionScheduler?.notify(0);let n=Ir(e);for(;n!==null&&!(n[H]&8192||(n[H]|=8192,!qc(n)));)n=Ir(n)}function Dp(e,n){if(Mi(e))throw new R(911,!1);e[er]===null&&(e[er]=[]),e[er].push(n)}function Hb(e,n){if(e[er]===null)return;let t=e[er].indexOf(n);t!==-1&&e[er].splice(t,1)}function Ir(e){let n=e[lt];return fn(n)?n[lt]:n}function zb(e){return e[jo]??=[]}function Wb(e){return e.cleanup??=[]}var X={lFrame:s_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var $h=!1;function Gb(){return X.lFrame.elementDepthCount}function qb(){X.lFrame.elementDepthCount++}function Ep(){X.lFrame.elementDepthCount--}function Cp(){return X.bindingsEnabled}function Kb(){return X.skipHydrationRootTNode!==null}function Sp(e){return X.skipHydrationRootTNode===e}function Ip(){X.skipHydrationRootTNode=null}function me(){return X.lFrame.lView}function Lt(){return X.lFrame.tView}function Z(e){return X.lFrame.contextLView=e,e[bt]}function Q(e){return X.lFrame.contextLView=null,e}function xt(){let e=xp();for(;e!==null&&e.type===64;)e=e.parent;return e}function xp(){return X.lFrame.currentTNode}function Yb(){let e=X.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function $o(e,n){let t=X.lFrame;t.currentTNode=e,t.isParent=n}function Tp(){return X.lFrame.isParent}function Jb(){X.lFrame.isParent=!1}function Zb(){return X.lFrame.contextLView}function Mp(){return $h}function Ap(e){let n=$h;return $h=e,n}function Qb(){let e=X.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Xb(){return X.lFrame.bindingIndex}function e_(e){return X.lFrame.bindingIndex=e}function ma(){return X.lFrame.bindingIndex++}function Rp(e){let n=X.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function t_(){return X.lFrame.inI18n}function n_(e,n){let t=X.lFrame;t.bindingIndex=t.bindingRootIndex=e,Yc(n)}function r_(){return X.lFrame.currentDirectiveIndex}function Yc(e){X.lFrame.currentDirectiveIndex=e}function i_(e){let n=X.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function kp(e){X.lFrame.currentQueryIndex=e}function eT(e){let n=e[G];return n.type===2?n.declTNode:n.type===1?e[Jt]:null}function Np(e,n,t){if(t&4){let i=n,o=e;for(;i=i.parent,i===null&&!(t&1);)if(i=eT(o),i===null||(o=o[Ci],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=X.lFrame=o_();return r.currentTNode=n,r.lView=e,!0}function Jc(e){let n=o_(),t=e[G];X.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function o_(){let e=X.lFrame,n=e===null?null:e.child;return n===null?s_(e):n}function s_(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function a_(){let e=X.lFrame;return X.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Op=a_;function Zc(){let e=a_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function l_(e){return(X.lFrame.contextLView=$b(e,X.lFrame.contextLView))[bt]}function Or(){return X.lFrame.selectedIndex}function Pr(e){X.lFrame.selectedIndex=e}function Qc(){let e=X.lFrame;return Gc(e.tView,e.selectedIndex)}function c_(){return X.lFrame.currentNamespace}var u_=!0;function Xc(){return u_}function eu(e){u_=e}function Hh(e,n=null,t=null,r){let i=Pp(e,n,t,r);return i.resolveInjectorInitializers(),i}function Pp(e,n=null,t=null,r,i=new Set){let o=[t||Ht,Nb(e)];return r=r||(typeof e=="object"?void 0:tr(e)),new wi(o,n||la(),r||null,i)}var Ot=class e{static THROW_IF_NOT_FOUND=vi;static NULL=new na;static create(n,t){if(Array.isArray(n))return Hh({name:""},t,n,"");{let r=n.name??"";return Hh({name:r},n.parent,n.providers,r)}}static \u0275prov=N({token:e,providedIn:"any",factory:()=>j(cp)});static __NG_ELEMENT_ID__=-1},Ne=new k(""),pn=(()=>{class e{static __NG_ELEMENT_ID__=tT;static __NG_ENV_ID__=t=>t}return e})(),zh=class extends pn{_lView;constructor(n){super(),this._lView=n}get destroyed(){return Mi(this._lView)}onDestroy(n){let t=this._lView;return Dp(t,n),()=>Hb(t,n)}};function tT(){return new zh(me())}var d_=!1,or=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ot(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ie(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=N({token:e,providedIn:"root",factory:()=>new e})}return e})(),Wh=class extends Xe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Lb()&&(this.destroyRef=x(pn,{optional:!0})??void 0,this.pendingTasks=x(or,{optional:!0})??void 0)}emit(n){let t=J(null);try{super.next(n)}finally{J(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof it&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ge=Wh;function Vc(...e){}function Fp(e){let n,t;function r(){e=Vc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Lp(e){return queueMicrotask(()=>e()),()=>{e=Vc}}var jp="isAngularZone",ra=jp+"_ID",nT=0,vt=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ge(!1);onMicrotaskEmpty=new Ge(!1);onStable=new Ge(!1);onError=new Ge(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=d_}=n;if(typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,oT(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jp)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new R(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,rT,Vc,Vc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},rT={};function Vp(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function iT(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){Fp(()=>{e.callbackScheduled=!1,Gh(e),e.isCheckStableRunning=!0,Vp(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Gh(e)}function oT(e){let n=()=>{iT(e)},t=nT++;e._inner=e._inner.fork({name:"angular",properties:{[jp]:!0,[ra]:t,[ra+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(sT(l))return r.invokeTask(o,s,a,l);try{return Eb(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),Cb(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return Eb(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!aT(l)&&n(),Cb(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Gh(e),Vp(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Gh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Eb(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Cb(e){e._nesting--,Vp(e)}var ia=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ge;onMicrotaskEmpty=new Ge;onStable=new Ge;onError=new Ge;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function sT(e){return f_(e,"__ignore_ng_zone__")}function aT(e){return f_(e,"__scheduler_tick__")}function f_(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var On=class{_console=console;handleError(n){this._console.error("ERROR",n)}},gn=new k("",{factory:()=>{let e=x(vt),n=x(Fe),t;return r=>{e.runOutsideAngular(()=>{n.destroyed&&!t?setTimeout(()=>{throw r}):(t??=n.get(On),t.handleError(r))})}}}),h_={provide:Lo,useValue:()=>{let e=x(On,{optional:!0})},multi:!0};function mn(e,n){let[t,r,i]=_h(e,n?.equal),o=t,s=o[Ct];return o.set=r,o.update=i,o.asReadonly=p_.bind(o),o}function p_(){let e=this[Ct];if(e.readonlyFn===void 0){let n=()=>this();n[Ct]=e,e.readonlyFn=n}return e.readonlyFn}var tu=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=lT}return e})();function lT(){return new tu(me(),xt())}var xr=class{},ya=new k("",{factory:()=>!0});var Bp=new k(""),nu=(()=>{class e{internalPendingTasks=x(or);scheduler=x(xr);errorHandler=x(gn);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=N({token:e,providedIn:"root",factory:()=>new e})}return e})(),Up=(()=>{class e{static \u0275prov=N({token:e,providedIn:"root",factory:()=>new qh})}return e})(),qh=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[t,r]of this.queues)t===null?n||=this.flushQueue(r):n||=t.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let t=!1;for(let r of n)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},Kh=class{[Ct];constructor(n){this[Ct]=n}destroy(){this[Ct].destroy()}};function tt(e){return wh(e)}function Ca(e){return{toString:e}.toString()}function mT(e){return typeof e=="function"}function H_(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var au=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},Lr=(()=>{let e=()=>z_;return e.ngInherit=!0,e})();function z_(e){return e.type.prototype.ngOnChanges&&(e.setInput=vT),yT}function yT(){let e=G_(this),n=e?.current;if(n){let t=e.previous;if(t===Tr)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function vT(e,n,t,r,i){let o=this.declaredInputs[r],s=G_(e)||bT(e,{previous:Tr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new au(c&&c.currentValue,t,l===Tr),H_(e,n,i,t)}var W_="__ngSimpleChanges__";function G_(e){return e[W_]||null}function bT(e,n){return e[W_]=n}var g_=[];var ye=function(e,n=null,t){for(let r=0;r<g_.length;r++){let i=g_[r];i(e,n,t)}},se=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(se||{});function _T(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=z_(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function q_(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function iu(e,n,t){K_(e,n,3,t)}function ou(e,n,t,r){(e[H]&3)===t&&K_(e,n,t,r)}function $p(e,n){let t=e[H];(t&3)===n&&(t&=16383,t+=1,e[H]=t)}function K_(e,n,t,r){let i=r!==void 0?e[Ii]&65535:0,o=r??-1,s=n.length-1,a=0;for(let l=i;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(e[Ii]+=65536),(a<o||o==-1)&&(wT(e,t,n,l),e[Ii]=(e[Ii]&4294901760)+l+2),l++}function m_(e,n){ye(se.LifecycleHookStart,e,n);let t=J(null);try{n.call(e)}finally{J(t),ye(se.LifecycleHookEnd,e,n)}}function wT(e,n,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=e[s];i?e[H]>>14<e[Ii]>>16&&(e[H]&3)===n&&(e[H]+=16384,m_(a,o)):m_(a,o)}var zo=-1,ki=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r,i){this.factory=n,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function DT(e){return(e.flags&8)!==0}function ET(e){return(e.flags&16)!==0}function CT(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{let o=i,s=t[++r];IT(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function ST(e){return e===3||e===4||e===6}function IT(e){return e.charCodeAt(0)===64}function Wo(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?y_(e,t,i,null,n[++r]):y_(e,t,i,null,null))}}return e}function y_(e,n,t,r,i){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),i!==null&&e.splice(o++,0,i)}function Y_(e){return e!==zo}function lu(e){return e&32767}function xT(e){return e>>16}function cu(e,n){let t=xT(e),r=n;for(;t>0;)r=r[Ci],t--;return r}var Xp=!0;function uu(e){let n=Xp;return Xp=e,n}var TT=256,J_=TT-1,Z_=5,MT=0,Ln={};function AT(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ei)&&(r=t[Ei]),r==null&&(r=t[Ei]=MT++);let i=r&J_,o=1<<i;n.data[e+(i>>Z_)]|=o}function du(e,n){let t=Q_(e,n);if(t!==-1)return t;let r=n[G];r.firstCreatePass&&(e.injectorIndex=n.length,Hp(r.data,e),Hp(n,null),Hp(r.blueprint,null));let i=gg(e,n),o=e.injectorIndex;if(Y_(i)){let s=lu(i),a=cu(i,n),l=a[G].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function Hp(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Q_(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function gg(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=rw(i),r===null)return zo;if(t++,i=i[Ci],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return zo}function eg(e,n,t){AT(e,n,t)}function X_(e,n,t){if(t&8||e!==void 0)return e;$c(n,"NodeInjector")}function ew(e,n,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=e[Ar],o=It(void 0);try{return i?i.get(n,r,t&8):ap(n,r,t&8)}finally{It(o)}}return X_(r,n,t)}function tw(e,n,t,r=0,i){if(e!==null){if(n[H]&2048&&!(r&2)){let s=PT(e,n,t,r,Ln);if(s!==Ln)return s}let o=nw(e,n,t,r,Ln);if(o!==Ln)return o}return ew(n,t,r,i)}function nw(e,n,t,r,i){let o=NT(t);if(typeof o=="function"){if(!Np(n,e,r))return r&1?X_(i,t,r):ew(n,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))$c(t);else return s}finally{Op()}}else if(typeof o=="number"){let s=null,a=Q_(e,n),l=zo,c=r&1?n[Zt][Jt]:null;for((a===-1||r&4)&&(l=a===-1?gg(e,n):n[a+8],l===zo||!b_(r,!1)?a=-1:(s=n[G],a=lu(l),n=cu(l,n)));a!==-1;){let u=n[G];if(v_(o,a,u.data)){let d=RT(a,n,t,s,r,c);if(d!==Ln)return d}l=n[a+8],l!==zo&&b_(r,n[G].data[a+8]===c)&&v_(o,a,n)?(s=u,a=lu(l),n=cu(l,n)):a=-1}}return i}function RT(e,n,t,r,i,o){let s=n[G],a=s.data[e+8],l=r==null?Nr(a)&&Xp:r!=s&&(a.type&3)!==0,c=i&1&&o===a,u=kT(a,s,t,l,c);return u!==null?fu(n,s,u,a,i):Ln}function kT(e,n,t,r,i){let o=e.providerIndexes,s=n.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:c;for(let f=d;f<h;f++){let p=s[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){let f=s[l];if(f&&Fn(f)&&f.type===t)return l}return null}function fu(e,n,t,r,i){let o=e[t],s=n.data;if(o instanceof ki){let a=o;if(a.resolving){let f=xb(s[t]);throw sp(f)}let l=uu(a.canSeeViewProviders);a.resolving=!0;let c=s[t].type||s[t],u,d=a.injectImpl?It(a.injectImpl):null,h=Np(e,r,0);try{o=e[t]=a.factory(void 0,i,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&_T(t,s[t],n)}finally{d!==null&&It(d),uu(l),a.resolving=!1,Op()}}return o}function NT(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(Ei)?e[Ei]:void 0;return typeof n=="number"?n>=0?n&J_:OT:n}function v_(e,n,t){let r=1<<e;return!!(t[n+(e>>Z_)]&r)}function b_(e,n){return!(e&2)&&!(e&1&&n)}var Ri=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return tw(this._tNode,this._lView,n,bi(r),t)}};function OT(){return new Ri(xt(),me())}function Wt(e){return Ca(()=>{let n=e.prototype.constructor,t=n[ta]||tg(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[ta]||tg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function tg(e){return Zh(e)?()=>{let n=tg(at(e));return n&&n()}:Sr(e)}function PT(e,n,t,r,i){let o=e,s=n;for(;o!==null&&s!==null&&s[H]&2048&&!Bo(s);){let a=nw(o,s,t,r|2,Ln);if(a!==Ln)return a;let l=o.parent;if(!l){let c=s[gp];if(c){let u=c.get(t,Ln,r);if(u!==Ln)return u}l=rw(s),s=s[Ci]}o=l}return i}function rw(e){let n=e[G],t=n.type;return t===2?n.declTNode:t===1?e[Jt]:null}function FT(){return Du(xt(),me())}function Du(e,n){return new bn(hn(e,n))}var bn=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=FT}return e})();function iw(e){return(e.flags&128)===128}var mg=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(mg||{}),ow=new Map,LT=0;function jT(){return LT++}function VT(e){ow.set(e[Rr],e)}function ng(e){ow.delete(e[Rr])}var __="__ngContext__";function Go(e,n){Pn(n)?(e[__]=n[Rr],VT(n)):e[__]=n}function sw(e){return lw(e[Vo])}function aw(e){return lw(e[Yt])}function lw(e){for(;e!==null&&!fn(e);)e=e[Yt];return e}var BT;function yg(e){BT=e}var Eu=new k("",{factory:()=>UT}),UT="ng";var Cu=new k(""),Sa=new k("",{providedIn:"platform",factory:()=>"unknown"});var Su=new k("",{factory:()=>x(Ne).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cw=!1,uw=new k("",{factory:()=>cw});var vg=new k("");var $T=(e,n,t,r)=>{};function HT(e,n,t,r){$T(e,n,t,r)}function bg(e){return(e.flags&32)===32}var zT=()=>null;function dw(e,n,t=!1){return zT(e,n,t)}function fw(e,n){let t=e.contentQueries;if(t!==null){let r=J(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];kp(o),a.contentQueries(2,n[s],s)}}}finally{J(r)}}}function rg(e,n,t){kp(0);let r=J(null);try{n(e,t)}finally{J(r)}}function hw(e,n,t){if(mp(n)){let r=J(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{J(r)}}}var vn=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(vn||{});var ig=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Yh})`}};function _g(e){return e instanceof ig?e.changingThisBreaksApplicationSecurity:e}function WT(e,n){return e.createText(n)}function GT(e,n,t){e.setValue(n,t)}function pw(e,n,t){return e.createElement(n,t)}function hu(e,n,t,r,i){e.insertBefore(n,t,r,i)}function gw(e,n,t){e.appendChild(n,t)}function w_(e,n,t,r,i){r!==null?hu(e,n,t,r,i):gw(e,n,t)}function qT(e,n,t,r){e.removeChild(null,n,t,r)}function KT(e,n,t){e.setAttribute(n,"style",t)}function YT(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function mw(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&CT(e,n,r),i!==null&&YT(e,n,i),o!==null&&KT(e,n,o)}function yw(e){return e instanceof Function?e():e}function JT(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}var vw="ng-template";function ZT(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&JT(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(wg(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function wg(e){return e.type===4&&e.value!==vw}function QT(e,n,t){let r=e.type===4&&!t?vw:e.value;return n===r}function XT(e,n,t){let r=4,i=e.attrs,o=i!==null?nM(i):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!yn(r)&&!yn(l))return!1;if(s&&yn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!QT(e,l,t)||l===""&&n.length===1){if(yn(r))return!1;s=!0}}else if(r&8){if(i===null||!ZT(e,i,l,t)){if(yn(r))return!1;s=!0}}else{let c=n[++a],u=eM(l,i,wg(e),t);if(u===-1){if(yn(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(yn(r))return!1;s=!0}}}}return yn(r)||s}function yn(e){return(e&1)===0}function eM(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let s=n[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return rM(n,e)}function tM(e,n,t=!1){for(let r=0;r<n.length;r++)if(XT(e,n[r],t))return!0;return!1}function nM(e){for(let n=0;n<e.length;n++){let t=e[n];if(ST(t))return n}return e.length}function rM(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function D_(e,n){return e?":not("+n.trim()+")":n}function iM(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!yn(s)&&(n+=D_(o,i),i=""),r=s,o=o||!yn(r);t++}return i!==""&&(n+=D_(o,i)),n}function oM(e){return e.map(iM).join(",")}function sM(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!yn(i))break;i=o}r++}return t.length&&n.push(1,...t),n}var _n={};function Dg(e,n,t,r,i,o,s,a,l,c,u){let d=ct+r,h=d+i,f=aM(d,h),p=typeof c=="function"?c():c;return f[G]={type:e,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function aM(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:_n);return t}function lM(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Dg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Eg(e,n,t,r,i,o,s,a,l,c,u){let d=n.blueprint.slice();return d[dn]=i,d[H]=r|4|128|8|64|1024,(c!==null||e&&e[H]&2048)&&(d[H]|=2048),_p(d),d[lt]=d[Ci]=e,d[bt]=t,d[ir]=s||e&&e[ir],d[Le]=a||e&&e[Le],d[Ar]=l||e&&e[Ar]||null,d[Jt]=o,d[Rr]=jT(),d[ca]=u,d[gp]=c,d[Zt]=n.type==2?e[Zt]:d,d}function cM(e,n,t){let r=hn(n,e),i=lM(t),o=e[ir].rendererFactory,s=Cg(e,Eg(e,i,null,bw(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=s}function bw(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function _w(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Cg(e,n){return e[Vo]?e[pp][Yt]=n:e[Vo]=n,e[pp]=n,n}function A(e=1){ww(Lt(),me(),Or()+e,!1)}function ww(e,n,t,r){if(!r)if((n[H]&3)===3){let o=e.preOrderCheckHooks;o!==null&&iu(n,o,t)}else{let o=e.preOrderHooks;o!==null&&ou(n,o,0,t)}Pr(t)}var Iu=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(Iu||{});function og(e,n,t,r){let i=J(null);try{let[o,s,a]=e.inputs[t],l=null;(s&Iu.SignalBased)!==0&&(l=n[o][Ct]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(n,r)),e.setInput!==null?e.setInput(n,l,r,t,o):H_(n,l,o,r)}finally{J(i)}}var jn=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(jn||{}),uM;function Sg(e,n){return uM(e,n)}var qo=new Set,xu=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(xu||{}),sr=new k(""),E_=new Set;function Yo(e){E_.has(e)||(E_.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Ig=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=N({token:e,providedIn:"root",factory:()=>new e})}return e})(),Dw=[0,1,2,3],Ew=(()=>{class e{ngZone=x(vt);scheduler=x(xr);errorHandler=x(On,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){x(sr,{optional:!0})}execute(){let t=this.sequences.size>0;t&&ye(se.AfterRenderHooksStart),this.executing=!0;for(let r of Dw)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&ye(se.AfterRenderHooksEnd)}register(t){let{view:r}=t;r!==void 0?((r[Ti]??=[]).push(t),Uo(r),r[H]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(xu.AFTER_NEXT_RENDER,t):t()}static \u0275prov=N({token:e,providedIn:"root",factory:()=>new e})}return e})(),pu=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,i,o,s=null){this.impl=n,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[Ti];n&&(this.view[Ti]=n.filter(t=>t!==this))}};function Ia(e,n){let t=n?.injector??x(Ot);return Yo("NgAfterNextRender"),fM(e,t,n,!0)}function dM(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function fM(e,n,t,r){let i=n.get(Ig);i.impl??=n.get(Ew);let o=n.get(sr,null,{optional:!0}),s=t?.manualCleanup!==!0?n.get(pn):null,a=n.get(tu,null,{optional:!0}),l=new pu(i.impl,dM(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(l),l}var hM=new k("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:x(Fe)})});function Cw(e,n,t){let r=e.get(hM);if(Array.isArray(n))for(let i of n)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(n),t?.detachedLeaveAnimationFns?.push(n);r.scheduler&&r.scheduler(e)}function pM(e,n){for(let[t,r]of n)Cw(e,r.animateFns)}function C_(e,n,t,r){let i=e?.[da]?.enter;n!==null&&i&&i.has(t.index)&&pM(r,i)}function Ho(e,n,t,r,i,o,s,a){if(i!=null){let l,c=!1;fn(i)?l=i:Pn(i)&&(c=!0,i=i[dn]);let u=Qt(i);e===0&&r!==null?(C_(a,r,o,t),s==null?gw(n,r,u):hu(n,r,u,s||null,!0)):e===1&&r!==null?(C_(a,r,o,t),hu(n,r,u,s||null,!0)):e===2?S_(a,o,t,d=>{qT(n,u,c,d)}):e===3&&S_(a,o,t,()=>{n.destroyNode(u)}),l!=null&&xM(n,e,t,l,o,r,s)}}function gM(e,n){Sw(e,n),n[dn]=null,n[Jt]=null}function mM(e,n,t,r,i,o){r[dn]=i,r[Jt]=n,Tu(e,r,t,1,i,o)}function Sw(e,n){n[ir].changeDetectionScheduler?.notify(9),Tu(e,n,n[Le],2,null,null)}function yM(e){let n=e[Vo];if(!n)return zp(e[G],e);for(;n;){let t=null;if(Pn(n))t=n[Vo];else{let r=n[Ft];r&&(t=r)}if(!t){for(;n&&!n[Yt]&&n!==e;)Pn(n)&&zp(n[G],n),n=n[lt];n===null&&(n=e),Pn(n)&&zp(n[G],n),t=n&&n[Yt]}n=t}}function xg(e,n){let t=e[ha],r=t.indexOf(n);t.splice(r,1)}function Iw(e,n){if(Mi(n))return;let t=n[Le];t.destroyNode&&Tu(e,n,t,3,null,null),yM(n)}function zp(e,n){if(Mi(n))return;let t=J(null);try{n[H]&=-129,n[H]|=256,n[zt]&&qs(n[zt]),_M(e,n),bM(e,n),n[G].type===1&&n[Le].destroy();let r=n[Si];if(r!==null&&fn(n[lt])){r!==n[lt]&&xg(r,n);let i=n[xi];i!==null&&i.detachView(e)}ng(n)}finally{J(t)}}function S_(e,n,t,r){let i=e?.[da];if(i==null||i.leave==null||!i.leave.has(n.index))return r(!1);e&&qo.add(e[Rr]),Cw(t,()=>{if(i.leave&&i.leave.has(n.index)){let s=i.leave.get(n.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){let c=s.animateFns[l],{promise:u}=c();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),vM(e,r)}else e&&qo.delete(e[Rr]),r(!1)},i)}function vM(e,n){let t=e[da]?.running;if(t){t.then(()=>{e[da].running=void 0,qo.delete(e[Rr]),n(!0)});return}n(!1)}function bM(e,n){let t=e.cleanup,r=n[jo];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[jo]=null);let i=n[er];if(i!==null){n[er]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[ua];if(o!==null){n[ua]=null;for(let s of o)s.destroy()}}function _M(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof ki)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];ye(se.LifecycleHookStart,a,l);try{l.call(a)}finally{ye(se.LifecycleHookEnd,a,l)}}else{ye(se.LifecycleHookStart,i,o);try{o.call(i)}finally{ye(se.LifecycleHookEnd,i,o)}}}}}function wM(e,n,t){return DM(e,n.parent,t)}function DM(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[dn];if(Nr(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===vn.None||i===vn.Emulated)return null}return hn(r,t)}function EM(e,n,t){return SM(e,n,t)}function CM(e,n,t){return e.type&40?hn(e,t):null}var SM=CM,I_;function Tg(e,n,t,r){let i=wM(e,r,n),o=n[Le],s=r.parent||n[Jt],a=EM(s,r,n);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)w_(o,i,t[l],a,!1);else w_(o,i,t,a,!1);I_!==void 0&&I_(o,r,n,t,i)}function ba(e,n){if(n!==null){let t=n.type;if(t&3)return hn(n,e);if(t&4)return sg(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return ba(e,r);{let i=e[n.index];return fn(i)?sg(-1,i):Qt(i)}}else{if(t&128)return ba(e,n.next);if(t&32)return Sg(n,e)()||Qt(e[n.index]);{let r=xw(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=Ir(e[Zt]);return ba(i,r)}else return ba(e,n.next)}}}return null}function xw(e,n){if(n!==null){let r=e[Zt][Jt],i=n.projection;return r.projection[i]}return null}function sg(e,n){let t=Ft+e+1;if(t<n.length){let r=n[t],i=r[G].firstChild;if(i!==null)return ba(r,i)}return n[kr]}function Mg(e,n,t,r,i,o,s){for(;t!=null;){let a=r[Ar];if(t.type===128){t=t.next;continue}let l=r[t.index],c=t.type;if(s&&n===0&&(l&&Go(Qt(l),r),t.flags|=2),!bg(t))if(c&8)Mg(e,n,t.child,r,i,o,!1),Ho(n,e,a,i,l,t,o,r);else if(c&32){let u=Sg(t,r),d;for(;d=u();)Ho(n,e,a,i,d,t,o,r);Ho(n,e,a,i,l,t,o,r)}else c&16?IM(e,n,r,t,i,o):Ho(n,e,a,i,l,t,o,r);t=s?t.projectionNext:t.next}}function Tu(e,n,t,r,i,o){Mg(t,r,e.firstChild,n,i,o,!1)}function IM(e,n,t,r,i,o){let s=t[Zt],l=s[Jt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Ho(n,e,t[Ar],i,u,r,o,t)}else{let c=l,u=s[lt];iw(r)&&(c.flags|=128),Mg(e,n,c,u,i,o,!0)}}function xM(e,n,t,r,i,o,s){let a=r[kr],l=Qt(r);a!==l&&Ho(n,e,t,o,a,i,s);for(let c=Ft;c<r.length;c++){let u=r[c];Tu(u[G],u,e,n,o,a)}}function TM(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:jn.DashCase;i==null?e.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=jn.Important),e.setStyle(t,r,i,o))}}function Tw(e,n,t,r,i){let o=Or(),s=r&2;try{Pr(-1),s&&n.length>ct&&ww(e,n,ct,!1);let a=s?se.TemplateUpdateStart:se.TemplateCreateStart;ye(a,i,t),t(r,i)}finally{Pr(o);let a=s?se.TemplateUpdateEnd:se.TemplateCreateEnd;ye(a,i,t)}}function Ag(e,n,t){PM(e,n,t),(t.flags&64)===64&&FM(e,n,t)}function Rg(e,n,t=hn){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(n,e):e[s];e[i++]=a}}}function MM(e,n,t,r){let o=r.get(uw,cw)||t===vn.ShadowDom||t===vn.ExperimentalIsolatedShadowDom,s=e.selectRootElement(n,o);return AM(s),s}function AM(e){RM(e)}var RM=()=>null;function kM(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Mw(e,n,t,r,i,o){let s=n[G];if(kg(e,s,n,t,r)){Nr(e)&&OM(n,e.index);return}e.type&3&&(t=kM(t)),NM(e,n,t,r,i,o)}function NM(e,n,t,r,i,o){if(e.type&3){let s=hn(e,n);r=o!=null?o(r,e.value||"",t):r,i.setProperty(s,t,r)}else e.type&12}function OM(e,n){let t=Xt(n,e);t[H]&16||(t[H]|=64)}function PM(e,n,t){let r=t.directiveStart,i=t.directiveEnd;Nr(t)&&cM(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||du(t,n);let o=t.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=fu(n,e,s,t);if(Go(l,n),o!==null&&BM(n,s-r,l,a,t,o),Fn(a)){let c=Xt(t.index,n);c[bt]=fu(n,e,s,t)}}}function FM(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=r_();try{Pr(o);for(let a=r;a<i;a++){let l=e.data[a],c=n[a];Yc(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&LM(l,c)}}finally{Pr(-1),Yc(s)}}function LM(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function Aw(e,n){let t=e.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];tM(n,o.selectors,!1)&&(r??=[],Fn(o)?r.unshift(o):r.push(o))}return r}function jM(e,n,t,r,i,o){let s=hn(e,n);VM(n[Le],s,o,e.value,t,r,i)}function VM(e,n,t,r,i,o,s){if(o==null)e.removeAttribute(n,i,t);else{let a=s==null?Po(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}function BM(e,n,t,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];og(r,t,l,c)}}function Rw(e,n,t,r,i){let o=ct+t,s=n[G],a=i(s,n,e,r,t);n[o]=a,$o(e,!0);let l=e.type===2;return l?(mw(n[Le],a,e),(Gb()===0||pa(e))&&Go(a,n),qb()):Go(a,n),Xc()&&(!l||!bg(e))&&Tg(s,n,a,e),e}function kw(e){let n=e;return Tp()?Jb():(n=n.parent,$o(n,!1)),n}function UM(e,n){let t=e[Ar];if(!t)return;let r;try{r=t.get(gn,null)}catch{r=null}r?.(n)}function kg(e,n,t,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],d=n.data[c];og(d,t[c],u,i),a=!0}if(o)for(let l of o){let c=t[l],u=n.data[l];og(u,c,r,i),a=!0}return a}function $M(e,n){let t=Xt(n,e),r=t[G];HM(r,t);let i=t[dn];i!==null&&t[ca]===null&&(t[ca]=dw(i,t[Ar])),ye(se.ComponentStart);try{Ng(r,t,t[bt])}finally{ye(se.ComponentEnd,t[bt])}}function HM(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Ng(e,n,t){Jc(n);try{let r=e.viewQuery;r!==null&&rg(1,r,t);let i=e.template;i!==null&&Tw(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[xi]?.finishViewCreation(e),e.staticContentQueries&&fw(e,n),e.staticViewQueries&&rg(2,e.viewQuery,t);let o=e.components;o!==null&&zM(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[H]&=-5,Zc()}}function zM(e,n){for(let t=0;t<n.length;t++)$M(e,n[t])}function WM(e,n,t,r){let i=J(null);try{let o=n.tView,a=e[H]&4096?4096:16,l=Eg(e,o,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[n.index];l[Si]=c;let u=e[xi];return u!==null&&(l[xi]=u.createEmbeddedView(o)),Ng(o,l,t),l}finally{J(i)}}function x_(e,n){return!n||n.firstChild===null||iw(e)}function wa(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(Qt(o)),fn(o)&&Nw(o,r);let s=t.type;if(s&8)wa(e,n,t.child,r);else if(s&32){let a=Sg(t,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=xw(n,t);if(Array.isArray(a))r.push(...a);else{let l=Ir(n[Zt]);wa(l[G],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Nw(e,n){for(let t=Ft;t<e.length;t++){let r=e[t],i=r[G].firstChild;i!==null&&wa(r[G],r,i,n)}e[kr]!==e[dn]&&n.push(e[kr])}function Ow(e){if(e[Ti]!==null){for(let n of e[Ti])n.impl.addSequence(n);e[Ti].length=0}}var Pw=[];function GM(e){return e[zt]??qM(e)}function qM(e){let n=Pw.pop()??Object.create(YM);return n.lView=e,n}function KM(e){e.lView[zt]!==e&&(e.lView=null,Pw.push(e))}var YM=q(M({},zs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Uo(e.lView)},consumerOnSignalRead(){this.lView[zt]=this}});function JM(e){let n=e[zt]??Object.create(ZM);return n.lView=e,n}var ZM=q(M({},zs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=Ir(e.lView);for(;n&&!Fw(n[G]);)n=Ir(n);n&&wp(n)},consumerOnSignalRead(){this.lView[zt]=this}});function Fw(e){return e.type!==2}function Lw(e){if(e[ua]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[ua])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[H]&8192)}}var QM=100;function jw(e,n=0){let r=e[ir].rendererFactory,i=!1;i||r.begin?.();try{XM(e,n)}finally{i||r.end?.()}}function XM(e,n){let t=Mp();try{Ap(!0),ag(e,n);let r=0;for(;ga(e);){if(r===QM)throw new R(103,!1);r++,ag(e,1)}}finally{Ap(t)}}function eA(e,n,t,r){if(Mi(n))return;let i=n[H],o=!1,s=!1;Jc(n);let a=!0,l=null,c=null;o||(Fw(e)?(c=GM(n),l=Gs(c)):oc()===null?(a=!1,c=JM(n),l=Gs(c)):n[zt]&&(qs(n[zt]),n[zt]=null));try{_p(n),e_(e.bindingStartIndex),t!==null&&Tw(e,n,t,2,r);let u=(i&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&iu(n,f,null)}else{let f=e.preOrderHooks;f!==null&&ou(n,f,0,null),$p(n,0)}if(s||tA(n),Lw(n),Vw(n,0),e.contentQueries!==null&&fw(e,n),!o)if(u){let f=e.contentCheckHooks;f!==null&&iu(n,f)}else{let f=e.contentHooks;f!==null&&ou(n,f,1),$p(n,1)}rA(e,n);let d=e.components;d!==null&&Uw(n,d,0);let h=e.viewQuery;if(h!==null&&rg(2,h,r),!o)if(u){let f=e.viewCheckHooks;f!==null&&iu(n,f)}else{let f=e.viewHooks;f!==null&&ou(n,f,2),$p(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[Wc]){for(let f of n[Wc])f();n[Wc]=null}o||(Ow(n),n[H]&=-73)}catch(u){throw o||Uo(n),u}finally{c!==null&&(sc(c,l),a&&KM(c)),Zc()}}function Vw(e,n){for(let t=sw(e);t!==null;t=aw(t))for(let r=Ft;r<t.length;r++){let i=t[r];Bw(i,n)}}function tA(e){for(let n=sw(e);n!==null;n=aw(n)){if(!(n[H]&2))continue;let t=n[ha];for(let r=0;r<t.length;r++){let i=t[r];wp(i)}}}function nA(e,n,t){ye(se.ComponentStart);let r=Xt(n,e);try{Bw(r,t)}finally{ye(se.ComponentEnd,r[bt])}}function Bw(e,n){qc(e)&&ag(e,n)}function ag(e,n){let r=e[G],i=e[H],o=e[zt],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&ac(o)),s||=!1,o&&(o.dirty=!1),e[H]&=-9217,s)eA(r,e,r.template,e[bt]);else if(i&8192){let a=J(null);try{Lw(e),Vw(e,1);let l=r.components;l!==null&&Uw(e,l,1),Ow(e)}finally{J(a)}}}function Uw(e,n,t){for(let r=0;r<n.length;r++)nA(e,n[r],t)}function rA(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Pr(~i);else{let o=i,s=t[++r],a=t[++r];n_(s,o);let l=n[o];ye(se.HostBindingsUpdateStart,l);try{a(2,l)}finally{ye(se.HostBindingsUpdateEnd,l)}}}}finally{Pr(-1)}}function Og(e,n){let t=Mp()?64:1088;for(e[ir].changeDetectionScheduler?.notify(n);e;){e[H]|=t;let r=Ir(e);if(Bo(e)&&!r)return e;e=r}return null}function $w(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function iA(e,n,t,r=!0){let i=n[G];if(oA(i,n,e,t),r){let s=sg(t,e),a=n[Le],l=a.parentNode(e[kr]);l!==null&&mM(i,e[Jt],a,n,l,s)}let o=n[ca];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function lg(e,n){if(e.length<=Ft)return;let t=Ft+n,r=e[t];if(r){let i=r[Si];i!==null&&i!==e&&xg(i,r),n>0&&(e[t-1][Yt]=r[Yt]);let o=sa(e,Ft+n);gM(r[G],r);let s=o[xi];s!==null&&s.detachView(o[G]),r[lt]=null,r[Yt]=null,r[H]&=-129}return r}function oA(e,n,t,r){let i=Ft+r,o=t.length;r>0&&(t[i-1][Yt]=n),r<o-Ft?(n[Yt]=t[i],lp(t,Ft+r,n)):(t.push(n),n[Yt]=null),n[lt]=t;let s=n[Si];s!==null&&t!==s&&Hw(s,n);let a=n[xi];a!==null&&a.insertView(e),Kc(n),n[H]|=128}function Hw(e,n){let t=e[ha],r=n[lt];if(Pn(r))e[H]|=2;else{let i=r[lt][Zt];n[Zt]!==i&&(e[H]|=2)}t===null?e[ha]=[n]:t.push(n)}var Fr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,t=n[G];return wa(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t}get context(){return this._lView[bt]}set context(n){this._lView[bt]=n}get destroyed(){return Mi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[lt];if(fn(n)){let t=n[fa],r=t?t.indexOf(this):-1;r>-1&&(lg(n,r),sa(t,r))}this._attachedToViewContainer=!1}Iw(this._lView[G],this._lView)}onDestroy(n){Dp(this._lView,n)}markForCheck(){Og(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[H]&=-129}reattach(){Kc(this._lView),this._lView[H]|=128}detectChanges(){this._lView[H]|=1024,jw(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Bo(this._lView),t=this._lView[Si];t!==null&&!n&&xg(t,this._lView),Sw(this._lView[G],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=n;let t=Bo(this._lView),r=this._lView[Si];r!==null&&!t&&Hw(r,this._lView),Kc(this._lView)}};var xa=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=sA;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=WM(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Fr(o)}}return e})();function sA(){return aA(xt(),me())}function aA(e,n){return e.type&4?new xa(n,e,Du(e,n)):null}function Mu(e,n,t,r,i){let o=e.data[n];if(o===null)o=lA(e,n,t,r,i),t_()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Yb();o.injectorIndex=s===null?-1:s.injectorIndex}return $o(o,!0),o}function lA(e,n,t,r,i){let o=xp(),s=Tp(),a=s?o:o&&o.parent,l=e.data[n]=uA(e,a,t,n,r,i);return cA(e,l,o,s),l}function cA(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function uA(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return Kb()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var dA=()=>null;function T_(e,n){return dA(e,n)}var zw=class{},Au=class{},cg=class{resolveComponentFactory(n){throw new R(917,!1)}},Ta=class{static NULL=new cg},Ni=class{},Vn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>fA()}return e})();function fA(){let e=me(),n=xt(),t=Xt(n.index,e);return(Pn(t)?t:e)[Le]}var Ww=(()=>{class e{static \u0275prov=N({token:e,providedIn:"root",factory:()=>null})}return e})();var su={},ug=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){let i=this.injector.get(n,su,r);return i!==su||t===su?i:this.parentInjector.get(n,t,r)}};function gu(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=Jh(i,a);else if(o==2){let l=a,c=n[++s];r=Jh(r,l+": "+c+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function O(e,n=0){let t=me();if(t===null)return j(e,n);let r=xt();return tw(r,t,at(e),n)}function Pg(){let e="invalid";throw new Error(e)}function Gw(e,n,t,r,i){let o=r===null?null:{"":-1},s=i(e,t);if(s!==null){let a=s,l=null,c=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,l,c]=u.resolveHostDirectives(s);break}gA(e,n,t,a,o,l,c)}o!==null&&r!==null&&hA(t,r,o)}function hA(e,n,t){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new R(-301,!1);r.push(n[i],o)}}function pA(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function gA(e,n,t,r,i,o,s){let a=r.length,l=null;for(let h=0;h<a;h++){let f=r[h];l===null&&Fn(f)&&(l=f,pA(e,t,h)),eg(du(t,n),e,f.type)}wA(t,e.data.length,a),l?.viewProvidersResolver&&l.viewProvidersResolver(l);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let c=!1,u=!1,d=_w(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(t.mergedAttrs=Wo(t.mergedAttrs,f.hostAttrs),yA(e,t,n,d,f),_A(d,f,i),s!==null&&s.has(f)){let[g,m]=s.get(f);t.directiveToIndex.set(f.type,[d,g+t.directiveStart,m+t.directiveStart])}else(o===null||!o.has(f))&&t.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let p=f.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),c=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}mA(e,t,o)}function mA(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=e.data[r];if(t===null||!t.has(i))M_(0,n,i,r),M_(1,n,i,r),R_(n,r,!1);else{let o=t.get(i);A_(0,n,o,r),A_(1,n,o,r),R_(n,r,!0)}}}function M_(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),qw(n,o)}}function A_(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),qw(n,s)}}function qw(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function R_(e,n,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!t&&i===null||t&&o===null||wg(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===n){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let c=o[l];for(let u=0;u<c.length;u+=2)if(c[u]===n){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function yA(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=Sr(i.type,!0)),s=new ki(o,Fn(i),O,null);e.blueprint[r]=s,t[r]=s,vA(e,n,r,_w(e,t,i.hostVars,_n),i)}function vA(e,n,t,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;bA(s)!=a&&s.push(a),s.push(t,r,o)}}function bA(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function _A(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Fn(n)&&(t[""]=e)}}function wA(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function Kw(e,n,t,r,i,o,s,a){let l=n[G],c=l.consts,u=Ai(c,s),d=Mu(l,e,t,r,u);return o&&Gw(l,n,d,Ai(c,a),i),d.mergedAttrs=Wo(d.mergedAttrs,d.attrs),d.attrs!==null&&gu(d,d.attrs,!1),d.mergedAttrs!==null&&gu(d,d.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,d),d}function Yw(e,n){q_(e,n),mp(n)&&e.queries.elementEnd(n)}function DA(e,n,t,r,i,o){let s=n.consts,a=Ai(s,i),l=Mu(n,e,t,r,a);if(l.mergedAttrs=Wo(l.mergedAttrs,l.attrs),o!=null){let c=Ai(s,o);l.localNames=[];for(let u=0;u<c.length;u+=2)l.localNames.push(c[u],-1)}return l.attrs!==null&&gu(l,l.attrs,!1),l.mergedAttrs!==null&&gu(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function Fg(e){return Zw(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function Jw(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),r;for(;!(r=t.next()).done;)n(r.value)}}function Zw(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function EA(e,n,t){return e[n]=t}function Oi(e,n,t){if(t===_n)return!1;let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function Qw(e,n,t,r){let i=Oi(e,n,t);return Oi(e,n+1,r)||i}function Wp(e,n,t){return function r(i){let o=Nr(e)?Xt(e.index,n):n;Og(o,5);let s=n[bt],a=k_(n,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=k_(n,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function k_(e,n,t,r){let i=J(null);try{return ye(se.OutputStart,n,t),t(r)!==!1}catch(o){return UM(e,o),!1}finally{ye(se.OutputEnd,n,t),J(i)}}function CA(e,n,t,r,i,o,s,a){let l=pa(e),c=!1,u=null;if(!r&&l&&(u=IA(n,t,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,c=!0}else{let d=hn(e,t),h=r?r(d):d;HT(t,h,o,a);let f=i.listen(h,o,a);if(!SA(o)){let p=r?g=>r(Qt(g[e.index])):e.index;Xw(p,n,t,o,a,f,!1)}}return c}function SA(e){return e.startsWith("animation")||e.startsWith("transition")}function IA(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=n[jo],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Xw(e,n,t,r,i,o,s){let a=n.firstCreatePass?Wb(n):null,l=zb(t),c=l.length;l.push(i,o),a&&a.push(r,e,c,(c+1)*(s?-1:1))}function N_(e,n,t,r,i,o){let s=n[t],a=n[G],c=a.data[t].outputs[r],d=s[c].subscribe(o);Xw(e.index,a,n,i,o,d,!0)}var dg=Symbol("BINDING");var mu=class extends Ta{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=rr(n);return new Pi(t,this.ngModule)}};function xA(e){return Object.keys(e).map(n=>{let[t,r,i]=e[n],o={propName:t,templateName:n,isSignal:(r&Iu.SignalBased)!==0};return i&&(o.transform=i),o})}function TA(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function MA(e,n,t){let r=n instanceof Fe?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new ug(t,r):t}function AA(e){let n=e.get(Ni,null);if(n===null)throw new R(407,!1);let t=e.get(Ww,null),r=e.get(xr,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function RA(e,n){let t=e0(e);return pw(n,t,t==="svg"?Vb:t==="math"?Bb:null)}function e0(e){return(e.selectors[0][0]||"div").toLowerCase()}var Pi=class extends Au{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=xA(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=TA(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=oM(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,i,o,s){ye(se.DynamicComponentStart);let a=J(null);try{let l=this.componentDef,c=kA(r,l,s,o),u=MA(l,i||this.ngModule,n),d=AA(u),h=d.rendererFactory.createRenderer(null,l),f=r?MM(h,r,l.encapsulation,u):RA(l,h),p=s?.some(O_)||o?.some(y=>typeof y!="function"&&y.bindings.some(O_)),g=Eg(null,c,null,512|bw(l),null,null,d,h,u,null,dw(f,u,!0));g[ct]=f,Jc(g);let m=null;try{let y=Kw(ct,g,2,"#host",()=>c.directiveRegistry,!0,0);mw(h,f,y),Go(f,g),Ag(c,g,y),hw(c,y,g),Yw(c,y),t!==void 0&&OA(y,this.ngContentSelectors,t),m=Xt(y.index,g),g[bt]=m[bt],Ng(c,g,null)}catch(y){throw m!==null&&ng(m),ng(g),y}finally{ye(se.DynamicComponentEnd),Zc()}return new yu(this.componentType,g,!!p)}finally{J(a)}}};function kA(e,n,t,r){let i=e?["ng-version","21.0.8"]:sM(n.selectors[0]),o=null,s=null,a=0;if(t)for(let u of t)a+=u[dg].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let h of d.bindings){a+=h[dg].requiredVars;let f=u+1;h.create&&(h.targetIdx=f,(o??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let l=[n];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,h=op(d);l.push(h)}return Dg(0,null,NA(o,s),1,a,l,null,null,null,[i],null)}function NA(e,n){return!e&&!n?null:t=>{if(t&1&&e)for(let r of e)r.create();if(t&2&&n)for(let r of n)r.update()}}function O_(e){let n=e[dg].kind;return n==="input"||n==="twoWay"}var yu=class extends zw{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Gc(t[G],ct),this.location=Du(this._tNode,t),this.instance=Xt(this._tNode.index,t)[bt],this.hostView=this.changeDetectorRef=new Fr(t,void 0),this.componentType=n}setInput(n,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let i=this._rootLView,o=kg(r,i[G],i,n,t);this.previousInputValues.set(n,t);let s=Xt(r.index,i);Og(s,1)}get injector(){return new Ri(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function OA(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ji=(()=>{class e{static __NG_ELEMENT_ID__=PA}return e})();function PA(){let e=xt();return LA(e,me())}var FA=ji,t0=class extends FA{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Du(this._hostTNode,this._hostLView)}get injector(){return new Ri(this._hostTNode,this._hostLView)}get parentInjector(){let n=gg(this._hostTNode,this._hostLView);if(Y_(n)){let t=cu(n,this._hostLView),r=lu(n),i=t[G].data[r+8];return new Ri(i,t)}else return new Ri(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=P_(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-Ft}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=T_(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,x_(this._hostTNode,s)),a}createComponent(n,t,r,i,o,s,a){let l=n&&!mT(n),c;if(l)c=t;else{let m=t||{};c=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef,s=m.directives,a=m.bindings}let u=l?n:new Pi(rr(n)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let y=(l?d:this.parentInjector).get(Fe,null);y&&(o=y)}let h=rr(u.componentType??{}),f=T_(this._lContainer,h?.id??null),p=f?.firstChild??null,g=u.create(d,i,p,o,s,a);return this.insertImpl(g.hostView,c,x_(this._hostTNode,f)),g}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if(Ub(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=i[lt],c=new t0(l,l[Jt],l[lt]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return iA(s,i,o,r),n.attachToViewContainerRef(),lp(Gp(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=P_(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=lg(this._lContainer,t);r&&(sa(Gp(this._lContainer),t),Iw(r[G],r))}detach(n){let t=this._adjustIndex(n,-1),r=lg(this._lContainer,t);return r&&sa(Gp(this._lContainer),t)!=null?new Fr(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function P_(e){return e[fa]}function Gp(e){return e[fa]||(e[fa]=[])}function LA(e,n){let t,r=n[e.index];return fn(r)?t=r:(t=$w(r,n,null,e),n[e.index]=t,Cg(n,t)),VA(t,n,e,r),new t0(t,e,n)}function jA(e,n){let t=e[Le],r=t.createComment(""),i=hn(n,e),o=t.parentNode(i);return hu(t,o,r,t.nextSibling(i),!1),r}var VA=$A,BA=()=>!1;function UA(e,n,t){return BA(e,n,t)}function $A(e,n,t,r){if(e[kr])return;let i;t.type&8?i=Qt(r):i=jA(n,t),e[kr]=i}var Fi=class{},Ru=class{};var vu=class extends Fi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new mu(this);constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t;let o=ip(n);this._bootstrapComponents=yw(o.bootstrap),this._r3Injector=Pp(n,t,[{provide:Fi,useValue:this},{provide:Ta,useValue:this.componentFactoryResolver},...r],tr(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},bu=class extends Ru{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new vu(this.moduleType,n,[])}};var Da=class extends Fi{injector;componentFactoryResolver=new mu(this);instance=null;constructor(n){super();let t=new wi([...n.providers,{provide:Fi,useValue:this},{provide:Ta,useValue:this.componentFactoryResolver}],n.parent||la(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Jo(e,n,t=null){return new Da({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var HA=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=dp(!1,t.type),i=r.length>0?Jo([r],this._injector,""):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=N({token:e,providedIn:"environment",factory:()=>new e(j(Fe))})}return e})();function xe(e){return Ca(()=>{let n=n0(e),t=q(M({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===mg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(HA).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||vn.Emulated,styles:e.styles||Ht,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&Yo("NgStandalone"),r0(t);let r=e.dependencies;return t.directiveDefs=F_(r,zA),t.pipeDefs=F_(r,Ib),t.id=qA(t),t})}function zA(e){return rr(e)||op(e)}function wn(e){return Ca(()=>({type:e.type,bootstrap:e.bootstrap||Ht,declarations:e.declarations||Ht,imports:e.imports||Ht,exports:e.exports||Ht,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function WA(e,n){if(e==null)return Tr;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Iu.None,l=null),t[o]=[r,a,l],n[o]=s}return t}function GA(e){if(e==null)return Tr;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function De(e){return Ca(()=>{let n=n0(e);return r0(n),n})}function Lg(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function n0(e){let n={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||Tr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Ht,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:WA(e.inputs,n),outputs:GA(e.outputs),debugInfo:null}}function r0(e){e.features?.forEach(n=>n(e))}function F_(e,n){return e?()=>{let t=typeof e=="function"?e():e,r=[];for(let i of t){let o=n(i);o!==null&&r.push(o)}return r}:null}function qA(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function KA(e){return Object.getPrototypeOf(e.prototype).constructor}function Tt(e){let n=KA(e.type),t=!0,r=[e];for(;n;){let i;if(Fn(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new R(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let s=e;s.inputs=qp(e.inputs),s.declaredInputs=qp(e.declaredInputs),s.outputs=qp(e.outputs);let a=i.hostBindings;a&&XA(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&ZA(e,l),c&&QA(e,c),YA(e,i),Sb(e.outputs,i.outputs),Fn(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Tt&&(t=!1)}}n=Object.getPrototypeOf(n)}JA(r)}function YA(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function JA(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Wo(i.hostAttrs,t=Wo(t,i.hostAttrs))}}function qp(e){return e===Tr?{}:e===Ht?[]:e}function ZA(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function QA(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,o)=>{n(r,i,o),t(r,i,o)}:e.contentQueries=n}function XA(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function eR(e,n,t,r,i,o,s,a){if(t.firstCreatePass){e.mergedAttrs=Wo(e.mergedAttrs,e.attrs);let u=e.tView=Dg(2,e,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,e),u.queries=t.queries.embeddedTView(e))}a&&(e.flags|=a),$o(e,!1);let l=nR(t,n,e,r);Xc()&&Tg(t,n,l,e),Go(l,n);let c=$w(l,n,l,e);n[r+ct]=c,Cg(n,c),UA(c,e,n)}function tR(e,n,t,r,i,o,s,a,l,c,u){let d=t+ct,h;return n.firstCreatePass?(h=Mu(n,d,4,s||null,a||null),Cp()&&Gw(n,e,h,Ai(n.consts,c),Aw),q_(n,h)):h=n.data[d],eR(h,e,n,t,r,i,o,l),pa(h)&&Ag(n,e,h),c!=null&&Rg(e,h,u),h}function je(e,n,t,r,i,o,s,a){let l=me(),c=Lt(),u=Ai(c.consts,o);return tR(l,c,e,n,t,r,i,u,void 0,s,a),je}var nR=rR;function rR(e,n,t,r){return eu(!0),n[Le].createComment("")}var jg=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function i0(e){return typeof e=="function"&&e[Ct]!==void 0}function Vg(e){return i0(e)&&typeof e.set=="function"}var Bg=new k("");function jr(e){return!!e&&typeof e.then=="function"}function Ug(e){return!!e&&typeof e.subscribe=="function"}var $g=new k("");function ku(e){return Mr([{provide:$g,multi:!0,useValue:e}])}var Hg=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=x($g,{optional:!0})??[];injector=x(Ot);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=et(this.injector,i);if(jr(o))t.push(o);else if(Ug(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ma=new k("");function o0(){bh(()=>{let e="";throw new R(600,e)})}function s0(e){return e.isBoundToModule}var iR=10;var Vr=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(gn);afterRenderManager=x(Ig);zonelessEnabled=x(ya);rootEffectScheduler=x(Up);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Xe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=x(or);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(de(t=>!t))}constructor(){x(sr,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=x(Fe);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ot.NULL){return this._injector.get(vt).run(()=>{ye(se.BootstrapComponentStart);let s=t instanceof Au;if(!this._injector.get(Hg).done){let p="";throw new R(405,p)}let l;s?l=t:l=this._injector.get(Ta).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let c=s0(l)?void 0:this._injector.get(Fi),u=r||l.selector,d=l.create(i,[],u,c),h=d.location.nativeElement,f=d.injector.get(Bg,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),_a(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),ye(se.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ye(se.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(xu.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw ye(se.ChangeDetectionEnd),new R(101,!1);let t=J(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,J(t),this.afterTick.next(),ye(se.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ni,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<iR;){ye(se.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{ye(se.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!ga(i))continue;let o=r&&!this.zonelessEnabled?0:1;jw(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ga(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;_a(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Ma,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>_a(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new R(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _a(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function Vi(e,n,t,r){let i=me(),o=ma();if(Oi(i,o,n)){let s=Lt(),a=Qc();jM(a,i,e,n,t,r)}return Vi}var h8=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function ee(e,n,t){let r=me(),i=ma();if(Oi(r,i,n)){let o=Lt(),s=Qc();Mw(s,r,e,n,r[Le],t)}return ee}function L_(e,n,t,r,i){kg(n,e,t,i?"class":"style",r)}function w(e,n,t,r){let i=me(),o=i[G],s=e+ct,a=o.firstCreatePass?Kw(s,i,2,n,Aw,Cp(),t,r):o.data[s];if(Rw(a,i,e,n,a0),pa(a)){let l=i[G];Ag(l,i,a),hw(l,a,i)}return r!=null&&Rg(i,a),w}function b(){let e=Lt(),n=xt(),t=kw(n);return e.firstCreatePass&&Yw(e,t),Sp(t)&&Ip(),Ep(),t.classesWithoutHost!=null&&DT(t)&&L_(e,t,me(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&ET(t)&&L_(e,t,me(),t.stylesWithoutHost,!1),b}function $e(e,n,t,r){return w(e,n,t,r),b(),$e}function Nu(e,n,t,r){let i=me(),o=i[G],s=e+ct,a=o.firstCreatePass?DA(s,o,2,n,t,r):o.data[s];return Rw(a,i,e,n,a0),r!=null&&Rg(i,a),Nu}function Ou(){let e=xt(),n=kw(e);return Sp(n)&&Ip(),Ep(),Ou}var a0=(e,n,t,r,i)=>(eu(!0),pw(n[Le],r,c_()));function Mt(){return me()}var va=void 0;function oR(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&t===0?1:5}var sR=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],va,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],va,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",va,va,va],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",oR],Kp={};function Pu(e){let n=aR(e),t=j_(n);if(t)return t;let r=n.split("-")[0];if(t=j_(r),t)return t;if(r==="en")return sR;throw new R(701,!1)}function j_(e){return e in Kp||(Kp[e]=Di.ng&&Di.ng.common&&Di.ng.common.locales&&Di.ng.common.locales[e]),Kp[e]}var Bi=(function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e})(Bi||{});function aR(e){return e.toLowerCase().replace(/_/g,"-")}var Aa="en-US";var lR=Aa;function l0(e){typeof e=="string"&&(lR=e.toLowerCase().replace(/_/g,"-"))}function P(e,n,t){let r=me(),i=Lt(),o=xt();return c0(i,r,r[Le],o,e,n,t),P}function c0(e,n,t,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=Wp(r,n,o),CA(r,e,n,s,t,i,o,l)&&(a=!1)),a){let c=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let h=u[d],f=u[d+1];l??=Wp(r,n,o),N_(r,n,h,f,i,l)}if(c&&c.length)for(let d of c)l??=Wp(r,n,o),N_(r,n,d,i,i,l)}}function He(e=1){return l_(e)}function Ra(e){let n=Zb();return vp(n,ct+e)}function ru(e,n){return e<<17|n<<2}function Li(e){return e>>17&32767}function cR(e){return(e&2)==2}function uR(e,n){return e&131071|n<<17}function fg(e){return e|2}function Ko(e){return(e&131068)>>2}function Yp(e,n){return e&-131069|n<<2}function dR(e){return(e&1)===1}function hg(e){return e|1}function fR(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Li(s),l=Ko(s);e[r]=t;let c=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Fo(d,u)>0)&&(c=!0)}else u=t;if(i)if(l!==0){let h=Li(e[a+1]);e[r+1]=ru(h,a),h!==0&&(e[h+1]=Yp(e[h+1],r)),e[a+1]=uR(e[a+1],r)}else e[r+1]=ru(a,0),a!==0&&(e[a+1]=Yp(e[a+1],r)),a=r;else e[r+1]=ru(l,0),a===0?a=r:e[l+1]=Yp(e[l+1],r),l=r;c&&(e[r+1]=fg(e[r+1])),V_(e,u,r,!0),V_(e,u,r,!1),hR(n,u,e,r,o),s=ru(a,l),o?n.classBindings=s:n.styleBindings=s}function hR(e,n,t,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&Fo(o,n)>=0&&(t[r+1]=hg(t[r+1]))}function V_(e,n,t,r){let i=e[t+1],o=n===null,s=r?Li(i):Ko(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];pR(l,n)&&(a=!0,e[s+1]=r?hg(c):fg(c)),s=r?Li(c):Ko(c)}a&&(e[t+1]=r?fg(i):hg(i))}function pR(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?Fo(e,n)>=0:!1}function Ui(e,n){return gR(e,n,null,!0),Ui}function gR(e,n,t,r){let i=me(),o=Lt(),s=Rp(2);if(o.firstUpdatePass&&yR(o,e,s,r),n!==_n&&Oi(i,s,n)){let a=o.data[Or()];DR(o,a,i,i[Le],e,i[s+1]=ER(n,t),r,s)}}function mR(e,n){return n>=e.expandoStartIndex}function yR(e,n,t,r){let i=e.data;if(i[t+1]===null){let o=i[Or()],s=mR(e,t);CR(o,r)&&n===null&&!s&&(n=!1),n=vR(i,o,n,r),fR(i,o,n,t,s,r)}}function vR(e,n,t,r){let i=i_(e),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=Jp(null,e,n,t,r),t=Ea(t,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==i)if(t=Jp(i,e,n,t,r),o===null){let l=bR(e,n,r);l!==void 0&&Array.isArray(l)&&(l=Jp(null,e,n,l[1],r),l=Ea(l,n.attrs,r),_R(e,n,r,l))}else o=wR(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function bR(e,n,t){let r=t?n.classBindings:n.styleBindings;if(Ko(r)!==0)return e[Li(r)]}function _R(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[Li(i)]=r}function wR(e,n,t){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Ea(r,s,t)}return Ea(r,n.attrs,t)}function Jp(e,n,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],r=Ea(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function Ea(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),kb(e,s,t?!0:n[++o]))}return e===void 0?null:e}function DR(e,n,t,r,i,o,s,a){if(!(n.type&3))return;let l=e.data,c=l[a+1],u=dR(c)?B_(l,n,t,i,Ko(c),s):void 0;if(!_u(u)){_u(o)||cR(c)&&(o=B_(l,null,t,i,a,s));let d=yp(Or(),t);TM(r,s,d,i,o)}}function B_(e,n,t,r,i,o){let s=n===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=t[i+1];h===_n&&(h=d?Ht:void 0);let f=d?zc(h,r):u===r?h:void 0;if(c&&!_u(f)&&(f=zc(l,r)),_u(f)&&(a=f,s))return a;let p=e[i+1];i=s?Li(p):Ko(p)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=zc(l,r))}return a}function _u(e){return e!==void 0}function ER(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=tr(_g(e)))),e}function CR(e,n){return(e.flags&(n?8:16))!==0}function C(e,n=""){let t=me(),r=Lt(),i=e+ct,o=r.firstCreatePass?Mu(r,i,1,n,null):r.data[i],s=SR(r,t,o,n,e);t[i]=s,Xc()&&Tg(r,t,s,o),$o(o,!1)}var SR=(e,n,t,r,i)=>(eu(!0),WT(n[Le],r));function IR(e,n,t,r=""){return Oi(e,ma(),t)?n+Po(t)+r:_n}function xR(e,n,t,r,i,o=""){let s=Xb(),a=Qw(e,s,t,i);return Rp(2),a?n+Po(t)+r+Po(i)+o:_n}function Dn(e){return _e("",e),Dn}function _e(e,n,t){let r=me(),i=IR(r,e,n,t);return i!==_n&&u0(r,Or(),i),_e}function Bn(e,n,t,r,i){let o=me(),s=xR(o,e,n,t,r,i);return s!==_n&&u0(o,Or(),s),Bn}function u0(e,n,t){let r=yp(n,e);GT(e[Le],r,t)}function ae(e,n,t){Vg(n)&&(n=n());let r=me(),i=ma();if(Oi(r,i,n)){let o=Lt(),s=Qc();Mw(s,r,e,n,r[Le],t)}return ae}function ue(e,n){let t=Vg(e);return t&&e.set(n),t}function le(e,n){let t=me(),r=Lt(),i=xt();return c0(r,t,t[Le],i,e,n),le}function U_(e,n,t){let r=Lt();r.firstCreatePass&&d0(n,r.data,r.blueprint,Fn(e),t)}function d0(e,n,t,r,i){if(e=at(e),Array.isArray(e))for(let o=0;o<e.length;o++)d0(e[o],n,t,r,i);else{let o=Lt(),s=me(),a=xt(),l=_i(e)?e:at(e.provide),c=hp(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(_i(e)||!e.multi){let f=new ki(c,i,O,null),p=Qp(l,n,i?u:u+h,d);p===-1?(eg(du(a,s),o,l),Zp(o,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{let f=Qp(l,n,u+h,d),p=Qp(l,n,u,u+h),g=f>=0&&t[f],m=p>=0&&t[p];if(i&&!m||!i&&!g){eg(du(a,s),o,l);let y=AR(i?MR:TR,t.length,i,r,c,e);!i&&m&&(t[p].providerFactory=y),Zp(o,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)}else{let y=f0(t[i?p:f],c,!i&&r);Zp(o,e,f>-1?f:p,y)}!i&&r&&m&&t[p].componentProviders++}}}function Zp(e,n,t,r){let i=_i(n),o=Fb(n);if(i||o){let l=(o?at(n.useClass):n).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let u=c.indexOf(t);u===-1?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function f0(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Qp(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function TR(e,n,t,r,i){return pg(this.multi,[])}function MR(e,n,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=fu(r,r[G],this.providerFactory.index,i);s=l.slice(0,a),pg(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],pg(o,s);return s}function pg(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function AR(e,n,t,r,i,o){let s=new ki(e,t,O,null);return s.multi=[],s.index=n,s.componentProviders=0,f0(s,i,r&&!t),s}function En(e,n){return t=>{t.providersResolver=(r,i)=>U_(r,i?i(e):e,!1),n&&(t.viewProvidersResolver=(r,i)=>U_(r,i?i(n):n,!0))}}function RR(e,n){let t=e[n];return t===_n?void 0:t}function kR(e,n,t,r,i,o,s){let a=n+t;return Qw(e,a,i,o)?EA(e,a+2,s?r.call(s,i,o):r(i,o)):RR(e,a+2)}function zg(e,n){let t=Lt(),r,i=e+ct;t.firstCreatePass?(r=NR(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Sr(r.type,!0)),s,a=It(O);try{let l=uu(!1),c=o();return uu(l),bp(t,me(),i,c),c}finally{It(a)}}function NR(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function Wg(e,n,t,r){let i=e+ct,o=me(),s=vp(o,i);return OR(o,i)?kR(o,Qb(),n,s.transform,t,r,s):s.transform(t,r)}function OR(e,n){return e[G].data[n].pure}var wu=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},Gg=(()=>{class e{compileModuleSync(t){return new bu(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=ip(t),o=yw(i.declarations).reduce((s,a)=>{let l=rr(a);return l&&s.push(new Pi(l)),s},[]);return new wu(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var h0=(()=>{class e{applicationErrorHandler=x(gn);appRef=x(Vr);taskService=x(or);ngZone=x(vt);zonelessEnabled=x(ya);tracing=x(sr,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new it;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ra):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(Bp,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Lp:Fp;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ra+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Lp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function p0(){return[{provide:xr,useExisting:h0},{provide:vt,useClass:ia},{provide:ya,useValue:!0}]}function PR(){return typeof $localize<"u"&&$localize.locale||Aa}var ka=new k("",{factory:()=>x(ka,{optional:!0,skipSelf:!0})||PR()});function Zo(e,n){return lc(e,n?.equal)}var w0=Symbol("InputSignalNode#UNSET"),JR=q(M({},cc),{transformFn:void 0,applyValueToInputSignal(e,n){Ks(e,n)}});function D0(e,n){let t=Object.create(JR);t.value=e,t.transformFn=n?.transform;function r(){if(Ws(t),t.value===w0){let i=null;throw new R(-950,i)}return t.value}return r[Ct]=t,r}function g0(e,n){return D0(e,n)}function ZR(e){return D0(w0,e)}var E0=(g0.required=ZR,g0);var qg=new k(""),QR=new k("");function Na(e){return!e.moduleRef}function XR(e){let n=Na(e)?e.r3Injector:e.moduleRef.injector,t=n.get(vt);return t.run(()=>{Na(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(gn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Na(e)){let o=()=>n.destroy(),s=e.platformInjector.get(qg);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(qg);s.add(o),e.moduleRef.onDestroy(()=>{_a(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return tk(r,t,()=>{let o=n.get(or),s=o.add(),a=n.get(Hg);return a.runInitializers(),a.donePromise.then(()=>{let l=n.get(ka,Aa);if(l0(l||Aa),!n.get(QR,!0))return Na(e)?n.get(Vr):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Na(e)){let u=n.get(Vr);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return ek?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var ek;function tk(e,n,t){try{let r=t();return jr(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e(r)),r}}var Fu=null;function nk(e=[],n){return Ot.create({name:n,providers:[{provide:aa,useValue:"platform"},{provide:qg,useValue:new Set([()=>Fu=null])},...e]})}function rk(e=[]){if(Fu)return Fu;let n=nk(e);return Fu=n,o0(),ik(n),n}function ik(e){let n=e.get(Cu,null);et(e,()=>{n?.forEach(t=>t())})}var Ee=(()=>{class e{static __NG_ELEMENT_ID__=ok}return e})();function ok(e){return sk(xt(),me(),(e&16)===16)}function sk(e,n,t){if(Nr(e)&&!t){let r=Xt(e.index,n);return new Fr(r,r)}else if(e.type&175){let r=n[Zt];return new Fr(r,n)}return null}var Kg=class{constructor(){}supports(n){return Fg(n)}create(n){return new Yg(n)}},ak=(e,n)=>n,Yg=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||ak}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<m0(r,i,o)?t:r,a=m0(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){let f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!Fg(n))throw new R(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,Jw(n,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new Jg(t,r),o,i)),n}_verifyReinsertion(n,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){let i=t===null?this._itHead:t._next;return n._next=i,n._prev=t,i===null?this._itTail=n:i._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new Lu),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,r=n._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Lu),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Jg=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},Zg=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let t=n._prevDup,r=n._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Lu=class{map=new Map;put(n){let t=n.trackById,r=this.map.get(t);r||(r=new Zg,this.map.set(t,r)),r.add(n)}get(n,t){let r=n,i=this.map.get(r);return i?i.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function m0(e,n,t){let r=e.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function y0(){return new Qg([new Kg])}var Qg=(()=>{class e{factories;static \u0275prov=N({token:e,providedIn:"root",factory:y0});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:()=>{let r=x(e,{optional:!0,skipSelf:!0});return e.create(t,r||y0())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new R(901,!1)}}return e})();function C0(e){let{rootComponent:n,appProviders:t,platformProviders:r,platformRef:i}=e;ye(se.BootstrapApplicationStart);try{let o=i?.injector??rk(r),s=[p0(),h_,...t||[]],a=new Da({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return XR({r3Injector:a.injector,platformInjector:o,rootComponent:n})}catch(o){return Promise.reject(o)}finally{ye(se.BootstrapApplicationEnd)}}function Oa(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function S0(e){let n=rr(e);if(!n)return null;let t=new Pi(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var I0=null;function en(){return I0}function Xg(e){I0??=e}var Pa=class{},Br=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>x(x0),providedIn:"platform"})}return e})(),em=new k(""),x0=(()=>{class e extends Br{_location;_history;_doc=x(Ne);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return en().getBaseHref(this._doc)}onPopState(t){let r=en().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=en().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function ju(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function T0(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function Sn(e){return e&&e[0]!=="?"?`?${e}`:e}var ar=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>x(Bu),providedIn:"root"})}return e})(),Vu=new k(""),Bu=(()=>{class e extends ar{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(Ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ju(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Sn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Sn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Sn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(j(Br),j(Vu,8))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ur=(()=>{class e{_subject=new Xe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=uk(T0(M0(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Sn(r))}normalize(t){return e.stripTrailingSlash(ck(this._basePath,M0(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Sn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Sn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Sn;static joinWithSlash=ju;static stripTrailingSlash=T0;static \u0275fac=function(r){return new(r||e)(j(ar))};static \u0275prov=N({token:e,factory:()=>lk(),providedIn:"root"})}return e})();function lk(){return new Ur(j(ar))}function ck(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function M0(e){return e.replace(/\/index.html$/,"")}function uk(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var im=(()=>{class e extends ar{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=ju(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Sn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Sn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(j(Br),j(Vu,8))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})();var om=(function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e})(om||{});var Un={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Qo(e,n){let t=Pu(e),r=t[Bi.NumberSymbols][n];if(typeof r>"u"){if(n===Un.CurrencyDecimal)return t[Bi.NumberSymbols][Un.Decimal];if(n===Un.CurrencyGroup)return t[Bi.NumberSymbols][Un.Group]}return r}function O0(e,n){return Pu(e)[Bi.NumberFormats][n]}var dk=/^(\d+)?\.((\d+)(-(\d+))?)?$/,A0=22,Uu=".",Fa="0",fk=";",hk=",",tm="#";function pk(e,n,t,r,i,o,s=!1){let a="",l=!1;if(!isFinite(e))a=Qo(t,Un.Infinity);else{let c=yk(e);s&&(c=mk(c));let u=n.minInt,d=n.minFrac,h=n.maxFrac;if(o){let v=o.match(dk);if(v===null)throw new R(2306,!1);let D=v[1],_=v[3],E=v[5];D!=null&&(u=nm(D)),_!=null&&(d=nm(_)),E!=null?h=nm(E):_!=null&&d>h&&(h=d)}vk(c,d,h);let f=c.digits,p=c.integerLen,g=c.exponent,m=[];for(l=f.every(v=>!v);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);let y=[];for(f.length>=n.lgSize&&y.unshift(f.splice(-n.lgSize,f.length).join(""));f.length>n.gSize;)y.unshift(f.splice(-n.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(Qo(t,r)),m.length&&(a+=Qo(t,i)+m.join("")),g&&(a+=Qo(t,Un.Exponential)+"+"+g)}return e<0&&!l?a=n.negPre+a+n.negSuf:a=n.posPre+a+n.posSuf,a}function P0(e,n,t){let r=O0(n,om.Decimal),i=gk(r,Qo(n,Un.MinusSign));return pk(e,i,n,Un.Group,Un.Decimal,t)}function gk(e,n="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(fk),i=r[0],o=r[1],s=i.indexOf(Uu)!==-1?i.split(Uu):[i.substring(0,i.lastIndexOf(Fa)+1),i.substring(i.lastIndexOf(Fa)+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf(tm));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===Fa?t.minFrac=t.maxFrac=u+1:d===tm?t.maxFrac=u+1:t.posSuf+=d}let c=a.split(hk);if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let u=i.length-t.posPre.length-t.posSuf.length,d=o.indexOf(tm);t.negPre=o.substring(0,d).replace(/'/g,""),t.negSuf=o.slice(d+u).replace(/'/g,"")}else t.negPre=n+t.posPre,t.negSuf=t.posSuf;return t}function mk(e){if(e.digits[0]===0)return e;let n=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(n===0?e.digits.push(0,0):n===1&&e.digits.push(0),e.integerLen+=2),e}function yk(e){let n=Math.abs(e)+"",t=0,r,i,o,s,a;for((i=n.indexOf(Uu))>-1&&(n=n.replace(Uu,"")),(o=n.search(/e/i))>0?(i<0&&(i=o),i+=+n.slice(o+1),n=n.substring(0,o)):i<0&&(i=n.length),o=0;n.charAt(o)===Fa;o++);if(o===(a=n.length))r=[0],i=1;else{for(a--;n.charAt(a)===Fa;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(n.charAt(o))}return i>A0&&(r=r.splice(0,A0-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function vk(e,n,t){if(n>t)throw new R(2307,!1);let r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(n,i),t),s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,c=n+e.integerLen,u=r.reduceRight(function(d,h,f,p){return h=h+d,p[f]=h<10?h:h-10,l&&(p[f]===0&&f>=c?p.pop():l=!1),h>=10?1:0},0);u&&(r.unshift(u),e.integerLen++)}function nm(e){let n=parseInt(e);if(isNaN(n))throw new R(2305,!1);return n}var rm=/\s+/,R0=[],La=(()=>{class e{_ngEl;_renderer;initialClasses=R0;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(rm):R0}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(rm):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(rm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(O(bn),O(Vn))};static \u0275dir=De({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var $u=class{$implicit;ngForOf;index;count;constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},tn=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new $u(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),k0(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);k0(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(O(ji),O(xa),O(Qg))};static \u0275dir=De({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function k0(e,n){e.context.$implicit=n.item}var ut=(()=>{class e{_viewContainer;_context=new Hu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){N0(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){N0(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(O(ji),O(xa))};static \u0275dir=De({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Hu=class{$implicit=null;ngIf=null};function N0(e,n){if(e&&!e.createEmbeddedView)throw new R(2020,!1)}function bk(e,n){return new R(2100,!1)}var sm=(()=>{class e{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!_k(t))return null;i||=this._locale;try{let o=wk(t);return P0(o,i,r)}catch(o){throw bk(e,o.message)}}static \u0275fac=function(r){return new(r||e)(O(ka,16))};static \u0275pipe=Lg({name:"number",type:e,pure:!0})}return e})();function _k(e){return!(e==null||e===""||e!==e)}function wk(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new R(2309,!1);return e}var qe=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=wn({type:e});static \u0275inj=Kt({})}return e})();function ja(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var $i=class{};var F0="browser";var L0=(()=>{class e{static \u0275prov=N({token:e,providedIn:"root",factory:()=>new am(x(Ne),window)})}return e})(),am=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n,t){this.window.scrollTo(q(M({},t),{left:n[0],top:n[1]}))}scrollToAnchor(n,t){let r=Dk(this.document,n);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(n){try{this.window.history.scrollRestoration=n}catch{console.warn(nr(2400,!1))}}scrollToElement(n,t){let r=n.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(q(M({},t),{left:i-s[0],top:o-s[1]}))}};function Dk(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var Va=class{_doc;constructor(n){this._doc=n}manager},zu=(()=>{class e extends Va{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(j(Ne))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),qu=new k(""),dm=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof zu));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof zu);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new R(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(j(qu),j(vt))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),lm="ng-app-id";function j0(e){for(let n of e)n.remove()}function V0(e,n){let t=n.createElement("style");return t.textContent=e,t}function Ek(e,n,t,r){let i=e.head?.querySelectorAll(`style[${lm}="${n}"],link[${lm}="${n}"]`);if(i)for(let o of i)o.removeAttribute(lm),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function um(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var fm=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,Ek(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,V0);r?.forEach(i=>this.addUsage(i,this.external,um))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(j0(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])j0(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,V0(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,um(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(j(Ne),j(Eu),j(Su,8),j(Sa))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),cm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},hm=/%COMP%/g;var U0="%COMP%",Ck=`_nghost-${U0}`,Sk=`_ngcontent-${U0}`,Ik=!0,xk=new k("",{factory:()=>Ik});function Tk(e){return Sk.replace(hm,e)}function Mk(e){return Ck.replace(hm,e)}function $0(e,n){return n.map(t=>t.replace(hm,e))}var pm=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,o,s,a,l=null,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=c,this.defaultRenderer=new Ba(t,s,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Gu?i.applyToHost(t):i instanceof Ua&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.tracingService;switch(r.encapsulation){case vn.Emulated:o=new Gu(l,c,r,this.appId,u,s,a,d);break;case vn.ShadowDom:return new Wu(l,t,r,s,a,this.nonce,d,c);case vn.ExperimentalIsolatedShadowDom:return new Wu(l,t,r,s,a,this.nonce,d);default:o=new Ua(l,c,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(j(dm),j(fm),j(Eu),j(xk),j(Ne),j(vt),j(Su),j(sr,8))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),Ba=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(cm[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(B0(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(B0(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new R(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=cm[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=cm[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(jn.DashCase|jn.Important)?n.style.setProperty(t,r,i&jn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&jn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,i){if(typeof n=="string"&&(n=en().getGlobalEventTarget(this.doc,n),!n))throw new R(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,i)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;n(t)===!1&&t.preventDefault()}}};function B0(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Wu=class extends Ba{hostEl;sharedStylesHost;shadowRoot;constructor(n,t,r,i,o,s,a,l){super(n,i,o,a),this.hostEl=t,this.sharedStylesHost=l,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let c=r.styles;c=$0(r.id,c);for(let d of c){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=d,this.shadowRoot.appendChild(h)}let u=r.getExternalStyles?.();if(u)for(let d of u){let h=um(d,i);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Ua=class extends Ba{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,i,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let c=r.styles;this.styles=l?$0(l,c):c,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&qo.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Gu=class extends Ua{contentAttr;hostAttr;constructor(n,t,r,i,o,s,a,l){let c=i+"-"+r.id;super(n,t,r,o,s,a,l,c),this.contentAttr=Tk(c),this.hostAttr=Mk(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var Ku=class e extends Pa{supportsDOMEvents=!0;static makeCurrent(){Xg(new e)}onAndCancel(n,t,r,i){return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=Ak();return t==null?null:Rk(t)}resetBaseElement(){$a=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return ja(document.cookie,n)}},$a=null;function Ak(){return $a=$a||document.head.querySelector("base"),$a?$a.getAttribute("href"):null}function Rk(e){return new URL(e,document.baseURI).pathname}var kk=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),H0=["alt","control","meta","shift"],Nk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ok={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},z0=(()=>{class e extends Va{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>en().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),H0.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=Nk[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),H0.forEach(s=>{if(s!==i){let a=Ok[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(j(Ne))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})();function gm(e,n,t){let r=M({rootComponent:e,platformRef:t?.platformRef},Pk(n));return C0(r)}function Pk(e){return{appProviders:[...Bk,...e?.providers??[]],platformProviders:Vk}}function Fk(){Ku.makeCurrent()}function Lk(){return new On}function jk(){return yg(document),document}var Vk=[{provide:Sa,useValue:F0},{provide:Cu,useValue:Fk,multi:!0},{provide:Ne,useFactory:jk}];var Bk=[{provide:aa,useValue:"root"},{provide:On,useFactory:Lk},{provide:qu,useClass:zu,multi:!0},{provide:qu,useClass:z0,multi:!0},pm,fm,dm,{provide:Ni,useExisting:pm},{provide:$i,useClass:kk},[]];var Hi=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,t);let i=(n.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(n,t){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(n,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var Ju=class{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}},Zu=class{encodeKey(n){return W0(n)}encodeValue(n){return W0(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function Uk(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var $k=/%(\d[a-f0-9])/gi,Hk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function W0(e){return encodeURIComponent(e).replace($k,(n,t)=>Hk[t]??n)}function Yu(e){return`${e}`}var Hr=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Zu,n.fromString){if(n.fromObject)throw new R(2805,!1);this.map=Uk(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let r=n.fromObject[t],i=Array.isArray(r)?r.map(Yu):[Yu(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(Yu(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf(Yu(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};function zk(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function G0(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function q0(e){return typeof Blob<"u"&&e instanceof Blob}function K0(e){return typeof FormData<"u"&&e instanceof FormData}function Wk(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Y0="Content-Type",J0="Accept",Z0="text/plain",Q0="application/json",Gk=`${Q0}, ${Z0}, */*`,Ha=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,t,r,i){this.url=t,this.method=n.toUpperCase();let o;if(zk(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new R(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new Hi,this.context??=new Ju,!this.params)this.params=new Hr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||G0(this.body)||q0(this.body)||K0(this.body)||Wk(this.body)?this.body:this.body instanceof Hr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||K0(this.body)?null:q0(this.body)?this.body.type||null:G0(this.body)?null:typeof this.body=="string"?Z0:this.body instanceof Hr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Q0:null}clone(n={}){let t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.keepalive??this.keepalive,s=n.priority||this.priority,a=n.cache||this.cache,l=n.mode||this.mode,c=n.redirect||this.redirect,u=n.credentials||this.credentials,d=n.referrer||this.referrer,h=n.integrity||this.integrity,f=n.referrerPolicy||this.referrerPolicy,p=n.transferCache??this.transferCache,g=n.timeout??this.timeout,m=n.body!==void 0?n.body:this.body,y=n.withCredentials??this.withCredentials,v=n.reportProgress??this.reportProgress,D=n.headers||this.headers,_=n.params||this.params,E=n.context??this.context;return n.setHeaders!==void 0&&(D=Object.keys(n.setHeaders).reduce((S,T)=>S.set(T,n.setHeaders[T]),D)),n.setParams&&(_=Object.keys(n.setParams).reduce((S,T)=>S.set(T,n.setParams[T]),_)),new e(t,r,m,{params:_,headers:D,context:E,reportProgress:v,responseType:i,withCredentials:y,transferCache:p,keepalive:o,cache:a,priority:s,timeout:g,mode:l,redirect:c,credentials:u,referrer:d,integrity:h,referrerPolicy:f})}},Xo=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(Xo||{}),es=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(n,t=200,r="OK"){this.headers=n.headers||new Hi,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.redirected=n.redirected,this.responseType=n.responseType,this.ok=this.status>=200&&this.status<300}},Qu=class e extends es{constructor(n={}){super(n)}type=Xo.ResponseHeader;clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Xu=class e extends es{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=Xo.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0,redirected:n.redirected??this.redirected,responseType:n.responseType??this.responseType})}},za=class extends es{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},qk=200,Kk=204;var Yk=new k("");var Jk=/^\)\]\}',?\n/;var ym=(()=>{class e{xhrFactory;tracingService=x(sr,{optional:!0});constructor(t){this.xhrFactory=t}maybePropagateTrace(t){return this.tracingService?.propagate?this.tracingService.propagate(t):t}handle(t){if(t.method==="JSONP")throw new R(-2800,!1);let r=this.xhrFactory;return K(null).pipe($t(()=>new ie(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((m,y)=>s.setRequestHeader(m,y.join(","))),t.headers.has(J0)||s.setRequestHeader(J0,Gk),!t.headers.has(Y0)){let m=t.detectContentTypeHeader();m!==null&&s.setRequestHeader(Y0,m)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let m=t.responseType.toLowerCase();s.responseType=m!=="json"?m:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let m=s.statusText||"OK",y=new Hi(s.getAllResponseHeaders()),v=s.responseURL||t.url;return l=new Qu({headers:y,status:s.status,statusText:m,url:v}),l},u=this.maybePropagateTrace(()=>{let{headers:m,status:y,statusText:v,url:D}=c(),_=null;y!==Kk&&(_=typeof s.response>"u"?s.responseText:s.response),y===0&&(y=_?qk:0);let E=y>=200&&y<300;if(t.responseType==="json"&&typeof _=="string"){let S=_;_=_.replace(Jk,"");try{_=_!==""?JSON.parse(_):null}catch(T){_=S,E&&(E=!1,_={error:T,text:_})}}E?(o.next(new Xu({body:_,headers:m,status:y,statusText:v,url:D||void 0})),o.complete()):o.error(new za({error:_,headers:m,status:y,statusText:v,url:D||void 0}))}),d=this.maybePropagateTrace(m=>{let{url:y}=c(),v=new za({error:m,status:s.status||0,statusText:s.statusText||"Unknown Error",url:y||void 0});o.error(v)}),h=d;t.timeout&&(h=this.maybePropagateTrace(m=>{let{url:y}=c(),v=new za({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:y||void 0});o.error(v)}));let f=!1,p=this.maybePropagateTrace(m=>{f||(o.next(c()),f=!0);let y={type:Xo.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),t.responseType==="text"&&s.responseText&&(y.partialText=s.responseText),o.next(y)}),g=this.maybePropagateTrace(m=>{let y={type:Xo.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),o.next(y)});return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",h),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),o.next({type:Xo.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",h),t.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(j($i))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Zk(e,n){return n(e)}function Qk(e,n,t){return(r,i)=>et(t,()=>n(r,o=>e(o,i)))}var X0=new k("",{factory:()=>[]}),Xk=new k(""),eD=new k("",{factory:()=>!0});var vm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=j(ym),i},providedIn:"root"})}return e})();var ed=(()=>{class e{backend;injector;chain=null;pendingTasks=x(nu);contributeToStability=x(eD);constructor(t,r){this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(X0),...this.injector.get(Xk,[])]));this.chain=r.reduceRight((i,o)=>Qk(i,o,this.injector),Zk)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Qs(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(j(vm),j(Fe))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),bm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=j(ed),i},providedIn:"root"})}return e})();function mm(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var eN=(()=>{class e{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ha)o=t;else{let l;i.headers instanceof Hi?l=i.headers:l=new Hi(i.headers);let c;i.params&&(i.params instanceof Hr?c=i.params:c=new Hr({fromObject:i.params})),o=new Ha(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let s=K(o).pipe(Cr(l=>this.handler.handle(l)));if(t instanceof Ha||i.observe==="events")return s;let a=s.pipe(Nt(l=>l instanceof Xu));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(de(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new R(2806,!1);return l.body}));case"blob":return a.pipe(de(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new R(2807,!1);return l.body}));case"text":return a.pipe(de(l=>{if(l.body!==null&&typeof l.body!="string")throw new R(2808,!1);return l.body}));case"json":default:return a.pipe(de(l=>l.body))}case"response":return a;default:throw new R(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Hr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,mm(i,r))}post(t,r,i={}){return this.request("POST",t,mm(i,r))}put(t,r,i={}){return this.request("PUT",t,mm(i,r))}static \u0275fac=function(r){return new(r||e)(j(bm))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var tN=new k("",{factory:()=>!0}),nN="XSRF-TOKEN",rN=new k("",{factory:()=>nN}),iN="X-XSRF-TOKEN",oN=new k("",{providedIn:"root",factory:()=>iN}),sN=(()=>{class e{cookieName=x(rN);doc=x(Ne);lastCookieString="";lastToken=null;parseCount=0;getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ja(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tD=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=j(sN),i},providedIn:"root"})}return e})();function aN(e,n){if(!x(tN)||e.method==="GET"||e.method==="HEAD")return n(e);try{let i=x(Br).href,{origin:o}=new URL(i),{origin:s}=new URL(e.url,o);if(o!==s)return n(e)}catch{return n(e)}let t=x(tD).getToken(),r=x(oN);return t!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,t)})),n(e)}function _m(...e){let n=[eN,ed,{provide:bm,useExisting:ed},{provide:vm,useFactory:()=>x(Yk,{optional:!0})??x(ym)},{provide:X0,useValue:aN,multi:!0}];for(let t of e)n.push(...t.\u0275providers);return Mr(n)}var nD=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(j(Ne))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var z="primary",tl=Symbol("RouteTitle"),Sm=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function qi(e){return new Sm(e)}function dD(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function sd(e){return new Promise((n,t)=>{e.pipe(Xn()).subscribe({next:r=>n(r),error:r=>t(r)})})}function cN(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!$n(e[t],n[t]))return!1;return!0}function $n(e,n){let t=e?Im(e):void 0,r=n?Im(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!fD(e[i],n[i]))return!1;return!0}function Im(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function fD(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function hD(e){return e.length>0?e[e.length-1]:null}function Ki(e){return Mc(e)?e:jr(e)?ke(Promise.resolve(e)):K(e)}function pD(e){return Mc(e)?sd(e):Promise.resolve(e)}var uN={exact:mD,subset:yD},gD={exact:dN,subset:fN,ignored:()=>!0};function rD(e,n,t){return uN[t.paths](e.root,n.root,t.matrixParams)&&gD[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function dN(e,n){return $n(e,n)}function mD(e,n,t){if(!Wi(e.segments,n.segments)||!rd(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!mD(e.children[r],n.children[r],t))return!1;return!0}function fN(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>fD(e[t],n[t]))}function yD(e,n,t){return vD(e,n,n.segments,t)}function vD(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!Wi(i,t)||n.hasChildren()||!rd(i,t,r))}else if(e.segments.length===t.length){if(!Wi(e.segments,t)||!rd(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!yD(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Wi(e.segments,i)||!rd(e.segments,i,r)||!e.children[z]?!1:vD(e.children[z],n,o,r)}}function rd(e,n,t){return n.every((r,i)=>gD[t](e[i].parameters,r.parameters))}var xn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new fe([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=qi(this.queryParams),this._queryParamMap}toString(){return gN.serialize(this)}},fe=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return id(this)}},zr=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=qi(this.parameters),this._parameterMap}toString(){return _D(this)}};function hN(e,n){return Wi(e,n)&&e.every((t,r)=>$n(t.parameters,n[r].parameters))}function Wi(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function pN(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===z&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==z&&(t=t.concat(n(i,r)))}),t}var Yi=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>new lr,providedIn:"root"})}return e})(),lr=class{parse(n){let t=new Tm(n);return new xn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${Wa(n.root,!0)}`,r=vN(n.queryParams),i=typeof n.fragment=="string"?`#${mN(n.fragment)}`:"";return`${t}${r}${i}`}},gN=new lr;function id(e){return e.segments.map(n=>_D(n)).join("/")}function Wa(e,n){if(!e.hasChildren())return id(e);if(n){let t=e.children[z]?Wa(e.children[z],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==z&&r.push(`${i}:${Wa(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=pN(e,(r,i)=>i===z?[Wa(e.children[z],!1)]:[`${i}:${Wa(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[z]!=null?`${id(e)}/${t[0]}`:`${id(e)}/(${t.join("//")})`}}function bD(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function td(e){return bD(e).replace(/%3B/gi,";")}function mN(e){return encodeURI(e)}function xm(e){return bD(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function od(e){return decodeURIComponent(e)}function iD(e){return od(e.replace(/\+/g,"%20"))}function _D(e){return`${xm(e.path)}${yN(e.parameters)}`}function yN(e){return Object.entries(e).map(([n,t])=>`;${xm(n)}=${xm(t)}`).join("")}function vN(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${td(t)}=${td(i)}`).join("&"):`${td(t)}=${td(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var bN=/^[^\/()?;#]+/;function wm(e){let n=e.match(bN);return n?n[0]:""}var _N=/^[^\/()?;=#]+/;function wN(e){let n=e.match(_N);return n?n[0]:""}var DN=/^[^=?&#]+/;function EN(e){let n=e.match(DN);return n?n[0]:""}var CN=/^[^&#]+/;function SN(e){let n=e.match(CN);return n?n[0]:""}var Tm=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[z]=new fe(n,t)),r}parseSegment(){let n=wm(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(n),new zr(od(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=wN(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=wm(this.remaining);i&&(r=i,this.capture(r))}n[od(t)]=od(r)}parseQueryParam(n){let t=EN(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=SN(this.remaining);s&&(r=s,this.capture(r))}let i=iD(t),o=iD(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=wm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new R(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=z);let s=this.parseChildren();t[o??z]=Object.keys(s).length===1&&s[z]?s[z]:new fe([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new R(4011,!1)}};function wD(e){return e.segments.length>0?new fe([],{[z]:e}):e}function DD(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=DD(i);if(r===z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new fe(e.segments,n);return IN(t)}function IN(e){if(e.numberOfChildren===1&&e.children[z]){let n=e.children[z];return new fe(e.segments.concat(n.segments),n.children)}return e}function os(e){return e instanceof xn}function ED(e,n,t=null,r=null,i=new lr){let o=CD(e);return SD(o,n,t,r,i)}function CD(e){let n;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new fe(o.url,s);return o===e&&(n=a),a}let r=t(e.root),i=wD(r);return n??i}function SD(e,n,t,r,i){let o=e;for(;o.parent;)o=o.parent;if(n.length===0)return Dm(o,o,o,t,r,i);let s=xN(n);if(s.toRoot())return Dm(o,o,new fe([],{}),t,r,i);let a=TN(s,o,e),l=a.processChildren?qa(a.segmentGroup,a.index,s.commands):xD(a.segmentGroup,a.index,s.commands);return Dm(o,a.segmentGroup,l,t,r,i)}function ad(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Ya(e){return typeof e=="object"&&e!=null&&e.outlets}function oD(e,n,t){e||="\u0275";let r=new xn;return r.queryParams={[e]:n},t.parse(t.serialize(r)).queryParams[e]}function Dm(e,n,t,r,i,o){let s={};for(let[c,u]of Object.entries(r??{}))s[c]=Array.isArray(u)?u.map(d=>oD(c,d,o)):oD(c,u,o);let a;e===n?a=t:a=ID(e,n,t);let l=wD(DD(a));return new xn(l,s,i)}function ID(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=ID(o,n,t)}),new fe(e.segments,r)}var ld=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&ad(r[0]))throw new R(4003,!1);let i=r.find(Ya);if(i&&i!==hD(r))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function xN(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ld(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ld(t,n,r)}var ns=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function TN(e,n,t){if(e.isAbsolute)return new ns(n,!0,0);if(!t)return new ns(n,!1,NaN);if(t.parent===null)return new ns(t,!0,0);let r=ad(e.commands[0])?0:1,i=t.segments.length-1+r;return MN(t,i,e.numberOfDoubleDots)}function MN(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new R(4005,!1);i=r.segments.length}return new ns(r,!1,i-o)}function AN(e){return Ya(e[0])?e[0].outlets:{[z]:e}}function xD(e,n,t){if(e??=new fe([],{}),e.segments.length===0&&e.hasChildren())return qa(e,n,t);let r=RN(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new fe(e.segments.slice(0,r.pathIndex),{});return o.children[z]=new fe(e.segments.slice(r.pathIndex),e.children),qa(o,0,i)}else return r.match&&i.length===0?new fe(e.segments,{}):r.match&&!e.hasChildren()?Mm(e,n,t):r.match?qa(e,0,i):Mm(e,n,t)}function qa(e,n,t){if(t.length===0)return new fe(e.segments,{});{let r=AN(t),i={};if(Object.keys(r).some(o=>o!==z)&&e.children[z]&&e.numberOfChildren===1&&e.children[z].segments.length===0){let o=qa(e.children[z],n,t);return new fe(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=xD(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new fe(e.segments,i)}}function RN(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let s=e.segments[i],a=t[r];if(Ya(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!aD(l,c,s))return o;r+=2}else{if(!aD(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Mm(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if(Ya(o)){let l=kN(o.outlets);return new fe(r,l)}if(i===0&&ad(t[0])){let l=e.segments[n];r.push(new zr(l.path,sD(t[0]))),i++;continue}let s=Ya(o)?o.outlets[z]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&ad(a)?(r.push(new zr(s,sD(a))),i+=2):(r.push(new zr(s,{})),i++)}return new fe(r,{})}function kN(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=Mm(new fe([],{}),0,r))}),n}function sD(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function aD(e,n,t){return e==t.path&&$n(n,t.parameters)}var rs="imperative",Ye=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(Ye||{}),qt=class{id;url;constructor(n,t){this.id=n,this.url=t}},Wr=class extends qt{type=Ye.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Tn=class extends qt{urlAfterRedirects;type=Ye.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},At=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(At||{}),ss=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(ss||{}),Hn=class extends qt{reason;code;type=Ye.NavigationCancel;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},zn=class extends qt{reason;code;type=Ye.NavigationSkipped;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}},as=class extends qt{error;target;type=Ye.NavigationError;constructor(n,t,r,i){super(n,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ja=class extends qt{urlAfterRedirects;state;type=Ye.RoutesRecognized;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cd=class extends qt{urlAfterRedirects;state;type=Ye.GuardsCheckStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ud=class extends qt{urlAfterRedirects;state;shouldActivate;type=Ye.GuardsCheckEnd;constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},dd=class extends qt{urlAfterRedirects;state;type=Ye.ResolveStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fd=class extends qt{urlAfterRedirects;state;type=Ye.ResolveEnd;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hd=class{route;type=Ye.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pd=class{route;type=Ye.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},gd=class{snapshot;type=Ye.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},md=class{snapshot;type=Ye.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yd=class{snapshot;type=Ye.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vd=class{snapshot;type=Ye.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ls=class{routerEvent;position;anchor;type=Ye.Scroll;constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Za=class{},cs=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function NN(e){return!(e instanceof Za)&&!(e instanceof cs)}function ON(e,n){return e.providers&&!e._injector&&(e._injector=Jo(e.providers,n,`Route: ${e.path}`)),e._injector??n}function In(e){return e.outlet||z}function PN(e,n){let t=e.filter(r=>In(r)===n);return t.push(...e.filter(r=>In(r)!==n)),t}function fs(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var bd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return fs(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Ji(this.rootInjector)}},Ji=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new bd(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(j(Fe))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_d=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=Am(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=Am(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=Rm(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Rm(n,this._root).map(t=>t.value)}};function Am(e,n){if(e===n.value)return n;for(let t of n.children){let r=Am(e,t);if(r)return r}return null}function Rm(e,n){if(e===n.value)return[n];for(let t of n.children){let r=Rm(e,t);if(r.length)return r.unshift(n),r}return[]}var Gt=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function ts(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var Qa=class extends _d{snapshot;constructor(n,t){super(n),this.snapshot=t,Lm(this,n)}toString(){return this.snapshot.toString()}};function TD(e){let n=FN(e),t=new ot([new zr("",{})]),r=new ot({}),i=new ot({}),o=new ot({}),s=new ot(""),a=new cr(t,r,o,s,i,z,e,n.root);return a.snapshot=n.root,new Qa(new Gt(a,[]),n)}function FN(e){let n={},t={},r={},o=new Gi([],n,r,"",t,z,e,null,{});return new Xa("",new Gt(o,[]))}var cr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(de(c=>c[tl]))??K(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(n=>qi(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(n=>qi(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wd(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:M(M({},n.params),e.params),data:M(M({},n.data),e.data),resolve:M(M(M(M({},e.data),n.data),i?.data),e._resolvedData)}:r={params:M({},e.params),data:M({},e.data),resolve:M(M({},e.data),e._resolvedData??{})},i&&AD(i)&&(r.resolve[tl]=i.title),r}var Gi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[tl]}constructor(n,t,r,i,o,s,a,l,c){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=qi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=qi(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Xa=class extends _d{url;constructor(n,t){super(t),this.url=n,Lm(this,t)}toString(){return MD(this._root)}};function Lm(e,n){n.value._routerState=e,n.children.forEach(t=>Lm(e,t))}function MD(e){let n=e.children.length>0?` { ${e.children.map(MD).join(", ")} } `:"";return`${e.value}${n}`}function Em(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,$n(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),$n(n.params,t.params)||e.paramsSubject.next(t.params),cN(n.url,t.url)||e.urlSubject.next(t.url),$n(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function km(e,n){let t=$n(e.params,n.params)&&hN(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||km(e.parent,n.parent))}function AD(e){return typeof e.title=="string"||e.title===null}var RD=new k(""),nl=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=z;activateEvents=new Ge;deactivateEvents=new Ge;attachEvents=new Ge;detachEvents=new Ge;routerOutletData=E0();parentContexts=x(Ji);location=x(ji);changeDetector=x(Ee);inputBinder=x(rl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Nm(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=De({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Lr]})}return e})(),Nm=class{route;childContexts;parent;outletData;constructor(n,t,r,i){this.route=n,this.childContexts=t,this.parent=r,this.outletData=i}get(n,t){return n===cr?this.route:n===Ji?this.childContexts:n===RD?this.outletData:this.parent.get(n,t)}},rl=new k(""),jm=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Nc([r.queryParams,r.params,r.data]).pipe($t(([o,s,a],l)=>(a=M(M(M({},o),s),a),l===0?K(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=S0(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})(),Vm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=xe({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&$e(0,"router-outlet")},dependencies:[nl],encapsulation:2})}return e})();function Bm(e){let n=e.children&&e.children.map(Bm),t=n?q(M({},e),{children:n}):M({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==z&&(t.component=Vm),t}function LN(e,n,t){let r=el(e,n._root,t?t._root:void 0);return new Qa(r,n)}function el(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=jN(e,n,t);return new Gt(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>el(e,a)),s}}let r=VN(n.value),i=n.children.map(o=>el(e,o));return new Gt(r,i)}}function jN(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return el(e,r,i);return el(e,r)})}function VN(e){return new cr(new ot(e.url),new ot(e.params),new ot(e.queryParams),new ot(e.fragment),new ot(e.data),e.outlet,e.component,e)}var us=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},kD="ngNavigationCancelingError";function Dd(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=os(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=ND(!1,At.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function ND(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[kD]=!0,t.cancellationCode=n,t}function BN(e){return OD(e)&&os(e.url)}function OD(e){return!!e&&e[kD]}var UN=(e,n,t,r)=>de(i=>(new Om(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),Om=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Em(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=ts(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=ts(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=ts(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=ts(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new vd(o.value.snapshot))}),n.children.length&&this.forwardEvent(new md(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(Em(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Em(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Ed=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},is=class{component;route;constructor(n,t){this.component=n,this.route=t}};function $N(e,n,t){let r=e._root,i=n?n._root:null;return Ga(r,i,t,[r.value])}function HN(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function hs(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!Qh(e)?e:n.get(e):r}function Ga(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ts(n);return e.children.forEach(s=>{zN(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ka(a,t.getContext(s),i)),i}function zN(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=WN(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Ed(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ga(e,n,a?a.children:null,r,i):Ga(e,n,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new is(a.outlet.component,s))}else s&&Ka(n,a,i),i.canActivateChecks.push(new Ed(r)),o.component?Ga(e,null,a?a.children:null,r,i):Ga(e,null,t,r,i);return i}function WN(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Wi(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Wi(e.url,n.url)||!$n(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!km(e,n)||!$n(e.queryParams,n.queryParams);case"paramsChange":default:return!km(e,n)}}function Ka(e,n,t){let r=ts(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?n?Ka(s,n.children.getContext(o),t):Ka(s,null,t):Ka(s,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new is(n.outlet.component,i)):t.canDeactivateChecks.push(new is(null,i)):t.canDeactivateChecks.push(new is(null,i))}function il(e){return typeof e=="function"}function GN(e){return typeof e=="boolean"}function qN(e){return e&&il(e.canLoad)}function KN(e){return e&&il(e.canActivate)}function YN(e){return e&&il(e.canActivateChild)}function JN(e){return e&&il(e.canDeactivate)}function ZN(e){return e&&il(e.canMatch)}function PD(e){return e instanceof yi||e?.name==="EmptyError"}var nd=Symbol("INITIAL_VALUE");function ds(){return $t(e=>Nc(e.map(n=>n.pipe(Qn(1),Nh(nd)))).pipe(de(n=>{for(let t of n)if(t!==!0){if(t===nd)return nd;if(t===!1||QN(t))return t}return!0}),Nt(n=>n!==nd),Qn(1)))}function QN(e){return os(e)||e instanceof us}function FD(e){return e.aborted?K(void 0).pipe(Qn(1)):new ie(n=>{let t=()=>{n.next(),n.complete()};return e.addEventListener("abort",t),()=>e.removeEventListener("abort",t)})}function LD(e){return Xs(FD(e))}function XN(e,n){return st(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?K(q(M({},t),{guardsResult:!0})):eO(s,r,i,e).pipe(st(a=>a&&GN(a)?tO(r,o,e,n):K(a)),de(a=>q(M({},t),{guardsResult:a})))})}function eO(e,n,t,r){return ke(e).pipe(st(i=>sO(i.component,i.route,t,n,r)),Xn(i=>i!==!0,!0))}function tO(e,n,t,r){return ke(n).pipe(Cr(i=>Ro(rO(i.route.parent,r),nO(i.route,r),oO(e,i.path,t),iO(e,i.route,t))),Xn(i=>i!==!0,!0))}function nO(e,n){return e!==null&&n&&n(new yd(e)),K(!0)}function rO(e,n){return e!==null&&n&&n(new gd(e)),K(!0)}function iO(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(o=>Zs(()=>{let s=fs(n)??t,a=hs(o,s),l=KN(a)?a.canActivate(n,e):et(s,()=>a(n,e));return Ki(l).pipe(Xn())}));return K(i).pipe(ds())}function oO(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>HN(s)).filter(s=>s!==null).map(s=>Zs(()=>{let a=s.guards.map(l=>{let c=fs(s.node)??t,u=hs(l,c),d=YN(u)?u.canActivateChild(r,e):et(c,()=>u(r,e));return Ki(d).pipe(Xn())});return K(a).pipe(ds())}));return K(o).pipe(ds())}function sO(e,n,t,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let l=fs(n)??i,c=hs(a,l),u=JN(c)?c.canDeactivate(e,n,t,r):et(l,()=>c(e,n,t,r));return Ki(u).pipe(Xn())});return K(s).pipe(ds())}function aO(e,n,t,r,i){let o=n.canLoad;if(o===void 0||o.length===0)return K(!0);let s=o.map(a=>{let l=hs(a,e),c=qN(l)?l.canLoad(n,t):et(e,()=>l(n,t)),u=Ki(c);return i?u.pipe(LD(i)):u});return K(s).pipe(ds(),jD(r))}function jD(e){return xh(St(n=>{if(typeof n!="boolean")throw Dd(e,n)}),de(n=>n===!0))}function lO(e,n,t,r,i){let o=n.canMatch;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let l=hs(a,e),c=ZN(l)?l.canMatch(n,t):et(e,()=>l(n,t)),u=Ki(c);return i?u.pipe(LD(i)):u});return K(s).pipe(ds(),jD(r))}var zi=class VD extends Error{segmentGroup;constructor(n){super(),this.segmentGroup=n||null,Object.setPrototypeOf(this,VD.prototype)}},Pm=class BD extends Error{urlTree;constructor(n){super(),this.urlTree=n,Object.setPrototypeOf(this,BD.prototype)}};function cO(e){throw new R(4e3,!1)}function uO(e){throw ND(!1,At.GuardRejected)}var dO=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}async lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[z])throw cO(`${n.redirectTo}`);i=i.children[z]}}async applyRedirectCommands(n,t,r,i,o){let s=await fO(t,i,o);if(s instanceof xn)throw new Pm(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),n,r);if(s[0]==="/")throw new Pm(a);return a}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new xn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new fe(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new R(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}};function fO(e,n,t){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:u,title:d}=n;return sd(Ki(et(t,()=>r({params:c,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:d}))))}var Fm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hO(e,n,t,r,i,o){let s=UD(e,n,t);return s.matched?(r=ON(n,r),lO(r,n,t,i,o).pipe(de(a=>a===!0?s:M({},Fm)))):K(s)}function UD(e,n,t){if(n.path==="**")return pO(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?M({},Fm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||dD)(t,e,n);if(!i)return M({},Fm);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?M(M({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function pO(e){return{matched:!0,parameters:e.length>0?hD(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function lD(e,n,t,r){return t.length>0&&yO(e,t,r)?{segmentGroup:new fe(n,mO(r,new fe(t,e.children))),slicedSegments:[]}:t.length===0&&vO(e,t,r)?{segmentGroup:new fe(e.segments,gO(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new fe(e.segments,e.children),slicedSegments:t}}function gO(e,n,t,r){let i={};for(let o of t)if(Sd(e,n,o)&&!r[In(o)]){let s=new fe([],{});i[In(o)]=s}return M(M({},r),i)}function mO(e,n){let t={};t[z]=n;for(let r of e)if(r.path===""&&In(r)!==z){let i=new fe([],{});t[In(r)]=i}return t}function yO(e,n,t){return t.some(r=>Sd(e,n,r)&&In(r)!==z)}function vO(e,n,t){return t.some(r=>Sd(e,n,r))}function Sd(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function bO(e,n,t){return n.length===0&&!e.children[t]}var _O=class{};async function wO(e,n,t,r,i,o,s="emptyOnly",a){return new EO(e,n,t,r,i,s,o,a).recognize()}var DO=31,EO=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,i,o,s,a,l){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=l,this.applyRedirects=new dO(this.urlSerializer,this.urlTree)}noMatchError(n){return new R(4002,`'${n.segmentGroup}'`)}async recognize(){let n=lD(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(n),i=new Gt(r,t),o=new Xa("",i),s=ED(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(n){let t=new Gi([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),z,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,n,z,t),rootSnapshot:t}}catch(r){if(r instanceof Pm)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof zi?this.noMatchError(r):r}}async processSegmentGroup(n,t,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(n,t,r,o);let s=await this.processSegment(n,t,r,r.segments,i,!0,o);return s instanceof Gt?[s]:[]}async processChildren(n,t,r,i){let o=[];for(let l of Object.keys(r.children))l==="primary"?o.unshift(l):o.push(l);let s=[];for(let l of o){let c=r.children[l],u=PN(t,l),d=await this.processSegmentGroup(n,u,c,l,i);s.push(...d)}let a=$D(s);return CO(a),a}async processSegment(n,t,r,i,o,s,a){for(let l of t)try{return await this.processSegmentAgainstRoute(l._injector??n,t,l,r,i,o,s,a)}catch(c){if(c instanceof zi||PD(c))continue;throw c}if(bO(r,i,o))return new _O;throw new zi(r)}async processSegmentAgainstRoute(n,t,r,i,o,s,a,l){if(In(r)!==s&&(s===z||!Sd(i,o,r)))throw new zi(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(n,i,r,o,s,l);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s,l);throw new zi(i)}async expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=UD(t,i,o);if(!l)throw new zi(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>DO&&(this.allowRedirects=!1));let f=new Gi(o,c,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,cD(i),In(i),i.component??i._loadedComponent??null,i,uD(i)),p=wd(f,a,this.paramsInheritanceStrategy);if(f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let g=await this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,n),m=await this.applyRedirects.lineralizeSegments(i,g);return this.processSegment(n,r,t,m.concat(h),s,!1,a)}async matchSegmentAgainstRoute(n,t,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await sd(hO(t,r,i,n,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new zi(t);n=r._injector??n;let{routes:l}=await this.getChildConfig(n,r,i),c=r._loadedInjector??n,{parameters:u,consumedSegments:d,remainingSegments:h}=a,f=new Gi(d,u,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,cD(r),In(r),r.component??r._loadedComponent??null,r,uD(r)),p=wd(f,s,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let{segmentGroup:g,slicedSegments:m}=lD(t,d,h,l);if(m.length===0&&g.hasChildren()){let D=await this.processChildren(c,l,g,f);return new Gt(f,D)}if(l.length===0&&m.length===0)return new Gt(f,[]);let y=In(r)===o,v=await this.processSegment(c,l,g,m,y?z:o,!0,f);return new Gt(f,v instanceof Gt?[v]:[])}async getChildConfig(n,t,r){if(t.children)return{routes:t.children,injector:n};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await sd(aO(n,t,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(n,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,o}throw uO(t)}return{routes:[],injector:n}}};function CO(e){e.sort((n,t)=>n.value.outlet===z?-1:t.value.outlet===z?1:n.value.outlet.localeCompare(t.value.outlet))}function SO(e){let n=e.value.routeConfig;return n&&n.path===""}function $D(e){let n=[],t=new Set;for(let r of e){if(!SO(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=$D(r.children);n.push(new Gt(r.value,i))}return n.filter(r=>!t.has(r))}function cD(e){return e.data||{}}function uD(e){return e.resolve||{}}var IO=new k("",{factory:()=>wO});function xO(e,n,t,r,i,o,s){let a=e.get(IO);return st(l=>K(l).pipe($t(c=>a(e,n,t,r,c.extractedUrl,i,o,s)),de(({state:c,tree:u})=>q(M({},l),{targetSnapshot:c,urlAfterRedirects:u}))))}function TO(e,n){return st(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return K(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of HD(l))s.add(c);let a=0;return ke(s).pipe(Cr(l=>o.has(l)?MO(l,r,e,n):(l.data=wd(l,l.parent,e).resolve,K(void 0))),St(()=>a++),Oc(1),st(l=>a===s.size?K(t):Rt))})}function HD(e){let n=e.children.map(t=>HD(t)).flat();return[e,...n]}function MO(e,n,t,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!AD(i)&&(o[tl]=i.title),Zs(()=>(e.data=wd(e,e.parent,t).resolve,AO(o,e,n,r).pipe(de(s=>(e._resolvedData=s,e.data=M(M({},e.data),s),null)))))}function AO(e,n,t,r){let i=Im(e);if(i.length===0)return K({});let o={};return ke(i).pipe(st(s=>RO(e[s],n,t,r).pipe(Xn(),St(a=>{if(a instanceof us)throw Dd(new lr,a);o[s]=a}))),Oc(1),de(()=>o),ko(s=>PD(s)?Rt:Ah(s)))}function RO(e,n,t,r){let i=fs(n)??r,o=hs(e,i),s=o.resolve?o.resolve(n,t):et(i,()=>o(n,t));return Ki(s)}function Cm(e){return $t(n=>{let t=e(n);return t?ke(t).pipe(de(()=>n)):K(n)})}var Um=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===z);return r}getResolvedTitleForRoute(t){return t.data[tl]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>x(zD),providedIn:"root"})}return e})(),zD=(()=>{class e extends Um{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(j(nD))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Zi=new k("",{factory:()=>({})}),Qi=new k(""),Id=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(Gg);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await pD(et(t,()=>r.loadComponent())),s=await qD(GD(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await WD(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();async function WD(e,n,t,r){let i=await pD(et(t,()=>e.loadChildren())),o=await qD(GD(i)),s;o instanceof Ru||Array.isArray(o)?s=o:s=await n.compileModuleAsync(o),r&&r(e);let a,l,c=!1;return Array.isArray(s)?(l=s,c=!0):(a=s.create(t).injector,l=a.get(Qi,[],{optional:!0,self:!0}).flat()),{routes:l.map(Bm),injector:a}}function kO(e){return e&&typeof e=="object"&&"default"in e}function GD(e){return kO(e)?e.default:e}async function qD(e){return e}var xd=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>x(NO),providedIn:"root"})}return e})(),NO=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$m=new k(""),Hm=new k("");function KD(e,n,t){let r=e.get(Hm),i=e.get(Ne);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),OO(e)));a.updateCallbackDone.catch(c=>{}),a.ready.catch(c=>{}),a.finished.catch(c=>{});let{onViewTransitionCreated:l}=r;return l&&et(e,()=>l({transition:a,from:n,to:t})),s}function OO(e){return new Promise(n=>{Ia({read:()=>setTimeout(n)},{injector:e})})}var PO=()=>{},zm=new k(""),Td=(()=>{class e{currentNavigation=mn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=mn(null);events=new Xe;transitionAbortWithErrorSubject=new Xe;configLoader=x(Id);environmentInjector=x(Fe);destroyRef=x(pn);urlSerializer=x(Yi);rootContexts=x(Ji);location=x(Ur);inputBindingEnabled=x(rl,{optional:!0})!==null;titleStrategy=x(Um);options=x(Zi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(xd);createViewTransition=x($m,{optional:!0});navigationErrorHandler=x(zm,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>K(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new hd(i)),r=i=>this.events.next(new pd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;tt(()=>{this.transitions?.next(q(M({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new ot(null),this.transitions.pipe(Nt(r=>r!==null),$t(r=>{let i=!1,o=new AbortController;return K(r).pipe($t(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",At.SupersededByNewNavigation),Rt;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?q(M({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&c!=="reload")return this.events.next(new zn(s.id,this.urlSerializer.serialize(s.rawUrl),"",ss.IgnoredSameUrlNavigation)),s.resolve(!1),Rt;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return K(s).pipe($t(u=>(this.events.next(new Wr(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Rt:Promise.resolve(u))),xO(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),St(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let d=new Ja(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:d,source:h,restoredState:f,extras:p}=s,g=new Wr(u,this.urlSerializer.serialize(d),h,f);this.events.next(g);let m=TD(this.rootComponentType).snapshot;return this.currentTransition=r=q(M({},s),{targetSnapshot:m,urlAfterRedirects:d,extras:q(M({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(y=>(y.finalUrl=d,y)),K(r)}else return this.events.next(new zn(s.id,this.urlSerializer.serialize(s.extractedUrl),"",ss.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Rt}),St(s=>{let a=new cd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),de(s=>(this.currentTransition=r=q(M({},s),{guards:$N(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),XN(this.environmentInjector,s=>this.events.next(s)),St(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Dd(this.urlSerializer,s.guardsResult);let a=new ud(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Nt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",At.GuardRejected),!1)),Cm(s=>{if(s.guards.canActivateChecks.length!==0)return K(s).pipe(St(a=>{let l=new dd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),$t(a=>{let l=!1;return K(a).pipe(TO(this.paramsInheritanceStrategy,this.environmentInjector),St({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",At.NoDataFromResolver)}}))}),St(a=>{let l=new fd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Cm(s=>{let a=c=>{let u=[];if(c.routeConfig?._loadedComponent)c.component=c.routeConfig?._loadedComponent;else if(c.routeConfig?.loadComponent){let d=fs(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(d,c.routeConfig).then(h=>{c.component=h}))}for(let d of c.children)u.push(...a(d));return u},l=a(s.targetSnapshot.root);return l.length===0?K(s):ke(Promise.all(l).then(()=>s))}),Cm(()=>this.afterPreactivation()),$t(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?ke(l).pipe(de(()=>r)):K(r)}),de(s=>{let a=LN(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=q(M({},s),{targetRouterState:a}),this.currentNavigation.update(l=>(l.targetRouterState=a,l)),r}),St(()=>{this.events.next(new Za)}),UN(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Qn(1),Xs(FD(o.signal).pipe(Nt(()=>!i&&!r.targetRouterState),St(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",At.Aborted)}))),St({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=PO,a)),this.lastSuccessfulNavigation.set(tt(this.currentNavigation)),this.events.next(new Tn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Xs(this.transitionAbortWithErrorSubject.pipe(St(s=>{throw s}))),Qs(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",At.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),ko(s=>{if(this.destroyed)return r.resolve(!1),Rt;if(i=!0,OD(s))this.events.next(new Hn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),BN(s)?this.events.next(new cs(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new as(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=et(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof us){let{message:c,cancellationCode:u}=Dd(this.urlSerializer,l);this.events.next(new Hn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new cs(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Rt}))}))}cancelNavigationTransition(t,r,i){let o=new Hn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=tt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function FO(e){return e!==rs}var YD=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>x(LO),providedIn:"root"})}return e})(),Cd=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},LO=(()=>{class e extends Cd{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wt(e)))(i||e)}})();static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Wm=(()=>{class e{urlSerializer=x(Yi);options=x(Zi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(Ur);urlHandlingStrategy=x(xd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new xn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof xn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=TD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:()=>x(JD),providedIn:"root"})}return e})(),JD=(()=>{class e extends Wm{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Wr?this.updateStateMemento():t instanceof zn?this.commitTransition(r):t instanceof Ja?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Za?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Hn&&t.code!==At.SupersededByNewNavigation&&t.code!==At.Redirect?this.restoreHistory(r):t instanceof as?this.restoreHistory(r,!0):t instanceof Tn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=M(M({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=M(M({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wt(e)))(i||e)}})();static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Md(e,n){e.events.pipe(Nt(t=>t instanceof Tn||t instanceof Hn||t instanceof as||t instanceof zn),de(t=>t instanceof Tn||t instanceof zn?0:(t instanceof Hn?t.code===At.Redirect||t.code===At.SupersededByNewNavigation:!1)?2:1),Nt(t=>t!==2),Qn(1)).subscribe(()=>{n()})}var jO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ce=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(jg);stateManager=x(Wm);options=x(Zi,{optional:!0})||{};pendingTasks=x(or);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(Td);urlSerializer=x(Yi);location=x(Ur);urlHandlingStrategy=x(xd);injector=x(Fe);_events=new Xe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(YD);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(Qi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(rl,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new it;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=tt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Hn&&r.code!==At.Redirect&&r.code!==At.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Tn)this.navigated=!0;else if(r instanceof cs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=M({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||FO(i.source)},s);this.scheduleNavigation(a,rs,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}NN(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),rs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=M({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(gn)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return tt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Bm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=M(M({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=CD(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return SD(d,t,u,c??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=os(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,rs,null,r)}navigate(t,r={skipLocationChange:!1}){return BO(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(nr(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=M({},jO):r===!1?i=M({},VO):i=r,os(t))return rD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return rD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});let u=this.pendingTasks.add();return Md(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function BO(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new R(4008,!1)}var ol=class{};var ZD=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Nt(t=>t instanceof Tn),Cr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription?.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Jo(o.providers,t,""));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ke(i).pipe(Ao())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=ke(this.loader.loadChildren(t,r)):i=K(null);let o=i.pipe(st(s=>s===null?K(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return ke([o,s]).pipe(Ao())}else return o})}static \u0275fac=function(r){return new(r||e)(j(Ce),j(Fe),j(ol),j(Id))};static \u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),QD=new k(""),UO=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=rs;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Tn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof zn&&t.code===ss.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof ls))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new ls(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Pg()};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})();function qm(e,...n){return Mr([{provide:Qi,multi:!0,useValue:e},[],{provide:cr,useFactory:XD},{provide:Ma,multi:!0,useFactory:eE},n.map(t=>t.\u0275providers)])}function XD(){return x(Ce).routerState.root}function sl(e,n){return{\u0275kind:e,\u0275providers:n}}function eE(){let e=x(Ot);return n=>{let t=e.get(Vr);if(n!==t.components[0])return;let r=e.get(Ce),i=e.get(tE);e.get(Km)===1&&r.initialNavigation(),e.get(iE,null,{optional:!0})?.setUpPreloading(),e.get(QD,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var tE=new k("",{factory:()=>new Xe}),Km=new k("",{factory:()=>1});function nE(){let e=[{provide:vg,useValue:!0},{provide:Km,useValue:0},ku(()=>{let n=x(Ot);return n.get(em,Promise.resolve()).then(()=>new Promise(r=>{let i=n.get(Ce),o=n.get(tE);Md(i,()=>{r(!0)}),n.get(Td).afterPreactivation=()=>(r(!0),o.closed?K(void 0):o),i.initialNavigation()}))})];return sl(2,e)}function rE(){let e=[ku(()=>{x(Ce).setUpLocationChangeListener()}),{provide:Km,useValue:2}];return sl(3,e)}var iE=new k("");function oE(e){return sl(0,[{provide:iE,useExisting:ZD},{provide:ol,useExisting:e}])}function sE(){return sl(8,[jm,{provide:rl,useExisting:jm}])}function aE(e){Yo("NgRouterViewTransitions");let n=[{provide:$m,useValue:KD},{provide:Hm,useValue:M({skipNextTransition:!!e?.skipInitialTransition},e)}];return sl(9,n)}var lE=[Ur,{provide:Yi,useClass:lr},Ce,Ji,{provide:cr,useFactory:XD},Id,[]],Xi=(()=>{class e{constructor(){}static forRoot(t,r){return{ngModule:e,providers:[lE,[],{provide:Qi,multi:!0,useValue:t},[],r?.errorHandler?{provide:zm,useValue:r.errorHandler}:[],{provide:Zi,useValue:r||{}},r?.useHash?HO():zO(),$O(),r?.preloadingStrategy?oE(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?WO(r):[],r?.bindToComponentInputs?sE().\u0275providers:[],r?.enableViewTransitions?aE().\u0275providers:[],GO()]}}static forChild(t){return{ngModule:e,providers:[{provide:Qi,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=wn({type:e});static \u0275inj=Kt({})}return e})();function $O(){return{provide:QD,useFactory:()=>{let e=x(L0),n=x(vt),t=x(Zi),r=x(Td),i=x(Yi);return t.scrollOffset&&e.setOffset(t.scrollOffset),new UO(i,r,e,n,t)}}}function HO(){return{provide:ar,useClass:im}}function zO(){return{provide:ar,useClass:Bu}}function WO(e){return[e.initialNavigation==="disabled"?rE().\u0275providers:[],e.initialNavigation==="enabledBlocking"?nE().\u0275providers:[]]}var Gm=new k("");function GO(){return[{provide:Gm,useFactory:eE},{provide:Ma,multi:!0,useExisting:Gm}]}var Ad=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=xe({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"content"]],template:function(t,r){t&1&&(w(0,"main")(1,"section",0),$e(2,"router-outlet"),b()())},dependencies:[nl],encapsulation:2})};var vE=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(O(Vn),O(bn))};static \u0275dir=De({type:e})}return e})(),Vd=(()=>{class e extends vE{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wt(e)))(i||e)}})();static \u0275dir=De({type:e,features:[Tt]})}return e})(),hl=new k("");var KO={provide:hl,useExisting:Pt(()=>_t),multi:!0};function YO(){let e=en()?en().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var JO=new k(""),_t=(()=>{class e extends vE{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!YO())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(O(Vn),O(bn),O(JO,8))};static \u0275dir=De({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&P("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[En([KO]),Tt]})}return e})();function ZO(e){return e==null||bE(e)===0}function bE(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var pl=new k(""),_E=new k("");function QO(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function XO(e){return ZO(e.value)?{required:!0}:null}function eP(e){return n=>{let t=n.value?.length??bE(n.value);return t!==null&&t>e?{maxlength:{requiredLength:e,actualLength:t}}:null}}function cE(e){return null}function wE(e){return e!=null}function DE(e){return jr(e)?ke(e):e}function EE(e){let n={};return e.forEach(t=>{n=t!=null?M(M({},n),t):n}),Object.keys(n).length===0?null:n}function CE(e,n){return n.map(t=>t(e))}function tP(e){return!e.validate}function SE(e){return e.map(n=>tP(n)?n:t=>n.validate(t))}function nP(e){if(!e)return null;let n=e.filter(wE);return n.length==0?null:function(t){return EE(CE(t,n))}}function Zm(e){return e!=null?nP(SE(e)):null}function rP(e){if(!e)return null;let n=e.filter(wE);return n.length==0?null:function(t){let r=CE(t,n).map(DE);return Rh(r).pipe(de(EE))}}function Qm(e){return e!=null?rP(SE(e)):null}function uE(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function iP(e){return e._rawValidators}function oP(e){return e._rawAsyncValidators}function Ym(e){return e?Array.isArray(e)?e:[e]:[]}function kd(e,n){return Array.isArray(e)?e.includes(n):e===n}function dE(e,n){let t=Ym(n);return Ym(e).forEach(i=>{kd(t,i)||t.push(i)}),t}function fE(e,n){return Ym(n).filter(t=>!kd(e,t))}var Nd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Zm(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Qm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},ms=class extends Nd{name;get formDirective(){return null}get path(){return null}},fl=class extends Nd{_parent=null;name=null;valueAccessor=null},Od=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var wt=(()=>{class e extends Od{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(O(fl,2))};static \u0275dir=De({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ui("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Tt]})}return e})(),qr=(()=>{class e extends Od{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(O(ms,10))};static \u0275dir=De({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ui("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Tt]})}return e})();var al="VALID",Rd="INVALID",ps="PENDING",ll="DISABLED",Gr=class{},Pd=class extends Gr{value;source;constructor(n,t){super(),this.value=n,this.source=t}},ul=class extends Gr{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},dl=class extends Gr{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},gs=class extends Gr{status;source;constructor(n,t){super(),this.status=n,this.source=t}},Jm=class extends Gr{source;constructor(n){super(),this.source=n}},Fd=class extends Gr{source;constructor(n){super(),this.source=n}};function IE(e){return(Bd(e)?e.validators:e)||null}function sP(e){return Array.isArray(e)?Zm(e):e||null}function xE(e,n){return(Bd(n)?n.asyncValidators:e)||null}function aP(e){return Array.isArray(e)?Qm(e):e||null}function Bd(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function lP(e,n,t){let r=e.controls;if(!(n?Object.keys(r):r).length)throw new R(1e3,"");if(!r[t])throw new R(1001,"")}function cP(e,n,t){e._forEachChild((r,i)=>{if(t[i]===void 0)throw new R(1002,"")})}var Ld=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return tt(this.statusReactive)}set status(n){tt(()=>this.statusReactive.set(n))}_status=Zo(()=>this.statusReactive());statusReactive=mn(void 0);get valid(){return this.status===al}get invalid(){return this.status===Rd}get pending(){return this.status==ps}get disabled(){return this.status===ll}get enabled(){return this.status!==ll}errors;get pristine(){return tt(this.pristineReactive)}set pristine(n){tt(()=>this.pristineReactive.set(n))}_pristine=Zo(()=>this.pristineReactive());pristineReactive=mn(!0);get dirty(){return!this.pristine}get touched(){return tt(this.touchedReactive)}set touched(n){tt(()=>this.touchedReactive.set(n))}_touched=Zo(()=>this.touchedReactive());touchedReactive=mn(!1);get untouched(){return!this.touched}_events=new Xe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(dE(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(dE(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(fE(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(fE(n,this._rawAsyncValidators))}hasValidator(n){return kd(this._rawValidators,n)}hasAsyncValidator(n){return kd(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(q(M({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new dl(!0,r))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new dl(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(q(M({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new ul(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new ul(!0,r))}markAsPending(n={}){this.status=ps;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new gs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(q(M({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=ll,this.errors=null,this._forEachChild(i=>{i.disable(q(M({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Pd(this.value,r)),this._events.next(new gs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(q(M({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=al,this._forEachChild(r=>{r.enable(q(M({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(q(M({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===al||this.status===ps)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Pd(this.value,t)),this._events.next(new gs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(q(M({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ll:al}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=ps,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:n!==!1};let r=DE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new gs(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?ll:this.errors?Rd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ps)?ps:this._anyControlsHaveStatus(Rd)?Rd:al}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),i&&this._events.next(new ul(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new dl(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Bd(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=sP(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=aP(this._rawAsyncValidators)}},jd=class extends Ld{constructor(n,t,r){super(IE(t),xE(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){cP(this,!0,n),Object.keys(n).forEach(r=>{lP(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,q(M({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Fd(this))}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Xm=new k("",{factory:()=>ey}),ey="always";function uP(e,n){return[...n.path,e]}function TE(e,n,t=ey){ME(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),fP(e,n),pP(e,n),hP(e,n),dP(e,n)}function hE(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function dP(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function ME(e,n){let t=iP(e);n.validator!==null?e.setValidators(uE(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=oP(e);n.asyncValidator!==null?e.setAsyncValidators(uE(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();hE(n._rawValidators,i),hE(n._rawAsyncValidators,i)}function fP(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&AE(e,n)})}function hP(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&AE(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function AE(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function pP(e,n){let t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function gP(e,n){e==null,ME(e,n)}function mP(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function yP(e){return Object.getPrototypeOf(e.constructor)===Vd}function vP(e,n){e._syncPendingControls(),n.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function bP(e,n){if(!n)return null;Array.isArray(n);let t,r,i;return n.forEach(o=>{o.constructor===_t?t=o:yP(o)?r=o:i=o}),i||r||t||null}var _P={provide:ms,useExisting:Pt(()=>dr)},cl=Promise.resolve(),dr=(()=>{class e extends ms{callSetDisabledState;get submitted(){return tt(this.submittedReactive)}_submitted=Zo(()=>this.submittedReactive());submittedReactive=mn(!1);_directives=new Set;form;ngSubmit=new Ge;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new jd({},Zm(t),Qm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){cl.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),TE(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){cl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){cl.then(()=>{let r=this._findContainer(t.path),i=new jd({});gP(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){cl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){cl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),vP(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Jm(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||e)(O(pl,10),O(_E,10),O(Xm,8))};static \u0275dir=De({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&P("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[En([_P]),Tt]})}return e})();function pE(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function gE(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var wP=class extends Ld{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(IE(t),xE(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(gE(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Fd(this))}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){pE(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){pE(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){gE(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var DP={provide:fl,useExisting:Pt(()=>dt)},mE=Promise.resolve(),dt=(()=>{class e extends fl{_changeDetectorRef;callSetDisabledState;control=new wP;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ge;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=bP(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),mP(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){TE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){mE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Oa(r);mE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?uP(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(O(ms,9),O(pl,10),O(_E,10),O(hl,10),O(Ee,8),O(Xm,8))};static \u0275dir=De({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[En([DP]),Tt,Lr]})}return e})();var Kr=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=De({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),EP={provide:hl,useExisting:Pt(()=>Mn),multi:!0},Mn=(()=>{class e extends Vd{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wt(e)))(i||e)}})();static \u0275dir=De({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&P("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[En([EP]),Tt]})}return e})();var CP={provide:hl,useExisting:Pt(()=>Ud),multi:!0};function RE(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function SP(e){return e.split(":")[0]}var Ud=(()=>{class e extends Vd{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=x(Vr).injector;destroyRef=x(pn);cdr=x(Ee);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Ia({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=RE(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=SP(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wt(e)))(i||e)}})();static \u0275dir=De({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&P("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[En([CP]),Tt]})}return e})(),$d=(()=>{class e{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(RE(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(O(bn),O(Vn),O(Ud,9))};static \u0275dir=De({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),IP={provide:hl,useExisting:Pt(()=>kE),multi:!0};function yE(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function xP(e){return e.split(":")[0]}var kE=(()=>{class e extends Vd{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);i.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=xP(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wt(e)))(i||e)}})();static \u0275dir=De({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&P("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[En([IP]),Tt]})}return e})(),Hd=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(yE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(yE(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(O(bn),O(Vn),O(kE,9))};static \u0275dir=De({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function TP(e){return typeof e=="number"?e:parseInt(e,10)}function MP(e){return typeof e=="number"?e:parseFloat(e)}var ty=(()=>{class e{_validator=cE;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):cE,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=De({type:e,features:[Lr]})}return e})();var AP={provide:pl,useExisting:Pt(()=>gl),multi:!0},gl=(()=>{class e extends ty{min;inputName="min";normalizeInput=t=>MP(t);createValidator=t=>QO(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wt(e)))(i||e)}})();static \u0275dir=De({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Vi("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[En([AP]),Tt]})}return e})(),RP={provide:pl,useExisting:Pt(()=>fr),multi:!0};var fr=(()=>{class e extends ty{required;inputName="required";normalizeInput=Oa;createValidator=t=>XO;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wt(e)))(i||e)}})();static \u0275dir=De({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Vi("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[En([RP]),Tt]})}return e})();var kP={provide:pl,useExisting:Pt(()=>ny),multi:!0},ny=(()=>{class e extends ty{maxlength;inputName="maxlength";normalizeInput=t=>TP(t);createValidator=t=>eP(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Wt(e)))(i||e)}})();static \u0275dir=De({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Vi("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[En([kP]),Tt]})}return e})();var NP=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=wn({type:e});static \u0275inj=Kt({})}return e})();var Dt=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Xm,useValue:t.callSetDisabledState??ey}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=wn({type:e});static \u0275inj=Kt({imports:[NP]})}return e})();var NE=e=>e?(...n)=>e(...n):(...n)=>fetch(...n);var ys=class extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}},ml=class extends ys{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},vs=class extends ys{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},bs=class extends ys{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},zd=(function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e})(zd||{});var yl=class{constructor(n,{headers:t={},customFetch:r,region:i=zd.Any}={}){this.url=n,this.headers=t,this.region=i,this.fetch=NE(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return mc(this,arguments,void 0,function*(t,r={}){var i;let o,s;try{let{headers:a,method:l,body:c,signal:u,timeout:d}=r,h={},{region:f}=r;f||(f=this.region);let p=new URL(`${this.url}/${t}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=c):typeof c=="string"?(h["Content-Type"]="text/plain",g=c):typeof FormData<"u"&&c instanceof FormData?g=c:(h["Content-Type"]="application/json",g=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?g=JSON.stringify(c):g=c;let m=u;d&&(s=new AbortController,o=setTimeout(()=>s.abort(),d),u?(m=s.signal,u.addEventListener("abort",()=>s.abort())):m=s.signal);let y=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:g,signal:m}).catch(E=>{throw new ml(E)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new vs(y);if(!y.ok)throw new bs(y);let D=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return D==="application/json"?_=yield y.json():D==="application/octet-stream"||D==="application/pdf"?_=yield y.blob():D==="text/event-stream"?_=y:D==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof bs||a instanceof vs?a.context:void 0}}finally{o&&clearTimeout(o)}})}};var PE=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},OP=class{constructor(e){var n,t;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(t=e.isMaybeSingle)!==null&&t!==void 0?t:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let s=null,a=null,l=null,c=o.status,u=o.statusText;if(o.ok){var d,h;if(t.method!=="HEAD"){var f;let y=await o.text();y===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((f=t.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=y:a=JSON.parse(y))}let g=(d=t.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),m=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&m&&m.length>1&&(l=parseInt(m[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(a)&&(a.length>1?(s={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var p;let g=await o.text();try{s=JSON.parse(g),Array.isArray(s)&&o.status===404&&(a=[],s=null,c=200,u="OK")}catch{o.status===404&&g===""?(c=204,u="No Content"):s={message:g}}if(s&&t.isMaybeSingle&&(!(s==null||(p=s.details)===null||p===void 0)&&p.includes("0 rows"))&&(s=null,c=200,u="OK"),s&&t.shouldThrowOnError)throw new PE(s)}return{error:s,data:a,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(i=i.catch(o=>{var s;let a="",l=o?.cause;if(l){var c,u,d,h;let p=(c=l?.message)!==null&&c!==void 0?c:"",g=(u=l?.code)!==null&&u!==void 0?u:"";a=`${(d=o?.name)!==null&&d!==void 0?d:"FetchError"}: ${o?.message}`,a+=`

Caused by: ${(h=l?.name)!==null&&h!==void 0?h:"Error"}: ${p}`,g&&(a+=` (${g})`),l?.stack&&(a+=`
${l.stack}`)}else{var f;a=(f=o?.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}},PP=class extends OP{select(e){let n=!1,t=(e??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:t,foreignTable:r,referencedTable:i=r}={}){let o=i?`${i}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${e}.${n?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:t=n}={}){let r=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,n,{foreignTable:t,referencedTable:r=t}={}){let i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:t=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var s;let a=[e?"analyze":null,n?"verbose":null,t?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}},OE=new RegExp("[,()]"),_s=class extends PP{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}regexMatch(e,n){return this.url.searchParams.append(e,`match.${n}`),this}regexIMatch(e,n){return this.url.searchParams.append(e,`imatch.${n}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}isDistinct(e,n){return this.url.searchParams.append(e,`isdistinct.${n}`),this}in(e,n){let t=Array.from(new Set(n)).map(r=>typeof r=="string"&&OE.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${t})`),this}notIn(e,n){let t=Array.from(new Set(n)).map(r=>typeof r=="string"&&OE.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${t})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:t,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");let o=t===void 0?"":`(${t})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,t])=>{this.url.searchParams.append(n,`eq.${t}`)}),this}not(e,n,t){return this.url.searchParams.append(e,`not.${n}.${t}`),this}or(e,{foreignTable:n,referencedTable:t=n}={}){let r=t?`${t}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,n,t){return this.url.searchParams.append(e,`${n}.${t}`),this}},FP=class{constructor(e,{headers:n={},schema:t,fetch:r}){this.url=e,this.headers=new Headers(n),this.schema=t,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,n){let{head:t=!1,count:r}=n??{},i=t?"HEAD":"GET",o=!1,s=(e??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",s),r&&l.append("Prefer",`count=${r}`),new _s({method:i,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:t=!0}={}){var r;let i="POST",{url:o,headers:s}=this.cloneRequestState();if(n&&s.append("Prefer",`count=${n}`),t||s.append("Prefer","missing=default"),Array.isArray(e)){let a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){let l=[...new Set(a)].map(c=>`"${c}"`);o.searchParams.set("columns",l.join(","))}}return new _s({method:i,url:o,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:t=!1,count:r,defaultToNull:i=!0}={}){var o;let s="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),n!==void 0&&a.searchParams.set("on_conflict",n),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(e)){let c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){let u=[...new Set(c)].map(d=>`"${d}"`);a.searchParams.set("columns",u.join(","))}}return new _s({method:s,url:a,headers:l,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var t;let r="PATCH",{url:i,headers:o}=this.cloneRequestState();return n&&o.append("Prefer",`count=${n}`),new _s({method:r,url:i,headers:o,schema:this.schema,body:e,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:e}={}){var n;let t="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new _s({method:t,url:r,headers:i,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},FE=class LE{constructor(n,{headers:t={},schema:r,fetch:i}={}){this.url=n,this.headers=new Headers(t),this.schemaName=r,this.fetch=i}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new FP(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new LE(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,l=new URL(`${this.url}/rpc/${n}`),c,u=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(u)),d=r&&Object.values(t).some(u);d?(a="POST",c=t):r||i?(a=r?"HEAD":"GET",Object.entries(t).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{l.searchParams.append(f,p)})):(a="POST",c=t);let h=new Headers(this.headers);return d?h.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&h.set("Prefer",`count=${o}`),new _s({method:a,url:l,headers:h,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};var ry=class{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};let t=globalThis.process;if(t){let r=t.versions;if(r&&r.node){let i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let n=this.detectEnvironment();if(n.constructor)return n.constructor;let t=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(t+=`

Suggested solution: ${n.workaround}`),new Error(t)}static createWebSocket(n,t){let r=this.getWebSocketConstructor();return new r(n,t)}static isWebSocketSupported(){try{let n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}},iy=ry;var jE="2.93.2";var VE=`realtime-js/${jE}`,BE="1.0.0",oy="2.0.0",sy=oy;var vl=1e4,UE=1e3,$E=100,Jr=(function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e})(Jr||{}),Je=(function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e})(Je||{}),nn=(function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e})(nn||{}),ay=(function(e){return e.websocket="websocket",e})(ay||{}),eo=(function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e})(eo||{});var Wd=class{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,t){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var t;return this._isArrayBuffer((t=n.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var t,r;let i=(r=(t=n.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(n){var t,r;let i=(r=(t=n.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(n,t,r){var i,o;let s=n.topic,a=(i=n.ref)!==null&&i!==void 0?i:"",l=(o=n.join_ref)!==null&&o!==void 0?o:"",c=n.payload.event,u=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+s.length+c.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+h),p=new DataView(f),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,l.length),p.setUint8(g++,a.length),p.setUint8(g++,s.length),p.setUint8(g++,c.length),p.setUint8(g++,d.length),p.setUint8(g++,t),Array.from(l,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(a,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(s,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(c,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(d,y=>p.setUint8(g++,y.charCodeAt(0)));var m=new Uint8Array(f.byteLength+r.byteLength);return m.set(new Uint8Array(f),0),m.set(new Uint8Array(r),f.byteLength),m.buffer}decode(n,t){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return t(r)}if(typeof n=="string"){let r=JSON.parse(n),[i,o,s,a,l]=r;return t({join_ref:i,ref:o,topic:s,event:a,payload:l})}return t({})}_binaryDecode(n){let t=new DataView(n),r=t.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,t,i)}}_decodeUserBroadcast(n,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=t.getUint8(3),a=t.getUint8(4),l=this.HEADER_LENGTH+4,c=r.decode(n.slice(l,l+i));l=l+i;let u=r.decode(n.slice(l,l+o));l=l+o;let d=r.decode(n.slice(l,l+s));l=l+s;let h=n.slice(l,n.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,p={type:this.BROADCAST_EVENT,event:u,payload:f};return s>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(n){var t;return n instanceof ArrayBuffer||((t=n?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(n,t){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>t.includes(r)))}};var ws=class{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Te=(function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e})(Te||{}),cy=(e,n,t={})=>{var r;let i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((o,s)=>(o[s]=LP(s,e,n,i),o),{}):{}},LP=(e,n,t,r)=>{let i=n.find(a=>a.name===e),o=i?.type,s=t[e];return o&&!r.includes(o)?HE(o,s):ly(s)},HE=(e,n)=>{if(e.charAt(0)==="_"){let t=e.slice(1,e.length);return UP(n,t)}switch(e){case Te.bool:return jP(n);case Te.float4:case Te.float8:case Te.int2:case Te.int4:case Te.int8:case Te.numeric:case Te.oid:return VP(n);case Te.json:case Te.jsonb:return BP(n);case Te.timestamp:return $P(n);case Te.abstime:case Te.date:case Te.daterange:case Te.int4range:case Te.int8range:case Te.money:case Te.reltime:case Te.text:case Te.time:case Te.timestamptz:case Te.timetz:case Te.tsrange:case Te.tstzrange:return ly(n);default:return ly(n)}},ly=e=>e,jP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},VP=e=>{if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return n}return e},BP=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},UP=(e,n)=>{if(typeof e!="string")return e;let t=e.length-1,r=e[t];if(e[0]==="{"&&r==="}"){let o,s=e.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>HE(n,a))}return e},$P=e=>typeof e=="string"?e.replace(" ","T"):e,Gd=e=>{let n=new URL(e);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};var Ds=class{constructor(n,t,r={},i=vl){this.channel=n,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var bl=class e{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=e.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,i){let o=this.cloneDeep(n),s=this.transformState(t),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{let d=o[c];if(d){let h=u.map(m=>m.presence_ref),f=d.map(m=>m.presence_ref),p=u.filter(m=>f.indexOf(m.presence_ref)<0),g=d.filter(m=>h.indexOf(m.presence_ref)<0);p.length>0&&(a[c]=p),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(n,t,r,i){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;let u=(c=n[a])!==null&&c!==void 0?c:[];if(n[a]=this.cloneDeep(l),u.length>0){let d=n[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);n[a].unshift(...h)}r(a,u,l)}),this.map(s,(a,l)=>{let c=n[a];if(!c)return;let u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),n[a]=c,i(a,c,l),c.length===0&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{let i=n[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var _l=(function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e})(_l||{}),hr=(function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e})(hr||{});var wl=class e{constructor(n,t={config:{}},r){var i,o;if(this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Ds(this,nn.join,this.params,this.timeout),this.rejoinTimer=new ws(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new bl(this),this.broadcastEndpointURL=Gd(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,t=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){let{config:{broadcast:s,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[_l.PRESENCE]&&this.bindings[_l.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>n?.(hr.CHANNEL_ERROR,f)),this._onClose(()=>n?.(hr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){n?.(hr.SUBSCRIBED);return}else{let g=this.bindings.postgres_changes,m=(p=g?.length)!==null&&p!==void 0?p:0,y=[];for(let v=0;v<m;v++){let D=g[v],{filter:{event:_,schema:E,table:S,filter:T}}=D,I=f&&f[v];if(I&&I.event===_&&e.isFilterValueEqual(I.schema,E)&&e.isFilterValueEqual(I.table,S)&&e.isFilterValueEqual(I.filter,T))y.push(Object.assign(Object.assign({},D),{id:I.id}));else{this.unsubscribe(),this.state=Je.errored,n?.(hr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,n&&n(hr.SUBSCRIBED);return}}).receive("error",f=>{this.state=Je.errored,n?.(hr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{n?.(hr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,t={}){return await this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,t,r){return this.state===Je.joined&&n===_l.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,t,r)}async httpSend(n,t,r={}){var i;if(t==null)return Promise.reject("Payload is required for httpSend()");let o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);let s={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:t,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{let c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(n,t={}){var r,i;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:o,payload:s}=n,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);let l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{let c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;let c=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Je.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Ds(this,nn.leave,{},n),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Je.closed,this.bindings={}}async _fetchWithTimeout(n,t,r){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),s}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ds(this,n,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>$E){let t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var i,o;let s=n.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=nn;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,g,m;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(g=f.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var p,g,m,y,v,D;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let _=f.id,E=(p=f.filter)===null||p===void 0?void 0:p.event;return _&&((g=t.ids)===null||g===void 0?void 0:g.includes(_))&&(E==="*"||E?.toLocaleLowerCase()===((m=t.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{let _=(v=(y=f?.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((D=t?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let p=h.data,{schema:g,table:m,commit_timestamp:y,type:v,errors:D}=p;h=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:y,eventType:v,new:{},old:{},errors:D}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){let i=n.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,t){let r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,t))})),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let r in n)if(n[r]!==t[r])return!1;return!0}static isFilterValueEqual(n,t){return(n??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(nn.close,{},n)}_onError(n){this._on(nn.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=cy(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=cy(n.columns,n.old_record)),t}};var uy=()=>{},qd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zP=[1e3,2e3,5e3,1e4],WP=1e4,GP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Dl=class{constructor(n,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vl,this.transport=null,this.heartbeatIntervalMs=qd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=uy,this.ref=0,this.reconnectTimer=null,this.vsn=sy,this.logger=uy,this.conn=null,this.sendBuffer=[],this.serializer=new Wd,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${n}/${ay.websocket}`,this.httpEndpoint=Gd(n),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iy.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");let t=n.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){let t=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){let n=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Jr.connecting:return eo.Connecting;case Jr.open:return eo.Open;case Jr.closing:return eo.Closing;default:return eo.Closed}}isConnected(){return this.connectionState()===eo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,t={config:{}}){let r=`realtime:${n}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new wl(`realtime:${n}`,t,this);return this.channels.push(o),o}}push(n){let{topic:t,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(UE,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},qd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply"&&t.ref&&t.ref===this.pendingHeartbeatRef){let c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:r,event:i,payload:o,ref:s}=t,a=s?`(${s})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,s)),this._triggerStateCallbacks("message",t)})}_clearTimer(n){var t;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Jr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Jr.open||this.conn.readyState===Jr.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var t;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(t){this.log("error","error in heartbeat callback",t)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(nn.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${n}${r}${i}`}_workerObjectUrl(n){let t;if(n)t=n;else{let r=new Blob([GP],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(n,t=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(n=null){let t,r=!1;if(n)t=n,r=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{let o={access_token:t,version:VE};t&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(nn.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${n}`,t)})}_triggerStateCallbacks(n,t){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${n} callback`,i)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ws(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var t,r,i,o,s,a,l,c,u,d,h,f;switch(this.transport=(t=n?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:vl,this.heartbeatIntervalMs=(i=n?.heartbeatIntervalMs)!==null&&i!==void 0?i:qd.HEARTBEAT_INTERVAL,this.worker=(o=n?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=n?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=n?.heartbeatCallback)!==null&&a!==void 0?a:uy,this.vsn=(l=n?.vsn)!==null&&l!==void 0?l:sy,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=n?.reconnectAfterMs)!==null&&c!==void 0?c:p=>zP[p-1]||WP,this.vsn){case BE:this.encode=(u=n?.encode)!==null&&u!==void 0?u:(p,g)=>g(JSON.stringify(p)),this.decode=(d=n?.decode)!==null&&d!==void 0?d:(p,g)=>g(JSON.parse(p));break;case oy:this.encode=(h=n?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=n?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}};var El=class extends Error{constructor(e,n){super(e),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function qP(e,n,t){let r=new URL(n,e);if(t)for(let[i,o]of Object.entries(t))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function KP(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function YP(e){let n=e.fetchImpl??globalThis.fetch;return{async request({method:t,path:r,query:i,body:o,headers:s}){let a=qP(e.baseUrl,r,i),l=await KP(e.auth),c=await n(a,{method:t,headers:M(M(M({},o?{"Content-Type":"application/json"}:{}),l),s),body:o?JSON.stringify(o):void 0}),u=await c.text(),d=(c.headers.get("content-type")||"").includes("application/json"),h=d&&u?JSON.parse(u):u;if(!c.ok){let f=d?h:void 0,p=f?.error;throw new El(p?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:p?.type,icebergCode:p?.code,details:f})}return{status:c.status,headers:c.headers,data:h}}}}function Kd(e){return e.join("")}var JP=class{constructor(e,n=""){this.client=e,this.prefix=n}async listNamespaces(e){let n=e?{parent:Kd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,n){let t={namespace:e.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Kd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Kd(e.namespace)}`}),!0}catch(n){if(n instanceof El&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(e,n){try{return await this.createNamespace(e,n)}catch(t){if(t instanceof El&&t.status===409)return;throw t}}};function Es(e){return e.join("")}var ZP=class{constructor(e,n="",t){this.client=e,this.prefix=n,this.accessDelegation=t}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Es(e.namespace)}/tables`})).data.identifiers}async createTable(e,n){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Es(e.namespace)}/tables`,body:n,headers:t})).data.metadata}async updateTable(e,n){let t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Es(e.namespace)}/tables/${e.name}`,body:n});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(e,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Es(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(e){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Es(e.namespace)}/tables/${e.name}`,headers:n})).data.metadata}async tableExists(e){let n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Es(e.namespace)}/tables/${e.name}`,headers:n}),!0}catch(t){if(t instanceof El&&t.status===404)return!1;throw t}}async createTableIfNotExists(e,n){try{return await this.createTable(e,n)}catch(t){if(t instanceof El&&t.status===409)return await this.loadTable({namespace:e.namespace,name:n.name});throw t}}},zE=class{constructor(e){let n="v1";e.catalogName&&(n+=`/${e.catalogName}`);let t=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=YP({baseUrl:t,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new JP(this.client,n),this.tableOps=new ZP(this.client,n,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,n){return this.namespaceOps.createNamespace(e,n)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,n){return this.tableOps.createTable(e,n)}async updateTable(e,n){return this.tableOps.updateTable(e,n)}async dropTable(e,n){await this.tableOps.dropTable(e,n)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,n){return this.namespaceOps.createNamespaceIfNotExists(e,n)}async createTableIfNotExists(e,n){return this.tableOps.createTableIfNotExists(e,n)}};var Jd=class extends Error{constructor(e,n="storage",t,r){super(e),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=t,this.statusCode=r}};function Zd(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Yd=class extends Jd{constructor(e,n,t,r="storage"){super(e,r,n,t),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},KE=class extends Jd{constructor(e,n,t="storage"){super(e,t),this.name=t==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};var QP=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),XP=e=>{if(typeof e!="object"||e===null)return!1;let n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},dy=e=>{if(Array.isArray(e))return e.map(t=>dy(t));if(typeof e=="function"||e!==Object(e))return e;let n={};return Object.entries(e).forEach(([t,r])=>{let i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=dy(r)}),n},e1=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Sl(e){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Sl(e)}function t1(e,n){if(Sl(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n||"default");if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function n1(e){var n=t1(e,"string");return Sl(n)=="symbol"?n:n+""}function r1(e,n,t){return(n=n1(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function WE(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function U(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?WE(Object(t),!0).forEach(function(r){r1(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):WE(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var GE=e=>{var n;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(n=e.error)===null||n===void 0?void 0:n.message)||JSON.stringify(e)},i1=async(e,n,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!t?.noResolveJson){let i=e,o=i.status||500;if(typeof i.json=="function")i.json().then(s=>{let a=s?.statusCode||s?.code||o+"";n(new Yd(GE(s),o,a,r))}).catch(()=>{if(r==="vectors"){let s=o+"";n(new Yd(i.statusText||`HTTP ${o} error`,o,s,r))}else{let s=o+"";n(new Yd(i.statusText||`HTTP ${o} error`,o,s,r))}});else{let s=o+"";n(new Yd(i.statusText||`HTTP ${o} error`,o,s,r))}}else n(new KE(GE(e),e,r))},o1=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"||e==="HEAD"||!r?U(U({},i),t):(XP(r)?(i.headers=U({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r)):i.body=r,n?.duplex&&(i.duplex=n.duplex),U(U({},i),t))};async function Cl(e,n,t,r,i,o,s){return new Promise((a,l)=>{e(t,o1(n,r,i,o)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;if(s==="vectors"){let u=c.headers.get("content-type");if(!u||!u.includes("application/json"))return{}}return c.json()}).then(c=>a(c)).catch(c=>i1(c,l,r,s))})}function s1(e="storage"){return{get:async(n,t,r,i)=>Cl(n,"GET",t,r,i,void 0,e),post:async(n,t,r,i,o)=>Cl(n,"POST",t,i,o,r,e),put:async(n,t,r,i,o)=>Cl(n,"PUT",t,i,o,r,e),head:async(n,t,r,i)=>Cl(n,"HEAD",t,U(U({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(n,t,r,i,o)=>Cl(n,"DELETE",t,i,o,r,e)}}var a1=s1("storage"),{get:Il,post:Re,put:fy,head:l1,remove:hy}=a1,Cs=class{constructor(e,n={},t,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.fetch=QP(t),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var n=this;try{return{data:await e(),error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Zd(t))return{data:null,error:t};throw t}}},c1=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Zd(n))return{data:null,error:n};throw n}}},YE;YE=Symbol.toStringTag;var u1=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[YE]="BlobDownloadBuilder",this.promise=null}asStream(){return new c1(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Zd(n))return{data:null,error:n};throw n}}},d1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},f1=class extends Cs{constructor(e,n={},t,r){super(e,n,r,"storage"),this.bucketId=t}async uploadOrUpdate(e,n,t,r){var i=this;return i.handleOperation(async()=>{let o,s=U(U({},qE),r),a=U(U({},i.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),l=s.metadata;typeof Blob<"u"&&t instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",t)):typeof FormData<"u"&&t instanceof FormData?(o=t,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=t,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),r?.headers&&(a=U(U({},a),r.headers));let c=i._removeEmptyFolders(n),u=i._getFinalPath(c),d=await(e=="PUT"?fy:Re)(i.fetch,`${i.url}/object/${u}`,o,U({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{path:c,id:d.Id,fullPath:d.Key}})}async upload(e,n,t){return this.uploadOrUpdate("POST",e,n,t)}async uploadToSignedUrl(e,n,t,r){var i=this;let o=i._removeEmptyFolders(e),s=i._getFinalPath(o),a=new URL(i.url+`/object/upload/sign/${s}`);return a.searchParams.set("token",n),i.handleOperation(async()=>{let l,c=U({upsert:qE.upsert},r),u=U(U({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&t instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",t)):typeof FormData<"u"&&t instanceof FormData?(l=t,l.append("cacheControl",c.cacheControl)):(l=t,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{path:o,fullPath:(await fy(i.fetch,a.toString(),l,{headers:u})).Key}})}async createSignedUploadUrl(e,n){var t=this;return t.handleOperation(async()=>{let r=t._getFinalPath(e),i=U({},t.headers);n?.upsert&&(i["x-upsert"]="true");let o=await Re(t.fetch,`${t.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(t.url+o.url),a=s.searchParams.get("token");if(!a)throw new Jd("No token returned by API");return{signedUrl:s.toString(),path:e,token:a}})}async update(e,n,t){return this.uploadOrUpdate("PUT",e,n,t)}async move(e,n,t){var r=this;return r.handleOperation(async()=>await Re(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:n,destinationBucket:t?.destinationBucket},{headers:r.headers}))}async copy(e,n,t){var r=this;return r.handleOperation(async()=>({path:(await Re(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:n,destinationBucket:t?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,n,t){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),o=await Re(r.fetch,`${r.url}/object/sign/${i}`,U({expiresIn:n},t?.transform?{transform:t.transform}:{}),{headers:r.headers}),s=t?.download?`&download=${t.download===!0?"":t.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${s}`)}})}async createSignedUrls(e,n,t){var r=this;return r.handleOperation(async()=>{let i=await Re(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:n,paths:e},{headers:r.headers}),o=t?.download?`&download=${t.download===!0?"":t.download}`:"";return i.map(s=>U(U({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${o}`):null}))})}download(e,n){let t=typeof n?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(n?.transform||{}),i=r?`?${r}`:"",o=this._getFinalPath(e),s=()=>Il(this.fetch,`${this.url}/${t}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new u1(s,this.shouldThrowOnError)}async info(e){var n=this;let t=n._getFinalPath(e);return n.handleOperation(async()=>dy(await Il(n.fetch,`${n.url}/object/info/${t}`,{headers:n.headers})))}async exists(e){var n=this;let t=n._getFinalPath(e);try{return await l1(n.fetch,`${n.url}/object/${t}`,{headers:n.headers}),{data:!0,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Zd(r)&&r instanceof KE){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,n){let t=this._getFinalPath(e),r=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&r.push(i);let o=typeof n?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(n?.transform||{});s!==""&&r.push(s);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${t}${a}`)}}}async remove(e){var n=this;return n.handleOperation(async()=>await hy(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:e},{headers:n.headers}))}async list(e,n,t){var r=this;return r.handleOperation(async()=>{let i=U(U(U({},d1),n),{},{prefix:e||""});return await Re(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},t)})}async listV2(e,n){var t=this;return t.handleOperation(async()=>{let r=U({},e);return await Re(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,r,{headers:t.headers},n)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}},h1="2.93.2",xl={"X-Client-Info":`storage-js/${h1}`},p1=class extends Cs{constructor(e,n={},t,r){let i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));let o=i.href.replace(/\/$/,""),s=U(U({},xl),n);super(o,s,t,"storage")}async listBuckets(e){var n=this;return n.handleOperation(async()=>{let t=n.listBucketOptionsToQueryString(e);return await Il(n.fetch,`${n.url}/bucket${t}`,{headers:n.headers})})}async getBucket(e){var n=this;return n.handleOperation(async()=>await Il(n.fetch,`${n.url}/bucket/${e}`,{headers:n.headers}))}async createBucket(e,n={public:!1}){var t=this;return t.handleOperation(async()=>await Re(t.fetch,`${t.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:t.headers}))}async updateBucket(e,n){var t=this;return t.handleOperation(async()=>await fy(t.fetch,`${t.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:t.headers}))}async emptyBucket(e){var n=this;return n.handleOperation(async()=>await Re(n.fetch,`${n.url}/bucket/${e}/empty`,{},{headers:n.headers}))}async deleteBucket(e){var n=this;return n.handleOperation(async()=>await hy(n.fetch,`${n.url}/bucket/${e}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(e){let n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},g1=class extends Cs{constructor(e,n={},t){let r=e.replace(/\/$/,""),i=U(U({},xl),n);super(r,i,t,"storage")}async createBucket(e){var n=this;return n.handleOperation(async()=>await Re(n.fetch,`${n.url}/bucket`,{name:e},{headers:n.headers}))}async listBuckets(e){var n=this;return n.handleOperation(async()=>{let t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);let r=t.toString(),i=r?`${n.url}/bucket?${r}`:`${n.url}/bucket`;return await Il(n.fetch,i,{headers:n.headers})})}async deleteBucket(e){var n=this;return n.handleOperation(async()=>await hy(n.fetch,`${n.url}/bucket/${e}`,{},{headers:n.headers}))}from(e){var n=this;if(!e1(e))throw new Jd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let t=new zE({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(t,{get(i,o){let s=i[o];return typeof s!="function"?s:async(...a)=>{try{return{data:await s.apply(i,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},m1=class extends Cs{constructor(e,n={},t){let r=e.replace(/\/$/,""),i=U(U({},xl),{},{"Content-Type":"application/json"},n);super(r,i,t,"vectors")}async createIndex(e){var n=this;return n.handleOperation(async()=>await Re(n.fetch,`${n.url}/CreateIndex`,e,{headers:n.headers})||{})}async getIndex(e,n){var t=this;return t.handleOperation(async()=>await Re(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:t.headers}))}async listIndexes(e){var n=this;return n.handleOperation(async()=>await Re(n.fetch,`${n.url}/ListIndexes`,e,{headers:n.headers}))}async deleteIndex(e,n){var t=this;return t.handleOperation(async()=>await Re(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:t.headers})||{})}},y1=class extends Cs{constructor(e,n={},t){let r=e.replace(/\/$/,""),i=U(U({},xl),{},{"Content-Type":"application/json"},n);super(r,i,t,"vectors")}async putVectors(e){var n=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Re(n.fetch,`${n.url}/PutVectors`,e,{headers:n.headers})||{})}async getVectors(e){var n=this;return n.handleOperation(async()=>await Re(n.fetch,`${n.url}/GetVectors`,e,{headers:n.headers}))}async listVectors(e){var n=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return n.handleOperation(async()=>await Re(n.fetch,`${n.url}/ListVectors`,e,{headers:n.headers}))}async queryVectors(e){var n=this;return n.handleOperation(async()=>await Re(n.fetch,`${n.url}/QueryVectors`,e,{headers:n.headers}))}async deleteVectors(e){var n=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Re(n.fetch,`${n.url}/DeleteVectors`,e,{headers:n.headers})||{})}},v1=class extends Cs{constructor(e,n={},t){let r=e.replace(/\/$/,""),i=U(U({},xl),{},{"Content-Type":"application/json"},n);super(r,i,t,"vectors")}async createBucket(e){var n=this;return n.handleOperation(async()=>await Re(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:n.headers})||{})}async getBucket(e){var n=this;return n.handleOperation(async()=>await Re(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:e},{headers:n.headers}))}async listBuckets(e={}){var n=this;return n.handleOperation(async()=>await Re(n.fetch,`${n.url}/ListVectorBuckets`,e,{headers:n.headers}))}async deleteBucket(e){var n=this;return n.handleOperation(async()=>await Re(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:n.headers})||{})}},b1=class extends v1{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new _1(this.url,this.headers,e,this.fetch)}async createBucket(e){var n=()=>super.createBucket,t=this;return n().call(t,e)}async getBucket(e){var n=()=>super.getBucket,t=this;return n().call(t,e)}async listBuckets(e={}){var n=()=>super.listBuckets,t=this;return n().call(t,e)}async deleteBucket(e){var n=()=>super.deleteBucket,t=this;return n().call(t,e)}},_1=class extends m1{constructor(e,n,t,r){super(e,n,r),this.vectorBucketName=t}async createIndex(e){var n=()=>super.createIndex,t=this;return n().call(t,U(U({},e),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(e={}){var n=()=>super.listIndexes,t=this;return n().call(t,U(U({},e),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(e){var n=()=>super.getIndex,t=this;return n().call(t,t.vectorBucketName,e)}async deleteIndex(e){var n=()=>super.deleteIndex,t=this;return n().call(t,t.vectorBucketName,e)}index(e){return new w1(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},w1=class extends y1{constructor(e,n,t,r,i){super(e,n,i),this.vectorBucketName=t,this.indexName=r}async putVectors(e){var n=()=>super.putVectors,t=this;return n().call(t,U(U({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(e){var n=()=>super.getVectors,t=this;return n().call(t,U(U({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(e={}){var n=()=>super.listVectors,t=this;return n().call(t,U(U({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(e){var n=()=>super.queryVectors,t=this;return n().call(t,U(U({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(e){var n=()=>super.deleteVectors,t=this;return n().call(t,U(U({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},JE=class extends p1{constructor(e,n={},t,r){super(e,n,t,r)}from(e){return new f1(this.url,this.headers,e,this.fetch)}get vectors(){return new b1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new g1(this.url+"/iceberg",this.headers,this.fetch)}};var Qd="2.93.2";var to=30*1e3,Xd=3,ef=Xd*to,ZE="http://localhost:9999",QE="supabase.auth.token";var XE={"X-Client-Info":`gotrue-js/${Qd}`};var Tl="X-Supabase-Api-Version",py={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},eC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tC=600*1e3;var Zr=class extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function L(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var tf=class extends Zr{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function nC(e){return L(e)&&e.name==="AuthApiError"}var rn=class extends Zr{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}},An=class extends Zr{constructor(n,t,r,i){super(n,r,i),this.name=t,this.status=r}},ft=class extends An{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function rf(e){return L(e)&&e.name==="AuthSessionMissingError"}var pr=class extends An{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},no=class extends An{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},ro=class extends An{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function rC(e){return L(e)&&e.name==="AuthImplicitGrantRedirectError"}var Ml=class extends An{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},nf=class extends An{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}};var Ss=class extends An{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}};function of(e){return L(e)&&e.name==="AuthRetryableFetchError"}var Al=class extends An{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var io=class extends An{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};var sf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),iC=` 	
\r=`.split(""),D1=(()=>{let e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<iC.length;n+=1)e[iC[n].charCodeAt(0)]=-2;for(let n=0;n<sf.length;n+=1)e[sf[n].charCodeAt(0)]=n;return e})();function oC(e,n,t){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(sf[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(sf[r]),n.queuedBits-=6}}function sC(e,n,t){let r=D1[e];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)t(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function gy(e){let n=[],t=s=>{n.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{S1(s,r,t)};for(let s=0;s<e.length;s+=1)sC(e.charCodeAt(s),i,o);return n.join("")}function E1(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function C1(e,n){for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}E1(r,n)}}function S1(e,n,t){if(n.utf8seq===0){if(e<=127){t(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&t(n.codepoint)}}function Qr(e){let n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};for(let i=0;i<e.length;i+=1)sC(e.charCodeAt(i),t,r);return new Uint8Array(n)}function aC(e){let n=[];return C1(e,t=>n.push(t)),new Uint8Array(n)}function gr(e){let n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};return e.forEach(i=>oC(i,t,r)),oC(null,t,r),n.join("")}function lC(e){return Math.round(Date.now()/1e3)+e}function cC(){return Symbol("auth-callback")}var Ze=()=>typeof window<"u"&&typeof document<"u",oo={tested:!1,writable:!1},af=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(oo.tested)return oo.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),oo.tested=!0,oo.writable=!0}catch{oo.tested=!0,oo.writable=!1}return oo.writable};function uC(e){let n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{n[i]=r}),n}var lf=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),dC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",so=async(e,n,t)=>{await e.setItem(n,JSON.stringify(t))},Xr=async(e,n)=>{let t=await e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}},nt=async(e,n)=>{await e.removeItem(n)},Rl=class e{constructor(){this.promise=new e.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}};Rl.promiseConstructor=Promise;function kl(e){let n=e.split(".");if(n.length!==3)throw new io("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!eC.test(n[r]))throw new io("JWT not in base64url format");return{header:JSON.parse(gy(n[0])),payload:JSON.parse(gy(n[1])),signature:Qr(n[2]),raw:{header:n[0],payload:n[1]}}}async function fC(e){return await new Promise(n=>{setTimeout(()=>n(null),e)})}function hC(e,n){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{let s=await e(o);if(!n(o,null,s)){r(s);return}}catch(s){if(!n(o,s)){i(s);return}}})()})}function I1(e){return("0"+e.toString(16)).substr(-2)}function x1(){let n=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,I1).join("")}async function T1(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function M1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=await T1(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ao(e,n,t=!1){let r=x1(),i=r;t&&(i+="/PASSWORD_RECOVERY"),await so(e,`${n}-code-verifier`,i);let o=await M1(r);return[o,r===o?"plain":"s256"]}var A1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pC(e){let n=e.headers.get(Tl);if(!n||!n.match(A1))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function gC(e){if(!e)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function mC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var R1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lo(e){if(!R1.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cf(){let e={};return new Proxy(e,{get:(n,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){let r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yC(e,n){return new Proxy(e,{get:(t,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,i)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(t,r,i)}})}function my(e){return JSON.parse(JSON.stringify(e))}var co=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),k1=[502,503,504];async function vC(e){var n;if(!dC(e))throw new Ss(co(e),0);if(k1.includes(e.status))throw new Ss(co(e),e.status);let t;try{t=await e.json()}catch(o){throw new rn(co(o),o)}let r,i=pC(e);if(i&&i.getTime()>=py["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Al(co(t),e.status,((n=t.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new ft}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Al(co(t),e.status,t.weak_password.reasons);throw new tf(co(t),e.status||500,r)}var N1=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function V(e,n,t,r){var i;let o=Object.assign({},r?.headers);o[Tl]||(o[Tl]=py["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await O1(e,n,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function O1(e,n,t,r,i,o){let s=N1(n,r,i,o),a;try{a=await e(t,Object.assign({},s))}catch(l){throw console.error(l),new Ss(co(l),0)}if(a.ok||await vC(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await vC(l)}}function on(e){var n;let t=null;P1(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=lC(e.expires_in)));let r=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:r},error:null}}function yy(e){let n=on(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(n.data.weak_password=e.weak_password),n}function Wn(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function bC(e){return{data:e,error:null}}function _C(e){let{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=e,s=mi(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function vy(e){return e}function P1(e){return e.access_token&&e.refresh_token&&e.expires_in}var uf=["global","local","others"];var Is=class{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=lf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,t=uf[0]){if(uf.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uf.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,t={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Wn})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{let{options:t}=n,r=mi(n,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:_C,redirectTo:t?.redirectTo})}catch(t){if(L(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(n){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Wn})}catch(t){if(L(t))return{data:{user:null},error:t};throw t}}async listUsers(n){var t,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:vy});if(u.error)throw u.error;let d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(L(c))return{data:{users:[]},error:c};throw c}}async getUserById(n){lo(n);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Wn})}catch(t){if(L(t))return{data:{user:null},error:t};throw t}}async updateUserById(n,t){lo(n);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:Wn})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,t=!1){lo(n);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:Wn})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){lo(n.userId);try{let{data:t,error:r}=await V(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(L(t))return{data:null,error:t};throw t}}async _deleteFactor(n){lo(n.userId),lo(n.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(L(t))return{data:null,error:t};throw t}}async _listOAuthClients(n){var t,r,i,o,s,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=await V(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:vy});if(u.error)throw u.error;let d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);c[`${m}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(L(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(n){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(L(t))return{data:null,error:t};throw t}}async _getOAuthClient(n){try{return await V(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(L(t))return{data:null,error:t};throw t}}async _updateOAuthClient(n,t){try{return await V(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await V(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(L(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(n){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(L(t))return{data:null,error:t};throw t}}};function by(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}var uo={debug:!!(globalThis&&af()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Nl=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},df=class extends Nl{};async function _y(e,n,t){uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),uo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await t()}finally{uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(n===0)throw uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new df(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(uo.debug)try{let o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function wC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function wy(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function DC(e){return parseInt(e,16)}function EC(e){let n=new TextEncoder().encode(e);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function CC(e){var n;let{chainId:t,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((n=e.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let f=wy(e.address),p=u?`${u}://${r}`:r,g=e.statement?`${e.statement}
`:"",m=`${p} wants you to sign in with your Ethereum account:
${f}

${g}`,y=`URI: ${d}
Version: ${h}
Chain ID: ${t}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let v=`
Resources:`;for(let D of c){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);v+=`
- ${D}`}y+=v}return`${m}
${y}`}var Oe=class extends Error{constructor({message:n,code:t,cause:r,name:i}){var o;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}},fo=class extends Oe{constructor(n,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:n}),this.name="WebAuthnUnknownError",this.originalError=t}};function SC({error:e,options:n}){var t,r,i;let{publicKey:o}=n;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Oe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Oe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(n.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Oe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Oe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Oe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Oe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Oe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let s=window.location.hostname;if(Dy(s)){if(o.rp.id!==s)return new Oe({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Oe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Oe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function IC({error:e,options:n}){let{publicKey:t}=n;if(!t)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Oe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(Dy(r)){if(t.rpId!==r)return new Oe({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Oe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Ey=class{createNewAbortSignal(){if(this.controller){let t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}let n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){let n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}},F1=new Ey;function TC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:n,user:t,excludeCredentials:r}=e,i=mi(e,["challenge","user","excludeCredentials"]),o=Qr(n).buffer,s=Object.assign(Object.assign({},t),{id:Qr(t.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){let c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Qr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function MC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:n,allowCredentials:t}=e,r=mi(e,["challenge","allowCredentials"]),i=Qr(n).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let s=0;s<t.length;s++){let a=t[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Qr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function AC(e){var n;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let t=e;return{id:e.id,rawId:e.id,response:{attestationObject:gr(new Uint8Array(e.response.attestationObject)),clientDataJSON:gr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(n=t.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function RC(e){var n;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let t=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:gr(new Uint8Array(i.authenticatorData)),clientDataJSON:gr(new Uint8Array(i.clientDataJSON)),signature:gr(new Uint8Array(i.signature)),userHandle:i.userHandle?gr(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=t.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Dy(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function xC(){var e,n;return!!(Ze()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function L1(e){try{let n=await navigator.credentials.create(e);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new fo("Browser returned unexpected credential type",n)}:{data:null,error:new fo("Empty credential response",n)}}catch(n){return{data:null,error:SC({error:n,options:e})}}}async function j1(e){try{let n=await navigator.credentials.get(e);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new fo("Browser returned unexpected credential type",n)}:{data:null,error:new fo("Empty credential response",n)}}catch(n){return{data:null,error:IC({error:n,options:e})}}}var V1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},B1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ff(...e){let n=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of e)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(t(s))r[o]=s;else if(n(s)){let a=r[o];n(a)?r[o]=ff(a,s):r[o]=ff(s)}else r[o]=s}return r}function U1(e,n){return ff(V1,e,n||{})}function $1(e,n){return ff(B1,e,n||{})}var hf=class{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:t,friendlyName:r,signal:i},o){try{let{data:s,error:a}=await this.client.mfa.challenge({factorId:n,webauthn:t});if(!s)return{data:null,error:a};let l=i??F1.createNewAbortSignal();if(s.webauthn.type==="create"){let{user:c}=s.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{let c=U1(s.webauthn.credential_options.publicKey,o?.create),{data:u,error:d}=await L1({publicKey:c,signal:l});return u?{data:{factorId:n,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{let c=$1(s.webauthn.credential_options.publicKey,o?.request),{data:u,error:d}=await j1(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:n,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(s){return L(s)?{data:null,error:s}:{data:null,error:new rn("Unexpected error in challenge",s)}}}async _verify({challengeId:n,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new Zr("rpId is required for WebAuthn authentication")};try{if(!xC())return{data:null,error:new rn("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this.challenge({factorId:n,webauthn:{rpId:t,rpOrigins:r},signal:i},{request:o});if(!s)return{data:null,error:a};let{webauthn:l}=s;return this._verify({factorId:n,challengeId:s.challengeId,webauthn:{type:l.type,rpId:t,rpOrigins:r,credential_response:l.credential_response}})}catch(s){return L(s)?{data:null,error:s}:{data:null,error:new rn("Unexpected error in authenticate",s)}}}async _register({friendlyName:n,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new Zr("rpId is required for WebAuthn registration")};try{if(!xC())return{data:null,error:new rn("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this._enroll({friendlyName:n});if(!s)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===n&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};let{data:l,error:c}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:t,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(s){return L(s)?{data:null,error:s}:{data:null,error:new rn("Unexpected error in register",s)}}}};wC();var H1={url:ZE,storageKey:QE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:XE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function kC(e,n,t){return await t()}var xs={},z1=(()=>{class e{get jwks(){var t,r;return(r=(t=xs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=xs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{cachedAt:t})}constructor(t){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},H1),t);if(this.storageKey=s.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Ze()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Is({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=lf(s.fetch),this.lock=s.lock||kC,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Ze()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=_y:this.lock=kC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new hf(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:af()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=by(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=by(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Qd}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},i="none";if(Ze()&&(r=uC(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),Ze()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=await this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),rC(s)){let c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return{error:s}}let{session:a,redirectType:l}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return L(r)?this._returnResult({error:r}):this._returnResult({error:new rn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,i,o;try{let s=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:on}),{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(L(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,i,o;try{let s;if("email"in t){let{email:d,password:h,options:f}=t,p=null,g=null;this.flowType==="pkce"&&([p,g]=await ao(this.storage,this.storageKey)),s=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:g},xform:on})}else if("phone"in t){let{phone:d,password:h,options:f}=t;s=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:on})}else throw new no("You must provide either an email or phone number and a password");let{data:a,error:l}=s;if(l||!a)return await nt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});let c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(await nt(this.storage,`${this.storageKey}-code-verifier`),L(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){let{email:s,password:a,options:l}=t;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:yy})}else if("phone"in t){let{phone:s,password:a,options:l}=t;r=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:yy})}else throw new no("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new pr;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(L(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,i,o,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){let{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,i,o,s,a,l,c,u,d,h,f;let p,g;if("message"in t)p=t.message,g=t.signature;else{let{chain:m,wallet:y,statement:v,options:D}=t,_;if(Ze())if(typeof y=="object")_=y;else{let B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")_=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}let E=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let T=wy(S[0]),I=(i=D?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!I){let B=await _.request({method:"eth_chainId"});I=DC(B)}let F={domain:E.host,address:T,statement:v,uri:E.href,version:"1",chainId:I,nonce:(o=D?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=D?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=D?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=D?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=D?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=D?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=CC(F),g=await _.request({method:"personal_sign",params:[EC(p),T]})}try{let{data:m,error:y}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:on});if(y)throw y;if(!m||!m.session||!m.user){let v=new pr;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:y})}catch(m){if(L(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,i,o,s,a,l,c,u,d,h,f,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{let{chain:y,wallet:v,statement:D,options:_}=t,E;if(Ze())if(typeof v=="object")E=v;else{let T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))E=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=v}let S=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){let T=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),D?{statement:D}:null)),I;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")I=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)I=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)g=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),m=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(o=(i=_?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=_?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((l=_?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((c=_?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(d=_?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);let T=await E.signMessage(new TextEncoder().encode(g),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=T}}try{let{data:y,error:v}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:gr(m)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:on});if(v)throw v;if(!y||!y.session||!y.user){let D=new pr;return this._returnResult({data:{user:null,session:null},error:D})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(L(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){let r=await Xr(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new nf;let{data:s,error:a}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:on});if(await nt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let l=new pr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(await nt(this.storage,`${this.storageKey}-code-verifier`),L(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=t,l=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:on}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){let d=new pr;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(L(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,i,o,s,a;try{if("email"in t){let{email:l,options:c}=t,u=null,d=null;this.flowType==="pkce"&&([u,d]=await ao(this.storage,this.storageKey));let{error:h}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){let{phone:l,options:c}=t,{data:u,error:d}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(o=c?.data)!==null&&o!==void 0?o:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new no("You must provide either an email or phone number.")}catch(l){if(await nt(this.storage,`${this.storageKey}-code-verifier`),L(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,i;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(i=t.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:l}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:on});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(L(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var r,i,o,s,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await ao(this.storage,this.storageKey));let u=await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:bC});return!((s=u.data)===null||s===void 0)&&s.url&&Ze()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await nt(this.storage,`${this.storageKey}-code-verifier`),L(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{let{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new ft;let{error:o}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(L(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{let r=`${this.url}/resend`;if("email"in t){let{email:i,type:o,options:s}=t,{error:a}=await V(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){let{phone:i,type:o,options:s}=t,{data:a,error:l}=await V(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:l})}throw new no("You must provide either an email or phone number and a type")}catch(r){if(L(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){let o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=await Xr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};let i=t.expires_at?t.expires_at*1e3-Date.now()<ef:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){let a=await Xr(this.userStorage,this.storageKey+"-user");a?.user?t.user=a.user:t.user=cf()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};t.user=yC(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}let{data:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;let r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Wn}):await this._useSession(async r=>{var i,o,s;let{data:a,error:l}=r;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ft}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Wn})})}catch(r){if(L(r))return rf(r)&&(await this._removeSession(),await nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async i=>{let{data:o,error:s}=i;if(s)throw s;if(!o.session)throw new ft;let a=o.session,l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ao(this.storage,this.storageKey));let{data:u,error:d}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Wn});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(i){if(await nt(this.storage,`${this.storageKey}-code-verifier`),L(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ft;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=kl(t.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};s=l}else{let{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(L(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var i;if(!t){let{data:a,error:l}=r;if(l)throw l;t=(i=a.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new ft;let{data:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(L(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ze())throw new ro("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ro(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ml("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ro("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ml("No code detected.");let{data:D,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;let E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:D.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new ro("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(l),f=d+h;c&&(f=parseInt(c));let p=f-d;p*1e3<=to&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);let g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);let{data:m,error:y}=await this._getUser(s);if(y)throw y;let v={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(i){if(L(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){let r=await Xr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s&&!rf(s))return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:l}=await this.admin.signOut(a,t);if(l&&!(nC(l)&&(l.status===404||l.status===401||l.status===403)||rf(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){let r=cC(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async r=>{var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await ao(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await nt(this.storage,`${this.storageKey}-code-verifier`),L(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{let{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{let{data:i,error:o}=await this._useSession(async s=>{var a,l,c,u,d;let{data:h,error:f}=s;if(f)throw f;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(o)throw o;return Ze()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(L(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:l,token:c,access_token:u,nonce:d}=t,h=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:on}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new pr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(o){if(await nt(this.storage,`${this.storageKey}-code-verifier`),L(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)throw a;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return await hC(async o=>(o>0&&await fC(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:on})),(o,s)=>{let a=200*Math.pow(2,o);return s&&of(s)&&Date.now()+a-i<to})}catch(i){if(this._debug(r,"error",i),L(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){let i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),Ze()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=await Xr(this.storage,this.storageKey);if(o&&this.userStorage){let a=await Xr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},await so(this.userStorage,this.storageKey+"-user",a)),o.user=(t=a?.user)!==null&&t!==void 0?t:cf()}else if(o&&!o.user&&!o.user){let a=await Xr(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,await nt(this.storage,this.storageKey+"-user"),await so(this.storage,this.storageKey,o)):o.user=cf()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ef;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${ef}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=await this._callRefreshToken(o.refresh_token);a&&(console.error(a),of(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:l}=await this._getUser(o.access_token);!l&&a?.user?(o.user=a.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var r,i;if(!t)throw new ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Rl;let{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new ft;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(o,"error",s),L(s)){let a={data:null,error:s};return of(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,i=!0){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await nt(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await so(this.userStorage,this.storageKey+"-user",{user:r.user});let o=Object.assign({},r);delete o.user;let s=my(o);await so(this.storage,this.storageKey,s)}else{let o=my(r);await so(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await nt(this.storage,this.storageKey),await nt(this.storage,this.storageKey+"-code-verifier"),await nt(this.storage,this.storageKey+"-user"),this.userStorage&&await nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ze()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),to);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);let r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);let r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let t=Date.now();try{return await this._useSession(async r=>{let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-t)/to);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${to}ms, refresh threshold is ${Xd} ticks`),o<=Xd&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Nl)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,i){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=await ao(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(l.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):await V(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await V(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((o=c?.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?AC(t.webauthn.credential_response):RC(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:TC(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:MC(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){let{data:r,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;let{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(t=r?.factors)!==null&&t!==void 0?t:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,i,o,s;if(t)try{let{payload:p}=kl(t),g=null;p.aal&&(g=p.aal);let m=g,{data:{user:y},error:v}=await this.getUser(t);if(v)return this._returnResult({data:null,error:v});((i=(r=y?.factors)===null||r===void 0?void 0:r.filter(E=>E.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");let _=p.amr||[];return{data:{currentLevel:g,nextLevel:m,currentAuthenticationMethods:_},error:null}}catch(p){if(L(p))return this._returnResult({data:null,error:p});throw p}let{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:c}=kl(a.access_token),u=null;c.aal&&(u=c.aal);let d=u;((s=(o=a.user.factors)===null||o===void 0?void 0:o.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");let f=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await V(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ft})})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async i=>{let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new ft});let a=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Ze()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(i){if(L(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,r){try{return await this._useSession(async i=>{let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new ft});let a=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Ze()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(i){if(L(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{let{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?await V(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ft})})}catch(t){if(L(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(await V(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ft})})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let i=r.keys.find(l=>l.kid===t);if(i)return i;let o=Date.now();if(i=this.jwks.keys.find(l=>l.kid===t),i&&this.jwks_cached_at+tC>o)return i;let{data:s,error:a}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=o,i=s.keys.find(l=>l.kid===t),!i)?null:i}async getClaims(t,r={}){try{let i=t;if(!i){let{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});i=p.session.access_token}let{header:o,payload:s,signature:a,raw:{header:l,payload:c}}=kl(i);r?.allowExpired||gC(s.exp);let u=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){let{error:p}=await this.getUser(i);if(p)throw p;return{data:{claims:s,header:o,signature:a},error:null}}let d=mC(o.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,aC(`${l}.${c}`)))throw new io("Invalid JWT signature");return{data:{claims:s,header:o,signature:a},error:null}}catch(i){if(L(i))return this._returnResult({data:null,error:i});throw i}}}return e.nextInstanceID={},e})(),Cy=z1;var W1=Cy,Sy=W1;var G1="2.93.2",Ol="";typeof Deno<"u"?Ol="deno":typeof document<"u"?Ol="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ol="react-native":Ol="node";var q1={"X-Client-Info":`supabase-js-${Ol}/${G1}`},K1={headers:q1},Y1={schema:"public"},J1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Z1={};function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Pl(e)}function Q1(e,n){if(Pl(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n||"default");if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function X1(e){var n=Q1(e,"string");return Pl(n)=="symbol"?n:n+""}function eF(e,n,t){return(n=X1(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function NC(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function Ve(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?NC(Object(t),!0).forEach(function(r){eF(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):NC(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var tF=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),nF=()=>Headers,rF=(e,n,t)=>{let r=tF(t),i=nF();return async(o,s)=>{var a;let l=(a=await n())!==null&&a!==void 0?a:e,c=new i(s?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Ve(Ve({},s),{},{headers:c}))}};function iF(e){return e.endsWith("/")?e:e+"/"}function oF(e,n){var t,r;let{db:i,auth:o,realtime:s,global:a}=e,{db:l,auth:c,realtime:u,global:d}=n,h={db:Ve(Ve({},l),i),auth:Ve(Ve({},c),o),realtime:Ve(Ve({},u),s),storage:{},global:Ve(Ve(Ve({},d),a),{},{headers:Ve(Ve({},(t=d?.headers)!==null&&t!==void 0?t:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function sF(e){let n=e?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(iF(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var aF=class extends Sy{constructor(e){super(e)}},lF=class{constructor(e,n,t){var r,i;this.supabaseUrl=e,this.supabaseKey=n;let o=sF(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);let s=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:Y1,realtime:Z1,auth:Ve(Ve({},J1),{},{storageKey:s}),global:K1},l=oF(t??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=rF(n,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Ve({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new FE(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new JE(this.storageUrl.href,this.headers,this.fetch,t?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new yl(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,t)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,n,t;if(e.accessToken)return await e.accessToken();let{data:r}=await e.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:t,storage:r,userStorage:i,storageKey:o,flowType:s,lock:a,debug:l,throwOnError:c},u,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aF({url:this.authUrl.href,headers:Ve(Ve({},h),u),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:t,storage:r,userStorage:i,flowType:s,lock:a,debug:l,throwOnError:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Dl(this.realtimeUrl.href,Ve(Ve({},e),{},{params:Ve(Ve({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,n)=>{this._handleTokenChanged(e,"CLIENT",n?.access_token)})}_handleTokenChanged(e,n,t){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}},OC=(e,n,t)=>new lF(e,n,t);function cF(){if(typeof window<"u")return!1;let e=globalThis.process;if(!e)return!1;let n=e.version;if(n==null)return!1;let t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}cF()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var oe=OC("https://kmbhzpfwhzxpobhjbyvt.supabase.co","sb_publishable_hu-YJAvolnoKaMh2dvPC1w_Ou_W19Av");function uF(e,n){if(e&1&&(w(0,"div",20),C(1),b()),e&2){let t=He();A(),_e(" ",t.errorMessage," ")}}var pf=class e{constructor(n,t){this.router=n;this.cdr=t}username="";password="";errorMessage="";loading=!1;showPassword=!1;async login(){this.errorMessage="",this.loading=!0;let[n,t]=await Promise.all([oe.from("users").select("id").eq("username",this.username).eq("password",this.password).limit(1).maybeSingle(),oe.from("nutritionists").select("id").eq("username",this.username).eq("password",this.password).limit(1).maybeSingle()]);if(this.loading=!1,n.data){if(n.data){localStorage.setItem("userId",n.data.id.toString()),this.router.navigate(["/user-dashboard"]);return}return}if(t.data){localStorage.setItem("nutri_id",t.data.id),this.router.navigate(["/nutri-dashboard"]);return}this.errorMessage="Invalid username or password",this.cdr.detectChanges()}goToSignUp(){this.router.navigate(["/sign-up"])}static \u0275fac=function(t){return new(t||e)(O(Ce),O(Ee))};static \u0275cmp=xe({type:e,selectors:[["app-home"]],decls:27,vars:6,consts:[["form","ngForm"],[1,"page-bg"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],[1,"navbar-brand"],[1,"container","vh-100","d-flex","align-items-center","justify-content-center"],[1,"row","shadow","rounded","overflow-hidden",2,"max-width","900px","width","100%"],[1,"col-md-6","p-0","d-none","d-md-block"],["src","https://lipsum.app/random/640x880/","alt","Loading...",1,"img-fluid","h-100","w-100",2,"object-fit","cover"],[1,"col-md-6","bg-white","p-5","d-flex","flex-column","justify-content-center"],[1,"mb-4","text-center"],[3,"ngSubmit"],["type","email","placeholder","Email","name","username","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],[1,"input-group","mb-3"],["placeholder","Password","name","password","required","",1,"form-control",3,"ngModelChange","type","ngModel"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"btn","btn-primary","w-100","mb-3",3,"disabled"],["class","text-danger text-center mb-2",4,"ngIf"],[1,"text-center"],["role","button",3,"click"],[1,"text-danger","text-center","mb-2"]],template:function(t,r){if(t&1){let i=Mt();w(0,"div",1)(1,"nav",2)(2,"div",3)(3,"a",4),C(4,"CalTrack"),b()()(),w(5,"div",5)(6,"div",6)(7,"div",7),$e(8,"img",8),b(),w(9,"div",9)(10,"h3",10),C(11,"Sign In"),b(),w(12,"form",11,0),P("ngSubmit",function(){return Z(i),Q(r.login())}),w(14,"input",12),le("ngModelChange",function(s){return Z(i),ue(r.username,s)||(r.username=s),Q(s)}),b(),w(15,"div",13)(16,"input",14),le("ngModelChange",function(s){return Z(i),ue(r.password,s)||(r.password=s),Q(s)}),b(),w(17,"button",15),P("click",function(){return Z(i),Q(r.showPassword=!r.showPassword)}),C(18," \u{1F441} "),b()(),w(19,"button",16),C(20),b()(),je(21,uF,2,1,"div",17),w(22,"div",18)(23,"small"),C(24," Don\u2019t have an account? "),w(25,"a",19),P("click",function(){return Z(i),Q(r.goToSignUp())}),C(26,"Sign up"),b()()()()()()()}if(t&2){let i=Ra(13);A(14),ae("ngModel",r.username),A(2),ee("type",r.showPassword?"text":"password"),ae("ngModel",r.password),A(3),ee("disabled",i.invalid||r.loading),A(),_e(" ",r.loading?"Checking...":"Log In"," "),A(),ee("ngIf",r.errorMessage)}},dependencies:[qe,ut,Dt,Kr,_t,wt,qr,fr,dt,dr],styles:[".page-bg[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#498d8d,#e6f6f4,#eefcff)}"]})};function jl(e){return e+.5|0}var ei=(e,n,t)=>Math.max(Math.min(e,t),n);function Fl(e){return ei(jl(e*2.55),0,255)}function ti(e){return ei(jl(e*255),0,255)}function mr(e){return ei(jl(e/2.55)/100,0,1)}function PC(e){return ei(jl(e*100),0,100)}var sn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},xy=[..."0123456789ABCDEF"],dF=e=>xy[e&15],fF=e=>xy[(e&240)>>4]+xy[e&15],gf=e=>(e&240)>>4===(e&15),hF=e=>gf(e.r)&&gf(e.g)&&gf(e.b)&&gf(e.a);function pF(e){var n=e.length,t;return e[0]==="#"&&(n===4||n===5?t={r:255&sn[e[1]]*17,g:255&sn[e[2]]*17,b:255&sn[e[3]]*17,a:n===5?sn[e[4]]*17:255}:(n===7||n===9)&&(t={r:sn[e[1]]<<4|sn[e[2]],g:sn[e[3]]<<4|sn[e[4]],b:sn[e[5]]<<4|sn[e[6]],a:n===9?sn[e[7]]<<4|sn[e[8]]:255})),t}var gF=(e,n)=>e<255?n(e):"";function mF(e){var n=hF(e)?dF:fF;return e?"#"+n(e.r)+n(e.g)+n(e.b)+gF(e.a,n):void 0}var yF=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function VC(e,n,t){let r=n*Math.min(t,1-t),i=(o,s=(o+e/30)%12)=>t-r*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function vF(e,n,t){let r=(i,o=(i+e/60)%6)=>t-t*n*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function bF(e,n,t){let r=VC(e,1,.5),i;for(n+t>1&&(i=1/(n+t),n*=i,t*=i),i=0;i<3;i++)r[i]*=1-n-t,r[i]+=n;return r}function _F(e,n,t,r,i){return e===i?(n-t)/r+(n<t?6:0):n===i?(t-e)/r+2:(e-n)/r+4}function Ty(e){let t=e.r/255,r=e.g/255,i=e.b/255,o=Math.max(t,r,i),s=Math.min(t,r,i),a=(o+s)/2,l,c,u;return o!==s&&(u=o-s,c=a>.5?u/(2-o-s):u/(o+s),l=_F(t,r,i,u,o),l=l*60+.5),[l|0,c||0,a]}function My(e,n,t,r){return(Array.isArray(n)?e(n[0],n[1],n[2]):e(n,t,r)).map(ti)}function Ay(e,n,t){return My(VC,e,n,t)}function wF(e,n,t){return My(bF,e,n,t)}function DF(e,n,t){return My(vF,e,n,t)}function BC(e){return(e%360+360)%360}function EF(e){let n=yF.exec(e),t=255,r;if(!n)return;n[5]!==r&&(t=n[6]?Fl(+n[5]):ti(+n[5]));let i=BC(+n[2]),o=+n[3]/100,s=+n[4]/100;return n[1]==="hwb"?r=wF(i,o,s):n[1]==="hsv"?r=DF(i,o,s):r=Ay(i,o,s),{r:r[0],g:r[1],b:r[2],a:t}}function CF(e,n){var t=Ty(e);t[0]=BC(t[0]+n),t=Ay(t),e.r=t[0],e.g=t[1],e.b=t[2]}function SF(e){if(!e)return;let n=Ty(e),t=n[0],r=PC(n[1]),i=PC(n[2]);return e.a<255?`hsla(${t}, ${r}%, ${i}%, ${mr(e.a)})`:`hsl(${t}, ${r}%, ${i}%)`}var FC={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},LC={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function IF(){let e={},n=Object.keys(LC),t=Object.keys(FC),r,i,o,s,a;for(r=0;r<n.length;r++){for(s=a=n[r],i=0;i<t.length;i++)o=t[i],a=a.replace(o,FC[o]);o=parseInt(LC[s],16),e[a]=[o>>16&255,o>>8&255,o&255]}return e}var mf;function xF(e){mf||(mf=IF(),mf.transparent=[0,0,0,0]);let n=mf[e.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:n.length===4?n[3]:255}}var TF=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function MF(e){let n=TF.exec(e),t=255,r,i,o;if(n){if(n[7]!==r){let s=+n[7];t=n[8]?Fl(s):ei(s*255,0,255)}return r=+n[1],i=+n[3],o=+n[5],r=255&(n[2]?Fl(r):ei(r,0,255)),i=255&(n[4]?Fl(i):ei(i,0,255)),o=255&(n[6]?Fl(o):ei(o,0,255)),{r,g:i,b:o,a:t}}}function AF(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${mr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}var Iy=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Ts=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function RF(e,n,t){let r=Ts(mr(e.r)),i=Ts(mr(e.g)),o=Ts(mr(e.b));return{r:ti(Iy(r+t*(Ts(mr(n.r))-r))),g:ti(Iy(i+t*(Ts(mr(n.g))-i))),b:ti(Iy(o+t*(Ts(mr(n.b))-o))),a:e.a+t*(n.a-e.a)}}function yf(e,n,t){if(e){let r=Ty(e);r[n]=Math.max(0,Math.min(r[n]+r[n]*t,n===0?360:1)),r=Ay(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function UC(e,n){return e&&Object.assign(n||{},e)}function jC(e){var n={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(n={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(n.a=ti(e[3]))):(n=UC(e,{r:0,g:0,b:0,a:1}),n.a=ti(n.a)),n}function kF(e){return e.charAt(0)==="r"?MF(e):EF(e)}var Ll=class e{constructor(n){if(n instanceof e)return n;let t=typeof n,r;t==="object"?r=jC(n):t==="string"&&(r=pF(n)||xF(n)||kF(n)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var n=UC(this._rgb);return n&&(n.a=mr(n.a)),n}set rgb(n){this._rgb=jC(n)}rgbString(){return this._valid?AF(this._rgb):void 0}hexString(){return this._valid?mF(this._rgb):void 0}hslString(){return this._valid?SF(this._rgb):void 0}mix(n,t){if(n){let r=this.rgb,i=n.rgb,o,s=t===o?.5:t,a=2*s-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,r.r=255&c*r.r+o*i.r+.5,r.g=255&c*r.g+o*i.g+.5,r.b=255&c*r.b+o*i.b+.5,r.a=s*r.a+(1-s)*i.a,this.rgb=r}return this}interpolate(n,t){return n&&(this._rgb=RF(this._rgb,n._rgb,t)),this}clone(){return new e(this.rgb)}alpha(n){return this._rgb.a=ti(n),this}clearer(n){let t=this._rgb;return t.a*=1-n,this}greyscale(){let n=this._rgb,t=jl(n.r*.3+n.g*.59+n.b*.11);return n.r=n.g=n.b=t,this}opaquer(n){let t=this._rgb;return t.a*=1+n,this}negate(){let n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return yf(this._rgb,2,n),this}darken(n){return yf(this._rgb,2,-n),this}saturate(n){return yf(this._rgb,1,n),this}desaturate(n){return yf(this._rgb,1,-n),this}rotate(n){return CF(this._rgb,n),this}};function Kn(){}var QC=(()=>{let e=0;return()=>e++})();function te(e){return e==null}function Se(e){if(Array.isArray&&Array.isArray(e))return!0;let n=Object.prototype.toString.call(e);return n.slice(0,7)==="[object"&&n.slice(-6)==="Array]"}function ne(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Pe(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function jt(e,n){return Pe(e)?e:n}function $(e,n){return typeof e>"u"?n:e}var XC=(e,n)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/n,Oy=(e,n)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*n:+e;function we(e,n,t){if(e&&typeof e.call=="function")return e.apply(t,n)}function ve(e,n,t,r){let i,o,s;if(Se(e))if(o=e.length,r)for(i=o-1;i>=0;i--)n.call(t,e[i],i);else for(i=0;i<o;i++)n.call(t,e[i],i);else if(ne(e))for(s=Object.keys(e),o=s.length,i=0;i<o;i++)n.call(t,e[s[i]],s[i])}function Ul(e,n){let t,r,i,o;if(!e||!n||e.length!==n.length)return!1;for(t=0,r=e.length;t<r;++t)if(i=e[t],o=n[t],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function wf(e){if(Se(e))return e.map(wf);if(ne(e)){let n=Object.create(null),t=Object.keys(e),r=t.length,i=0;for(;i<r;++i)n[t[i]]=wf(e[t[i]]);return n}return e}function eS(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function NF(e,n,t,r){if(!eS(e))return;let i=n[e],o=t[e];ne(i)&&ne(o)?As(i,o,r):n[e]=wf(o)}function As(e,n,t){let r=Se(n)?n:[n],i=r.length;if(!ne(e))return e;t=t||{};let o=t.merger||NF,s;for(let a=0;a<i;++a){if(s=r[a],!ne(s))continue;let l=Object.keys(s);for(let c=0,u=l.length;c<u;++c)o(l[c],e,s,t)}return e}function ks(e,n){return As(e,n,{merger:OF})}function OF(e,n,t){if(!eS(e))return;let r=n[e],i=t[e];ne(r)&&ne(i)?ks(r,i):Object.prototype.hasOwnProperty.call(n,e)||(n[e]=wf(i))}var $C={"":e=>e,x:e=>e.x,y:e=>e.y};function PF(e){let n=e.split("."),t=[],r="";for(let i of n)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function FF(e){let n=PF(e);return t=>{for(let r of n){if(r==="")break;t=t&&t[r]}return t}}function br(e,n){return($C[n]||($C[n]=FF(n)))(e)}function Sf(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Ns=e=>typeof e<"u",yr=e=>typeof e=="function",Py=(e,n)=>{if(e.size!==n.size)return!1;for(let t of e)if(!n.has(t))return!1;return!0};function tS(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}var ce=Math.PI,Ie=2*ce,LF=Ie+ce,Df=Number.POSITIVE_INFINITY,jF=ce/180,Be=ce/2,ho=ce/4,HC=ce*2/3,vr=Math.log10,Rn=Math.sign;function Os(e,n,t){return Math.abs(e-n)<t}function Fy(e){let n=Math.round(e);e=Os(e,n,e/1e3)?n:e;let t=Math.pow(10,Math.floor(vr(e))),r=e/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function nS(e){let n=[],t=Math.sqrt(e),r;for(r=1;r<t;r++)e%r===0&&(n.push(r),n.push(e/r));return t===(t|0)&&n.push(t),n.sort((i,o)=>i-o).pop(),n}function VF(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function mo(e){return!VF(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function rS(e,n){let t=Math.round(e);return t-n<=e&&t+n>=e}function Ly(e,n,t){let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r][t],isNaN(o)||(n.min=Math.min(n.min,o),n.max=Math.max(n.max,o))}function an(e){return e*(ce/180)}function If(e){return e*(180/ce)}function jy(e){if(!Pe(e))return;let n=1,t=0;for(;Math.round(e*n)/n!==e;)n*=10,t++;return t}function Vy(e,n){let t=n.x-e.x,r=n.y-e.y,i=Math.sqrt(t*t+r*r),o=Math.atan2(r,t);return o<-.5*ce&&(o+=Ie),{angle:o,distance:i}}function Ef(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function BF(e,n){return(e-n+LF)%Ie-ce}function ht(e){return(e%Ie+Ie)%Ie}function Ps(e,n,t,r){let i=ht(e),o=ht(n),s=ht(t),a=ht(o-i),l=ht(s-i),c=ht(i-o),u=ht(i-s);return i===o||i===s||r&&o===s||a>l&&c<u}function Qe(e,n,t){return Math.max(n,Math.min(t,e))}function iS(e){return Qe(e,-32768,32767)}function Yn(e,n,t,r=1e-6){return e>=Math.min(n,t)-r&&e<=Math.max(n,t)+r}function xf(e,n,t){t=t||(s=>e[s]<n);let r=e.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,t(o)?i=o:r=o;return{lo:i,hi:r}}var Gn=(e,n,t,r)=>xf(e,t,r?i=>{let o=e[i][n];return o<t||o===t&&e[i+1][n]===t}:i=>e[i][n]<t),oS=(e,n,t)=>xf(e,t,r=>e[r][n]>=t);function sS(e,n,t){let r=0,i=e.length;for(;r<i&&e[r]<n;)r++;for(;i>r&&e[i-1]>t;)i--;return r>0||i<e.length?e.slice(r,i):e}var aS=["push","pop","shift","splice","unshift"];function lS(e,n){if(e._chartjs){e._chartjs.listeners.push(n);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),aS.forEach(t=>{let r="_onData"+Sf(t),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...o){let s=i.apply(this,o);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...o)}),s}})})}function By(e,n){let t=e._chartjs;if(!t)return;let r=t.listeners,i=r.indexOf(n);i!==-1&&r.splice(i,1),!(r.length>0)&&(aS.forEach(o=>{delete e[o]}),delete e._chartjs)}function Uy(e){let n=new Set(e);return n.size===e.length?e:Array.from(n)}var $y=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function Hy(e,n){let t=[],r=!1;return function(...i){t=i,r||(r=!0,$y.call(window,()=>{r=!1,e.apply(n,t)}))}}function cS(e,n){let t;return function(...r){return n?(clearTimeout(t),t=setTimeout(e,n,r)):e.apply(this,r),n}}var Tf=e=>e==="start"?"left":e==="end"?"right":"center",pt=(e,n,t)=>e==="start"?n:e==="end"?t:(n+t)/2,uS=(e,n,t,r)=>e===(r?"left":"right")?t:e==="center"?(n+t)/2:n;function zy(e,n,t){let r=n.length,i=0,o=r;if(e._sorted){let{iScale:s,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=s.axis,{min:d,max:h,minDefined:f,maxDefined:p}=s.getUserBounds();if(f){if(i=Math.min(Gn(l,u,d).lo,t?r:Gn(n,u,s.getPixelForValue(d)).lo),c){let g=l.slice(0,i+1).reverse().findIndex(m=>!te(m[a.axis]));i-=Math.max(0,g)}i=Qe(i,0,r-1)}if(p){let g=Math.max(Gn(l,s.axis,h,!0).hi+1,t?0:Gn(n,u,s.getPixelForValue(h),!0).hi+1);if(c){let m=l.slice(g-1).findIndex(y=>!te(y[a.axis]));g+=Math.max(0,m)}o=Qe(g,i,r)-i}else o=r-i}return{start:i,count:o}}function Wy(e){let{xScale:n,yScale:t,_scaleRanges:r}=e,i={xmin:n.min,xmax:n.max,ymin:t.min,ymax:t.max};if(!r)return e._scaleRanges=i,!0;let o=r.xmin!==n.min||r.xmax!==n.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),o}var vf=e=>e===0||e===1,zC=(e,n,t)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-n)*Ie/t)),WC=(e,n,t)=>Math.pow(2,-10*e)*Math.sin((e-n)*Ie/t)+1,Ms={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Be)+1,easeOutSine:e=>Math.sin(e*Be),easeInOutSine:e=>-.5*(Math.cos(ce*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>vf(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>vf(e)?e:zC(e,.075,.3),easeOutElastic:e=>vf(e)?e:WC(e,.075,.3),easeInOutElastic(e){return vf(e)?e:e<.5?.5*zC(e*2,.1125,.45):.5+.5*WC(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let n=1.70158;return(e/=.5)<1?.5*(e*e*(((n*=1.525)+1)*e-n)):.5*((e-=2)*e*(((n*=1.525)+1)*e+n)+2)},easeInBounce:e=>1-Ms.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ms.easeInBounce(e*2)*.5:Ms.easeOutBounce(e*2-1)*.5+.5};function Gy(e){if(e&&typeof e=="object"){let n=e.toString();return n==="[object CanvasPattern]"||n==="[object CanvasGradient]"}return!1}function qy(e){return Gy(e)?e:new Ll(e)}function Ry(e){return Gy(e)?e:new Ll(e).saturate(.5).darken(.1).hexString()}var UF=["x","y","borderWidth","radius","tension"],$F=["color","borderColor","backgroundColor"];function HF(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"}),e.set("animations",{colors:{type:"color",properties:$F},numbers:{type:"number",properties:UF}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}})}function zF(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var GC=new Map;function WF(e,n){n=n||{};let t=e+JSON.stringify(n),r=GC.get(t);return r||(r=new Intl.NumberFormat(e,n),GC.set(t,r)),r}function Fs(e,n,t){return WF(n,t).format(e)}var dS={values(e){return Se(e)?e:""+e},numeric(e,n,t){if(e===0)return"0";let r=this.chart.options.locale,i,o=e;if(t.length>1){let c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),o=GF(e,t)}let s=vr(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Fs(e,r,l)},logarithmic(e,n,t){if(e===0)return"0";let r=t[n].significand||e/Math.pow(10,Math.floor(vr(e)));return[1,2,3,5,10,15].includes(r)||n>.8*t.length?dS.numeric.call(this,e,n,t):""}};function GF(e,n){let t=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(t)>=1&&e!==Math.floor(e)&&(t=e-Math.floor(e)),t}var $l={formatters:dS};function qF(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$l.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"&&n!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"})}var ii=Object.create(null),Mf=Object.create(null);function Vl(e,n){if(!n)return e;let t=n.split(".");for(let r=0,i=t.length;r<i;++r){let o=t[r];e=e[o]||(e[o]=Object.create(null))}return e}function ky(e,n,t){return typeof n=="string"?As(Vl(e,n),t):As(Vl(e,""),n)}var Ny=class{constructor(n,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Ry(i.backgroundColor),this.hoverBorderColor=(r,i)=>Ry(i.borderColor),this.hoverColor=(r,i)=>Ry(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n),this.apply(t)}set(n,t){return ky(this,n,t)}get(n){return Vl(this,n)}describe(n,t){return ky(Mf,n,t)}override(n,t){return ky(ii,n,t)}route(n,t,r,i){let o=Vl(this,n),s=Vl(this,r),a="_"+t;Object.defineProperties(o,{[a]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){let l=this[a],c=s[i];return ne(l)?Object.assign({},c,l):$(l,c)},set(l){this[a]=l}}})}apply(n){n.forEach(t=>t(this))}},Me=new Ny({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[HF,zF,qF]);function KF(e){return!e||te(e.size)||te(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Bl(e,n,t,r,i){let o=n[i];return o||(o=n[i]=e.measureText(i).width,t.push(i)),o>r&&(r=o),r}function fS(e,n,t,r){r=r||{};let i=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==n&&(i=r.data={},o=r.garbageCollect=[],r.font=n),e.save(),e.font=n;let s=0,a=t.length,l,c,u,d,h;for(l=0;l<a;l++)if(d=t[l],d!=null&&!Se(d))s=Bl(e,i,o,s,d);else if(Se(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!Se(h)&&(s=Bl(e,i,o,s,h));e.restore();let f=o.length/2;if(f>t.length){for(l=0;l<f;l++)delete i[o[l]];o.splice(0,f)}return s}function oi(e,n,t){let r=e.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((n-i)*r)/r+i}function Ky(e,n){!n&&!e||(n=n||e.getContext("2d"),n.save(),n.resetTransform(),n.clearRect(0,0,e.width,e.height),n.restore())}function Af(e,n,t,r){Yy(e,n,t,r,null)}function Yy(e,n,t,r,i){let o,s,a,l,c,u,d,h,f=n.pointStyle,p=n.rotation,g=n.radius,m=(p||0)*jF;if(f&&typeof f=="object"&&(o=f.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(t,r),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),f){default:i?e.ellipse(t,r,i/2,g,0,0,Ie):e.arc(t,r,g,0,Ie),e.closePath();break;case"triangle":u=i?i/2:g,e.moveTo(t+Math.sin(m)*u,r-Math.cos(m)*g),m+=HC,e.lineTo(t+Math.sin(m)*u,r-Math.cos(m)*g),m+=HC,e.lineTo(t+Math.sin(m)*u,r-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=g*.516,l=g-c,s=Math.cos(m+ho)*l,d=Math.cos(m+ho)*(i?i/2-c:l),a=Math.sin(m+ho)*l,h=Math.sin(m+ho)*(i?i/2-c:l),e.arc(t-d,r-a,c,m-ce,m-Be),e.arc(t+h,r-s,c,m-Be,m),e.arc(t+d,r+a,c,m,m+Be),e.arc(t-h,r+s,c,m+Be,m+ce),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=i?i/2:l,e.rect(t-u,r-l,2*u,2*l);break}m+=ho;case"rectRot":d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),e.moveTo(t-d,r-a),e.lineTo(t+h,r-s),e.lineTo(t+d,r+a),e.lineTo(t-h,r+s),e.closePath();break;case"crossRot":m+=ho;case"cross":d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),e.moveTo(t-d,r-a),e.lineTo(t+d,r+a),e.moveTo(t+h,r-s),e.lineTo(t-h,r+s);break;case"star":d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),e.moveTo(t-d,r-a),e.lineTo(t+d,r+a),e.moveTo(t+h,r-s),e.lineTo(t-h,r+s),m+=ho,d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),e.moveTo(t-d,r-a),e.lineTo(t+d,r+a),e.moveTo(t+h,r-s),e.lineTo(t-h,r+s);break;case"line":s=i?i/2:Math.cos(m)*g,a=Math.sin(m)*g,e.moveTo(t-s,r-a),e.lineTo(t+s,r+a);break;case"dash":e.moveTo(t,r),e.lineTo(t+Math.cos(m)*(i?i/2:g),r+Math.sin(m)*g);break;case!1:e.closePath();break}e.fill(),n.borderWidth>0&&e.stroke()}}function qn(e,n,t){return t=t||.5,!n||e&&e.x>n.left-t&&e.x<n.right+t&&e.y>n.top-t&&e.y<n.bottom+t}function Hl(e,n){e.save(),e.beginPath(),e.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),e.clip()}function zl(e){e.restore()}function hS(e,n,t,r,i){if(!n)return e.lineTo(t.x,t.y);if(i==="middle"){let o=(n.x+t.x)/2;e.lineTo(o,n.y),e.lineTo(o,t.y)}else i==="after"!=!!r?e.lineTo(n.x,t.y):e.lineTo(t.x,n.y);e.lineTo(t.x,t.y)}function pS(e,n,t,r){if(!n)return e.lineTo(t.x,t.y);e.bezierCurveTo(r?n.cp1x:n.cp2x,r?n.cp1y:n.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function YF(e,n){n.translation&&e.translate(n.translation[0],n.translation[1]),te(n.rotation)||e.rotate(n.rotation),n.color&&(e.fillStyle=n.color),n.textAlign&&(e.textAlign=n.textAlign),n.textBaseline&&(e.textBaseline=n.textBaseline)}function JF(e,n,t,r,i){if(i.strikethrough||i.underline){let o=e.measureText(r),s=n-o.actualBoundingBoxLeft,a=n+o.actualBoundingBoxRight,l=t-o.actualBoundingBoxAscent,c=t+o.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(s,u),e.lineTo(a,u),e.stroke()}}function ZF(e,n){let t=e.fillStyle;e.fillStyle=n.color,e.fillRect(n.left,n.top,n.width,n.height),e.fillStyle=t}function si(e,n,t,r,i,o={}){let s=Se(n)?n:[n],a=o.strokeWidth>0&&o.strokeColor!=="",l,c;for(e.save(),e.font=i.string,YF(e,o),l=0;l<s.length;++l)c=s[l],o.backdrop&&ZF(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),te(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(c,t,r,o.maxWidth)),e.fillText(c,t,r,o.maxWidth),JF(e,t,r,c,o),r+=Number(i.lineHeight);e.restore()}function Ls(e,n){let{x:t,y:r,w:i,h:o,radius:s}=n;e.arc(t+s.topLeft,r+s.topLeft,s.topLeft,1.5*ce,ce,!0),e.lineTo(t,r+o-s.bottomLeft),e.arc(t+s.bottomLeft,r+o-s.bottomLeft,s.bottomLeft,ce,Be,!0),e.lineTo(t+i-s.bottomRight,r+o),e.arc(t+i-s.bottomRight,r+o-s.bottomRight,s.bottomRight,Be,0,!0),e.lineTo(t+i,r+s.topRight),e.arc(t+i-s.topRight,r+s.topRight,s.topRight,0,-Be,!0),e.lineTo(t+s.topLeft,r)}var QF=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,XF=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function eL(e,n){let t=(""+e).match(QF);if(!t||t[1]==="normal")return n*1.2;switch(e=+t[2],t[3]){case"px":return e;case"%":e/=100;break}return n*e}var tL=e=>+e||0;function Rf(e,n){let t={},r=ne(n),i=r?Object.keys(n):n,o=ne(e)?r?s=>$(e[s],e[n[s]]):s=>e[s]:()=>e;for(let s of i)t[s]=tL(o(s));return t}function Jy(e){return Rf(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ai(e){return Rf(e,["topLeft","topRight","bottomLeft","bottomRight"])}function gt(e){let n=Jy(e);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function Ke(e,n){e=e||{},n=n||Me.font;let t=$(e.size,n.size);typeof t=="string"&&(t=parseInt(t,10));let r=$(e.style,n.style);r&&!(""+r).match(XF)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);let i={family:$(e.family,n.family),lineHeight:eL($(e.lineHeight,n.lineHeight),t),size:t,style:r,weight:$(e.weight,n.weight),string:""};return i.string=KF(i),i}function js(e,n,t,r){let i=!0,o,s,a;for(o=0,s=e.length;o<s;++o)if(a=e[o],a!==void 0&&(n!==void 0&&typeof a=="function"&&(a=a(n),i=!1),t!==void 0&&Se(a)&&(a=a[t%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function gS(e,n,t){let{min:r,max:i}=e,o=Oy(n,(i-r)/2),s=(a,l)=>t&&a===0?0:a+l;return{min:s(r,-Math.abs(o)),max:s(i,o)}}function _r(e,n){return Object.assign(Object.create(e),n)}function kf(e,n=[""],t,r,i=()=>e[0]){let o=t||e;typeof r>"u"&&(r=vS("_fallback",e));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:r,_getTarget:i,override:a=>kf([a,...e],n,o,r)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return mS(a,l,()=>cL(l,n,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return KC(a).includes(l)},ownKeys(a){return KC(a)},set(a,l,c){let u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function go(e,n,t,r){let i={_cacheable:!1,_proxy:e,_context:n,_subProxy:t,_stack:new Set,_descriptors:Zy(e,r),setContext:o=>go(e,o,t,r),override:o=>go(e.override(o),n,t,r)};return new Proxy(i,{deleteProperty(o,s){return delete o[s],delete e[s],!0},get(o,s,a){return mS(o,s,()=>rL(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,s){return Reflect.has(e,s)},ownKeys(){return Reflect.ownKeys(e)},set(o,s,a){return e[s]=a,delete o[s],!0}})}function Zy(e,n={scriptable:!0,indexable:!0}){let{_scriptable:t=n.scriptable,_indexable:r=n.indexable,_allKeys:i=n.allKeys}=e;return{allKeys:i,scriptable:t,indexable:r,isScriptable:yr(t)?t:()=>t,isIndexable:yr(r)?r:()=>r}}var nL=(e,n)=>e?e+Sf(n):n,Qy=(e,n)=>ne(n)&&e!=="adapters"&&(Object.getPrototypeOf(n)===null||n.constructor===Object);function mS(e,n,t){if(Object.prototype.hasOwnProperty.call(e,n)||n==="constructor")return e[n];let r=t();return e[n]=r,r}function rL(e,n,t){let{_proxy:r,_context:i,_subProxy:o,_descriptors:s}=e,a=r[n];return yr(a)&&s.isScriptable(n)&&(a=iL(n,a,e,t)),Se(a)&&a.length&&(a=oL(n,a,e,s.isIndexable)),Qy(n,a)&&(a=go(a,i,o&&o[n],s)),a}function iL(e,n,t,r){let{_proxy:i,_context:o,_subProxy:s,_stack:a}=t;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=n(o,s||r);return a.delete(e),Qy(e,l)&&(l=Xy(i._scopes,i,e,l)),l}function oL(e,n,t,r){let{_proxy:i,_context:o,_subProxy:s,_descriptors:a}=t;if(typeof o.index<"u"&&r(e))return n[o.index%n.length];if(ne(n[0])){let l=n,c=i._scopes.filter(u=>u!==l);n=[];for(let u of l){let d=Xy(c,i,e,u);n.push(go(d,o,s&&s[e],a))}}return n}function yS(e,n,t){return yr(e)?e(n,t):e}var sL=(e,n)=>e===!0?n:typeof e=="string"?br(n,e):void 0;function aL(e,n,t,r,i){for(let o of n){let s=sL(t,o);if(s){e.add(s);let a=yS(s._fallback,t,i);if(typeof a<"u"&&a!==t&&a!==r)return a}else if(s===!1&&typeof r<"u"&&t!==r)return null}return!1}function Xy(e,n,t,r){let i=n._rootScopes,o=yS(n._fallback,t,r),s=[...e,...i],a=new Set;a.add(r);let l=qC(a,s,t,o||t,r);return l===null||typeof o<"u"&&o!==t&&(l=qC(a,s,o,l,r),l===null)?!1:kf(Array.from(a),[""],i,o,()=>lL(n,t,r))}function qC(e,n,t,r,i){for(;t;)t=aL(e,n,t,r,i);return t}function lL(e,n,t){let r=e._getTarget();n in r||(r[n]={});let i=r[n];return Se(i)&&ne(t)?t:i||{}}function cL(e,n,t,r){let i;for(let o of n)if(i=vS(nL(o,e),t),typeof i<"u")return Qy(e,i)?Xy(t,r,e,i):i}function vS(e,n){for(let t of n){if(!t)continue;let r=t[e];if(typeof r<"u")return r}}function KC(e){let n=e._keys;return n||(n=e._keys=uL(e._scopes)),n}function uL(e){let n=new Set;for(let t of e)for(let r of Object.keys(t).filter(i=>!i.startsWith("_")))n.add(r);return Array.from(n)}function ev(e,n,t,r){let{iScale:i}=e,{key:o="r"}=this._parsing,s=new Array(r),a,l,c,u;for(a=0,l=r;a<l;++a)c=a+t,u=n[c],s[a]={r:i.parse(br(u,o),c)};return s}var dL=Number.EPSILON||1e-14,Rs=(e,n)=>n<e.length&&!e[n].skip&&e[n],bS=e=>e==="x"?"y":"x";function fL(e,n,t,r){let i=e.skip?n:e,o=n,s=t.skip?n:t,a=Ef(o,i),l=Ef(s,o),c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;let d=r*c,h=r*u;return{previous:{x:o.x-d*(s.x-i.x),y:o.y-d*(s.y-i.y)},next:{x:o.x+h*(s.x-i.x),y:o.y+h*(s.y-i.y)}}}function hL(e,n,t){let r=e.length,i,o,s,a,l,c=Rs(e,0);for(let u=0;u<r-1;++u)if(l=c,c=Rs(e,u+1),!(!l||!c)){if(Os(n[u],0,dL)){t[u]=t[u+1]=0;continue}i=t[u]/n[u],o=t[u+1]/n[u],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),t[u]=i*s*n[u],t[u+1]=o*s*n[u])}}function pL(e,n,t="x"){let r=bS(t),i=e.length,o,s,a,l=Rs(e,0);for(let c=0;c<i;++c){if(s=a,a=l,l=Rs(e,c+1),!a)continue;let u=a[t],d=a[r];s&&(o=(u-s[t])/3,a[`cp1${t}`]=u-o,a[`cp1${r}`]=d-o*n[c]),l&&(o=(l[t]-u)/3,a[`cp2${t}`]=u+o,a[`cp2${r}`]=d+o*n[c])}}function gL(e,n="x"){let t=bS(n),r=e.length,i=Array(r).fill(0),o=Array(r),s,a,l,c=Rs(e,0);for(s=0;s<r;++s)if(a=l,l=c,c=Rs(e,s+1),!!l){if(c){let u=c[n]-l[n];i[s]=u!==0?(c[t]-l[t])/u:0}o[s]=a?c?Rn(i[s-1])!==Rn(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}hL(e,i,o),pL(e,o,n)}function bf(e,n,t){return Math.max(Math.min(e,t),n)}function mL(e,n){let t,r,i,o,s,a=qn(e[0],n);for(t=0,r=e.length;t<r;++t)s=o,o=a,a=t<r-1&&qn(e[t+1],n),o&&(i=e[t],s&&(i.cp1x=bf(i.cp1x,n.left,n.right),i.cp1y=bf(i.cp1y,n.top,n.bottom)),a&&(i.cp2x=bf(i.cp2x,n.left,n.right),i.cp2y=bf(i.cp2y,n.top,n.bottom)))}function _S(e,n,t,r,i){let o,s,a,l;if(n.spanGaps&&(e=e.filter(c=>!c.skip)),n.cubicInterpolationMode==="monotone")gL(e,i);else{let c=r?e[e.length-1]:e[0];for(o=0,s=e.length;o<s;++o)a=e[o],l=fL(c,a,e[Math.min(o+1,s-(r?0:1))%s],n.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}n.capBezierPoints&&mL(e,t)}function Nf(){return typeof window<"u"&&typeof document<"u"}function Of(e){let n=e.parentNode;return n&&n.toString()==="[object ShadowRoot]"&&(n=n.host),n}function Cf(e,n,t){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*n.parentNode[t])):r=e,r}var Pf=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function yL(e,n){return Pf(e).getPropertyValue(n)}var vL=["top","right","bottom","left"];function po(e,n,t){let r={};t=t?"-"+t:"";for(let i=0;i<4;i++){let o=vL[i];r[o]=parseFloat(e[n+"-"+o+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var bL=(e,n,t)=>(e>0||n>0)&&(!t||!t.shadowRoot);function _L(e,n){let t=e.touches,r=t&&t.length?t[0]:e,{offsetX:i,offsetY:o}=r,s=!1,a,l;if(bL(i,o,e.target))a=i,l=o;else{let c=n.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,s=!0}return{x:a,y:l,box:s}}function li(e,n){if("native"in e)return e;let{canvas:t,currentDevicePixelRatio:r}=n,i=Pf(t),o=i.boxSizing==="border-box",s=po(i,"padding"),a=po(i,"border","width"),{x:l,y:c,box:u}=_L(e,t),d=s.left+(u&&a.left),h=s.top+(u&&a.top),{width:f,height:p}=n;return o&&(f-=s.width+a.width,p-=s.height+a.height),{x:Math.round((l-d)/f*t.width/r),y:Math.round((c-h)/p*t.height/r)}}function wL(e,n,t){let r,i;if(n===void 0||t===void 0){let o=e&&Of(e);if(!o)n=e.clientWidth,t=e.clientHeight;else{let s=o.getBoundingClientRect(),a=Pf(o),l=po(a,"border","width"),c=po(a,"padding");n=s.width-c.width-l.width,t=s.height-c.height-l.height,r=Cf(a.maxWidth,o,"clientWidth"),i=Cf(a.maxHeight,o,"clientHeight")}}return{width:n,height:t,maxWidth:r||Df,maxHeight:i||Df}}var ri=e=>Math.round(e*10)/10;function wS(e,n,t,r){let i=Pf(e),o=po(i,"margin"),s=Cf(i.maxWidth,e,"clientWidth")||Df,a=Cf(i.maxHeight,e,"clientHeight")||Df,l=wL(e,n,t),{width:c,height:u}=l;if(i.boxSizing==="content-box"){let h=po(i,"border","width"),f=po(i,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-o.width),u=Math.max(0,r?c/r:u-o.height),c=ri(Math.min(c,s,l.maxWidth)),u=ri(Math.min(u,a,l.maxHeight)),c&&!u&&(u=ri(c/2)),(n!==void 0||t!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=ri(Math.floor(u*r))),{width:c,height:u}}function tv(e,n,t){let r=n||1,i=ri(e.height*r),o=ri(e.width*r);e.height=ri(e.height),e.width=ri(e.width);let s=e.canvas;return s.style&&(t||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||s.height!==i||s.width!==o?(e.currentDevicePixelRatio=r,s.height=i,s.width=o,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}var DS=(function(){let e=!1;try{let n={get passive(){return e=!0,!1}};Nf()&&(window.addEventListener("test",null,n),window.removeEventListener("test",null,n))}catch{}return e})();function nv(e,n){let t=yL(e,n),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ni(e,n,t,r){return{x:e.x+t*(n.x-e.x),y:e.y+t*(n.y-e.y)}}function ES(e,n,t,r){return{x:e.x+t*(n.x-e.x),y:r==="middle"?t<.5?e.y:n.y:r==="after"?t<1?e.y:n.y:t>0?n.y:e.y}}function CS(e,n,t,r){let i={x:e.cp2x,y:e.cp2y},o={x:n.cp1x,y:n.cp1y},s=ni(e,i,t),a=ni(i,o,t),l=ni(o,n,t),c=ni(s,a,t),u=ni(a,l,t);return ni(c,u,t)}var DL=function(e,n){return{x(t){return e+e+n-t},setWidth(t){n=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},EL=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,n){return e+n},leftForLtr(e,n){return e}}};function yo(e,n,t){return e?DL(n,t):EL()}function rv(e,n){let t,r;(n==="ltr"||n==="rtl")&&(t=e.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",n,"important"),e.prevTextDirection=r)}function iv(e,n){n!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",n[0],n[1]))}function SS(e){return e==="angle"?{between:Ps,compare:BF,normalize:ht}:{between:Yn,compare:(n,t)=>n-t,normalize:n=>n}}function YC({start:e,end:n,count:t,loop:r,style:i}){return{start:e%t,end:n%t,loop:r&&(n-e+1)%t===0,style:i}}function CL(e,n,t){let{property:r,start:i,end:o}=t,{between:s,normalize:a}=SS(r),l=n.length,{start:c,end:u,loop:d}=e,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&s(a(n[c%l][r]),i,o);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:e.style}}function ov(e,n,t){if(!t)return[e];let{property:r,start:i,end:o}=t,s=n.length,{compare:a,between:l,normalize:c}=SS(r),{start:u,end:d,loop:h,style:f}=CL(e,n,t),p=[],g=!1,m=null,y,v,D,_=()=>l(i,D,y)&&a(i,D)!==0,E=()=>a(o,y)===0||l(o,D,y),S=()=>g||_(),T=()=>!g||E();for(let I=u,F=u;I<=d;++I)v=n[I%s],!v.skip&&(y=c(v[r]),y!==D&&(g=l(y,i,o),m===null&&S()&&(m=a(y,i)===0?I:F),m!==null&&T()&&(p.push(YC({start:m,end:I,loop:h,count:s,style:f})),m=null),F=I,D=y));return m!==null&&p.push(YC({start:m,end:d,loop:h,count:s,style:f})),p}function sv(e,n){let t=[],r=e.segments;for(let i=0;i<r.length;i++){let o=ov(r[i],e.points,n);o.length&&t.push(...o)}return t}function SL(e,n,t,r){let i=0,o=n-1;if(t&&!r)for(;i<n&&!e[i].skip;)i++;for(;i<n&&e[i].skip;)i++;for(i%=n,t&&(o+=i);o>i&&e[o%n].skip;)o--;return o%=n,{start:i,end:o}}function IL(e,n,t,r){let i=e.length,o=[],s=n,a=e[n],l;for(l=n+1;l<=t;++l){let c=e[l%i];c.skip||c.stop?a.skip||(r=!1,o.push({start:n%i,end:(l-1)%i,loop:r}),n=s=c.stop?l:null):(s=l,a.skip&&(n=l)),a=c}return s!==null&&o.push({start:n%i,end:s%i,loop:r}),o}function IS(e,n){let t=e.points,r=e.options.spanGaps,i=t.length;if(!i)return[];let o=!!e._loop,{start:s,end:a}=SL(t,i,o,r);if(r===!0)return JC(e,[{start:s,end:a,loop:o}],t,n);let l=a<s?a+i:a,c=!!e._fullLoop&&s===0&&a===i-1;return JC(e,IL(t,s,l,c),t,n)}function JC(e,n,t,r){return!r||!r.setContext||!t?n:xL(e,n,t,r)}function xL(e,n,t,r){let i=e._chart.getContext(),o=ZC(e.options),{_datasetIndex:s,options:{spanGaps:a}}=e,l=t.length,c=[],u=o,d=n[0].start,h=d;function f(p,g,m,y){let v=a?-1:1;if(p!==g){for(p+=l;t[p%l].skip;)p-=v;for(;t[g%l].skip;)g+=v;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:m,style:y}),u=y,d=g%l)}}for(let p of n){d=a?d:p.start;let g=t[d%l],m;for(h=d+1;h<=p.end;h++){let y=t[h%l];m=ZC(r.setContext(_r(i,{type:"segment",p0:g,p1:y,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:s}))),TL(m,u)&&f(d,h-1,p.loop,u),g=y,u=m}d<h-1&&f(d,h-1,p.loop,u)}return c}function ZC(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function TL(e,n){if(!n)return!1;let t=[],r=function(i,o){return Gy(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(e,r)!==JSON.stringify(n,r)}function _f(e,n,t){return e.options.clip?e[t]:n[t]}function ML(e,n){let{xScale:t,yScale:r}=e;return t&&r?{left:_f(t,n,"left"),right:_f(t,n,"right"),top:_f(r,n,"top"),bottom:_f(r,n,"bottom")}:n}function av(e,n){let t=n._clip;if(t.disabled)return!1;let r=ML(n,e.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?e.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?e.height:r.bottom+(t.bottom===!0?0:t.bottom)}}var bv=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,t,r,i){let o=t.listeners[i],s=t.duration;o.forEach(a=>a({chart:n,initial:t.initial,numSteps:s,currentStep:Math.min(r-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=$y.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;let o=r.items,s=o.length-1,a=!1,l;for(;s>=0;--s)l=o[s],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(n),a=!0):(o[s]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,r,n,"progress")),o.length||(r.running=!1,this._notify(i,r,n,"complete"),r.initial=!1),t+=o.length}),this._lastDate=n,t===0&&(this._running=!1)}_getAnims(n){let t=this._charts,r=t.get(n);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(n,r)),r}listen(n,t,r){this._getAnims(n).listeners[t].push(r)}add(n,t){!t||!t.length||this._getAnims(n).items.push(...t)}has(n){return this._getAnims(n).items.length>0}start(n){let t=this._charts.get(n);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(n){if(!this._running)return!1;let t=this._charts.get(n);return!(!t||!t.running||!t.items.length)}stop(n){let t=this._charts.get(n);if(!t||!t.items.length)return;let r=t.items,i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(n,t,Date.now(),"complete")}remove(n){return this._charts.delete(n)}},wr=new bv,xS="transparent",AL={boolean(e,n,t){return t>.5?n:e},color(e,n,t){let r=qy(e||xS),i=r.valid&&qy(n||xS);return i&&i.valid?i.mix(r,t).hexString():n},number(e,n,t){return e+(n-e)*t}},_v=class{constructor(n,t,r,i){let o=t[r];i=js([n.to,i,o,n.from]);let s=js([n.from,o,i]);this._active=!0,this._fn=n.fn||AL[n.type||typeof s],this._easing=Ms[n.easing]||Ms.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=t,this._prop=r,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(n,t,r){if(this._active){this._notify(!1);let i=this._target[this._prop],o=r-this._start,s=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(s,n.duration)),this._total+=o,this._loop=!!n.loop,this._to=js([n.to,t,i,n.from]),this._from=js([n.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){let t=n-this._start,r=this._duration,i=this._prop,o=this._from,s=this._loop,a=this._to,l;if(this._active=o!==a&&(s||t<r),!this._active){this._target[i]=a,this._notify(!0);return}if(t<0){this._target[i]=o;return}l=t/r%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(o,a,l)}wait(){let n=this._promises||(this._promises=[]);return new Promise((t,r)=>{n.push({res:t,rej:r})})}_notify(n){let t=n?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}},zf=class{constructor(n,t){this._chart=n,this._properties=new Map,this.configure(t)}configure(n){if(!ne(n))return;let t=Object.keys(Me.animation),r=this._properties;Object.getOwnPropertyNames(n).forEach(i=>{let o=n[i];if(!ne(o))return;let s={};for(let a of t)s[a]=o[a];(Se(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,s)})})}_animateOptions(n,t){let r=t.options,i=kL(n,r);if(!i)return[];let o=this._createAnimations(i,r);return r.$shared&&RL(n.options.$animations,r).then(()=>{n.options=r},()=>{}),o}_createAnimations(n,t){let r=this._properties,i=[],o=n.$animations||(n.$animations={}),s=Object.keys(t),a=Date.now(),l;for(l=s.length-1;l>=0;--l){let c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(n,t));continue}let u=t[c],d=o[c],h=r.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){n[c]=u;continue}o[c]=d=new _v(h,n,c,u),i.push(d)}return i}update(n,t){if(this._properties.size===0){Object.assign(n,t);return}let r=this._createAnimations(n,t);if(r.length)return wr.add(this._chart,r),!0}};function RL(e,n){let t=[],r=Object.keys(n);for(let i=0;i<r.length;i++){let o=e[r[i]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function kL(e,n){if(!n)return;let t=e.options;if(!t){e.options=n;return}return t.$shared&&(e.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function TS(e,n){let t=e&&e.options||{},r=t.reverse,i=t.min===void 0?n:0,o=t.max===void 0?n:0;return{start:r?o:i,end:r?i:o}}function NL(e,n,t){if(t===!1)return!1;let r=TS(e,t),i=TS(n,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function OL(e){let n,t,r,i;return ne(e)?(n=e.top,t=e.right,r=e.bottom,i=e.left):n=t=r=i=e,{top:n,right:t,bottom:r,left:i,disabled:e===!1}}function xI(e,n){let t=[],r=e._getSortedDatasetMetas(n),i,o;for(i=0,o=r.length;i<o;++i)t.push(r[i].index);return t}function MS(e,n,t,r={}){let i=e.keys,o=r.mode==="single",s,a,l,c;if(n===null)return;let u=!1;for(s=0,a=i.length;s<a;++s){if(l=+i[s],l===t){if(u=!0,r.all)continue;break}c=e.values[l],Pe(c)&&(o||n===0||Rn(n)===Rn(c))&&(n+=c)}return!u&&!r.all?0:n}function PL(e,n){let{iScale:t,vScale:r}=n,i=t.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",s=Object.keys(e),a=new Array(s.length),l,c,u;for(l=0,c=s.length;l<c;++l)u=s[l],a[l]={[i]:u,[o]:e[u]};return a}function lv(e,n){let t=e&&e.options.stacked;return t||t===void 0&&n.stack!==void 0}function FL(e,n,t){return`${e.id}.${n.id}.${t.stack||t.type}`}function LL(e){let{min:n,max:t,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?n:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function jL(e,n,t){let r=e[n]||(e[n]={});return r[t]||(r[t]={})}function AS(e,n,t,r){for(let i of n.getMatchingVisibleMetas(r).reverse()){let o=e[i.index];if(t&&o>0||!t&&o<0)return i.index}return null}function RS(e,n){let{chart:t,_cachedMeta:r}=e,i=t._stacks||(t._stacks={}),{iScale:o,vScale:s,index:a}=r,l=o.axis,c=s.axis,u=FL(o,s,r),d=n.length,h;for(let f=0;f<d;++f){let p=n[f],{[l]:g,[c]:m}=p,y=p._stacks||(p._stacks={});h=y[c]=jL(i,u,g),h[a]=m,h._top=AS(h,s,!0,r.type),h._bottom=AS(h,s,!1,r.type);let v=h._visualValues||(h._visualValues={});v[a]=m}}function cv(e,n){let t=e.scales;return Object.keys(t).filter(r=>t[r].axis===n).shift()}function VL(e,n){return _r(e,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}function BL(e,n,t){return _r(e,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:t,index:n,mode:"default",type:"data"})}function Wl(e,n){let t=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){n=n||e._parsed;for(let i of n){let o=i._stacks;if(!o||o[r]===void 0||o[r][t]===void 0)return;delete o[r][t],o[r]._visualValues!==void 0&&o[r]._visualValues[t]!==void 0&&delete o[r]._visualValues[t]}}}var uv=e=>e==="reset"||e==="none",kS=(e,n)=>n?e:Object.assign({},e),UL=(e,n,t)=>e&&!n.hidden&&n._stacked&&{keys:xI(t,!0),values:null},ui=(()=>{class e{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=lv(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Wl(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,r=this._cachedMeta,i=this.getDataset(),o=(h,f,p,g)=>h==="x"?f:h==="r"?g:p,s=r.xAxisID=$(i.xAxisID,cv(t,"x")),a=r.yAxisID=$(i.yAxisID,cv(t,"y")),l=r.rAxisID=$(i.rAxisID,cv(t,"r")),c=r.indexAxis,u=r.iAxisID=o(c,s,a,l),d=r.vAxisID=o(c,a,s,l);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&By(this._data,this),t._stacked&&Wl(t)}_dataCheck(){let t=this.getDataset(),r=t.data||(t.data=[]),i=this._data;if(ne(r)){let o=this._cachedMeta;this._data=PL(r,o)}else if(i!==r){if(i){By(i,this);let o=this._cachedMeta;Wl(o),o._parsed=[]}r&&Object.isExtensible(r)&&lS(r,this),this._syncList=[],this._data=r}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let r=this._cachedMeta,i=this.getDataset(),o=!1;this._dataCheck();let s=r._stacked;r._stacked=lv(r.vScale,r),r.stack!==i.stack&&(o=!0,Wl(r),r.stack=i.stack),this._resyncElements(t),(o||s!==r._stacked)&&(RS(this,r._parsed),r._stacked=lv(r.vScale,r))}configure(){let t=this.chart.config,r=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){let{_cachedMeta:i,_data:o}=this,{iScale:s,_stacked:a}=i,l=s.axis,c=t===0&&r===o.length?!0:i._sorted,u=t>0&&i._parsed[t-1],d,h,f;if(this._parsing===!1)i._parsed=o,i._sorted=!0,f=o;else{Se(o[t])?f=this.parseArrayData(i,o,t,r):ne(o[t])?f=this.parseObjectData(i,o,t,r):f=this.parsePrimitiveData(i,o,t,r);let p=()=>h[l]===null||u&&h[l]<u[l];for(d=0;d<r;++d)i._parsed[d+t]=h=f[d],c&&(p()&&(c=!1),u=h);i._sorted=c}a&&RS(this,f)}parsePrimitiveData(t,r,i,o){let{iScale:s,vScale:a}=t,l=s.axis,c=a.axis,u=s.getLabels(),d=s===a,h=new Array(o),f,p,g;for(f=0,p=o;f<p;++f)g=f+i,h[f]={[l]:d||s.parse(u[g],g),[c]:a.parse(r[g],g)};return h}parseArrayData(t,r,i,o){let{xScale:s,yScale:a}=t,l=new Array(o),c,u,d,h;for(c=0,u=o;c<u;++c)d=c+i,h=r[d],l[c]={x:s.parse(h[0],d),y:a.parse(h[1],d)};return l}parseObjectData(t,r,i,o){let{xScale:s,yScale:a}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(o),d,h,f,p;for(d=0,h=o;d<h;++d)f=d+i,p=r[f],u[d]={x:s.parse(br(p,l),f),y:a.parse(br(p,c),f)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,i){let o=this.chart,s=this._cachedMeta,a=r[t.axis],l={keys:xI(o,!0),values:r._stacks[t.axis]._visualValues};return MS(l,a,s.index,{mode:i})}updateRangeFromParsed(t,r,i,o){let s=i[r.axis],a=s===null?NaN:s,l=o&&i._stacks[r.axis];o&&l&&(o.values=l,a=MS(o,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,r){let i=this._cachedMeta,o=i._parsed,s=i._sorted&&t===i.iScale,a=o.length,l=this._getOtherScale(t),c=UL(r,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=LL(l),f,p;function g(){p=o[f];let m=p[l.axis];return!Pe(p[t.axis])||d>m||h<m}for(f=0;f<a&&!(!g()&&(this.updateRangeFromParsed(u,t,p,c),s));++f);if(s){for(f=a-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(u,t,p,c);break}}return u}getAllParsedValues(t){let r=this._cachedMeta._parsed,i=[],o,s,a;for(o=0,s=r.length;o<s;++o)a=r[o][t.axis],Pe(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){let r=this._cachedMeta,i=r.iScale,o=r.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(t){let r=this._cachedMeta;this.update(t||"default"),r._clip=OL($(this.options.clip,NL(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,r=this.chart,i=this._cachedMeta,o=i.data||[],s=r.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||o.length-l,u=this.options.drawActiveElementsOnTop,d;for(i.dataset&&i.dataset.draw(t,s,l,c),d=l;d<l+c;++d){let h=o[d];h.hidden||(h.active&&u?a.push(h):h.draw(t,s))}for(d=0;d<a.length;++d)a[d].draw(t,s)}getStyle(t,r){let i=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,r,i){let o=this.getDataset(),s;if(t>=0&&t<this._cachedMeta.data.length){let a=this._cachedMeta.data[t];s=a.$context||(a.$context=BL(this.getContext(),t,a)),s.parsed=this.getParsed(t),s.raw=o.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=VL(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",i){let o=r==="active",s=this._cachedDataOpts,a=t+"-"+r,l=s[a],c=this.enableOptionSharing&&Ns(i);if(l)return kS(l,c);let u=this.chart.config,d=u.datasetElementScopeKeys(this._type,t),h=o?[`${t}Hover`,"hover",t,""]:[t,""],f=u.getOptionScopes(this.getDataset(),d),p=Object.keys(Me.elements[t]),g=()=>this.getContext(i,o,r),m=u.resolveNamedOptions(f,p,g,h);return m.$shared&&(m.$shared=c,s[a]=Object.freeze(kS(m,c))),m}_resolveAnimations(t,r,i){let o=this.chart,s=this._cachedDataOpts,a=`animation-${r}`,l=s[a];if(l)return l;let c;if(o.options.animation!==!1){let d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,r),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(t,i,r))}let u=new zf(o,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||uv(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){let i=this.resolveDataElementOptions(t,r),o=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(r,s)||s!==o;return this.updateSharedOptions(s,r,i),{sharedOptions:s,includeOptions:a}}updateElement(t,r,i,o){uv(o)?Object.assign(t,i):this._resolveAnimations(r,o).update(t,i)}updateSharedOptions(t,r,i){t&&!uv(r)&&this._resolveAnimations(void 0,r).update(t,i)}_setStyle(t,r,i,o){t.active=o;let s=this.getStyle(r,o);this._resolveAnimations(r,i,o).update(t,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(t,r,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,r,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let r=this._data,i=this._cachedMeta.data;for(let[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];let o=i.length,s=r.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,t):s<o&&this._removeElements(s,o-s)}_insertElements(t,r,i=!0){let o=this._cachedMeta,s=o.data,a=t+r,l,c=u=>{for(u.length+=r,l=u.length-1;l>=a;l--)u[l]=u[l-r]};for(c(s),l=t;l<a;++l)s[l]=new this.dataElementType;this._parsing&&c(o._parsed),this.parse(t,r),i&&this.updateElements(s,t,r,"reset")}updateElements(t,r,i,o){}_removeElements(t,r){let i=this._cachedMeta;if(this._parsing){let o=i._parsed.splice(t,r);i._stacked&&Wl(i,o)}i.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[r,i,o]=t;this[r](i,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);let i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return e})();function $L(e,n){if(!e._cache.$bar){let t=e.getMatchingVisibleMetas(n),r=[];for(let i=0,o=t.length;i<o;i++)r=r.concat(t[i].controller.getAllParsedValues(e));e._cache.$bar=Uy(r.sort((i,o)=>i-o))}return e._cache.$bar}function HL(e){let n=e.iScale,t=$L(n,e.type),r=n._length,i,o,s,a,l=()=>{s===32767||s===-32768||(Ns(a)&&(r=Math.min(r,Math.abs(s-a)||r)),a=s)};for(i=0,o=t.length;i<o;++i)s=n.getPixelForValue(t[i]),l();for(a=void 0,i=0,o=n.ticks.length;i<o;++i)s=n.getPixelForTick(i),l();return r}function zL(e,n,t,r){let i=t.barThickness,o,s;return te(i)?(o=n.min*t.categoryPercentage,s=t.barPercentage):(o=i*r,s=1),{chunk:o/r,ratio:s,start:n.pixels[e]-o/2}}function WL(e,n,t,r){let i=n.pixels,o=i[e],s=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null,l=t.categoryPercentage;s===null&&(s=o-(a===null?n.end-n.start:a-o)),a===null&&(a=o+o-s);let c=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/r,ratio:t.barPercentage,start:c}}function GL(e,n,t,r){let i=t.parse(e[0],r),o=t.parse(e[1],r),s=Math.min(i,o),a=Math.max(i,o),l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),n[t.axis]=c,n._custom={barStart:l,barEnd:c,start:i,end:o,min:s,max:a}}function TI(e,n,t,r){return Se(e)?GL(e,n,t,r):n[t.axis]=t.parse(e,r),n}function NS(e,n,t,r){let i=e.iScale,o=e.vScale,s=i.getLabels(),a=i===o,l=[],c,u,d,h;for(c=t,u=t+r;c<u;++c)h=n[c],d={},d[i.axis]=a||i.parse(s[c],c),l.push(TI(h,d,o,c));return l}function dv(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function qL(e,n,t){return e!==0?Rn(e):(n.isHorizontal()?1:-1)*(n.min>=t?1:-1)}function KL(e){let n,t,r,i,o;return e.horizontal?(n=e.base>e.x,t="left",r="right"):(n=e.base<e.y,t="bottom",r="top"),n?(i="end",o="start"):(i="start",o="end"),{start:t,end:r,reverse:n,top:i,bottom:o}}function YL(e,n,t,r){let i=n.borderSkipped,o={};if(!i){e.borderSkipped=o;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:l,top:c,bottom:u}=KL(e);i==="middle"&&t&&(e.enableBorderRadius=!0,(t._top||0)===r?i=c:(t._bottom||0)===r?i=u:(o[OS(u,s,a,l)]=!0,i=c)),o[OS(i,s,a,l)]=!0,e.borderSkipped=o}function OS(e,n,t,r){return r?(e=JL(e,n,t),e=PS(e,t,n)):e=PS(e,n,t),e}function JL(e,n,t){return e===n?t:e===t?n:e}function PS(e,n,t){return e==="start"?n:e==="end"?t:e}function ZL(e,{inflateAmount:n},t){e.inflateAmount=n==="auto"?t===1?.33:0:n}var QL=(()=>{class e extends ui{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,r,i,o){return NS(t,r,i,o)}parseArrayData(t,r,i,o){return NS(t,r,i,o)}parseObjectData(t,r,i,o){let{iScale:s,vScale:a}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=s.axis==="x"?l:c,d=a.axis==="x"?l:c,h=[],f,p,g,m;for(f=i,p=i+o;f<p;++f)m=r[f],g={},g[s.axis]=s.parse(br(m,u),f),h.push(TI(br(m,d),g,a,f));return h}updateRangeFromParsed(t,r,i,o){super.updateRangeFromParsed(t,r,i,o);let s=i._custom;s&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let r=this._cachedMeta,{iScale:i,vScale:o}=r,s=this.getParsed(t),a=s._custom,l=dv(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,i,o){let s=o==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(r,o);for(let p=r;p<r+i;p++){let g=this.getParsed(p),m=s||te(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,d),v=(g._stacks||{})[l.axis],D={horizontal:u,base:m.base,enableBorderRadius:!v||dv(g._custom)||a===v._top||a===v._bottom,x:u?m.head:y.center,y:u?y.center:m.head,height:u?y.size:Math.abs(m.size),width:u?Math.abs(m.size):y.size};f&&(D.options=h||this.resolveDataElementOptions(p,t[p].active?"active":o));let _=D.options||t[p].options;YL(D,_,v,a),ZL(D,_,d.ratio),this.updateElement(t[p],p,D,o)}}_getStacks(t,r){let{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=i.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[i.axis],u=d=>{let h=d._parsed.find(p=>p[i.axis]===c),f=h&&h[d.vScale.axis];if(te(f)||isNaN(f))return!0};for(let d of o)if(!(r!==void 0&&u(d))&&((s===!1||a.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let t=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===r).shift()}_getAxis(){let t={},r=this.getFirstScaleIdForIndexAxis();for(let i of this.chart.data.datasets)t[$(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,r)]=!0;return Object.keys(t)}_getStackIndex(t,r,i){let o=this._getStacks(t,i),s=r!==void 0?o.indexOf(r):-1;return s===-1?o.length-1:s}_getRuler(){let t=this.options,r=this._cachedMeta,i=r.iScale,o=[],s,a;for(s=0,a=r.data.length;s<a;++s)o.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));let l=t.barThickness;return{min:l||HL(r),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:r,_stacked:i,index:o},options:{base:s,minBarLength:a}}=this,l=s||0,c=this.getParsed(t),u=c._custom,d=dv(u),h=c[r.axis],f=0,p=i?this.applyStack(r,c,i):h,g,m;p!==h&&(f=p-h,p=h),d&&(h=u.barStart,p=u.barEnd-u.barStart,h!==0&&Rn(h)!==Rn(u.barEnd)&&(f=0),f+=h);let y=!te(s)&&!d?s:f,v=r.getPixelForValue(y);if(this.chart.getDataVisibility(t)?g=r.getPixelForValue(f+p):g=v,m=g-v,Math.abs(m)<a){m=qL(m,r,l)*a,h===l&&(v-=m/2);let D=r.getPixelForDecimal(0),_=r.getPixelForDecimal(1),E=Math.min(D,_),S=Math.max(D,_);v=Math.max(Math.min(v,S),E),g=v+m,i&&!d&&(c._stacks[r.axis]._visualValues[o]=r.getValueForPixel(g)-r.getValueForPixel(v))}if(v===r.getPixelForValue(l)){let D=Rn(m)*r.getLineWidthForValue(l)/2;v+=D,m-=D}return{size:m,base:v,head:g,center:g+m/2}}_calculateBarIndexPixels(t,r){let i=r.scale,o=this.options,s=o.skipNull,a=$(o.maxBarThickness,1/0),l,c,u=this._getAxisCount();if(r.grouped){let d=s?this._getStackCount(t):r.stackCount,h=o.barThickness==="flex"?WL(t,r,o,d*u):zL(t,r,o,d*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf($(f,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+p;l=h.start+h.chunk*g+h.chunk/2,c=Math.min(a,h.chunk*h.ratio)}else l=i.getPixelForValue(this.getParsed(t)[i.axis],t),c=Math.min(a,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let t=this._cachedMeta,r=t.vScale,i=t.data,o=i.length,s=0;for(;s<o;++s)this.getParsed(s)[r.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}return e})(),XL=(()=>{class e extends ui{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,r,i,o){let s=super.parsePrimitiveData(t,r,i,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+i).radius;return s}parseArrayData(t,r,i,o){let s=super.parseArrayData(t,r,i,o);for(let a=0;a<s.length;a++){let l=r[i+a];s[a]._custom=$(l[2],this.resolveDataElementOptions(a+i).radius)}return s}parseObjectData(t,r,i,o){let s=super.parseObjectData(t,r,i,o);for(let a=0;a<s.length;a++){let l=r[i+a];s[a]._custom=$(l&&l.r&&+l.r,this.resolveDataElementOptions(a+i).radius)}return s}getMaxOverflow(){let t=this._cachedMeta.data,r=0;for(let i=t.length-1;i>=0;--i)r=Math.max(r,t[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=r,a=this.getParsed(t),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y),u=a._custom;return{label:i[t]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(t){let r=this._cachedMeta.data;this.updateElements(r,0,r.length,t)}updateElements(t,r,i,o){let s=o==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(r,o),d=a.axis,h=l.axis;for(let f=r;f<r+i;f++){let p=t[f],g=!s&&this.getParsed(f),m={},y=m[d]=s?a.getPixelForDecimal(.5):a.getPixelForValue(g[d]),v=m[h]=s?l.getBasePixel():l.getPixelForValue(g[h]);m.skip=isNaN(y)||isNaN(v),u&&(m.options=c||this.resolveDataElementOptions(f,p.active?"active":o),s&&(m.options.radius=0)),this.updateElement(p,f,m,o)}}resolveDataElementOptions(t,r){let i=this.getParsed(t),o=super.resolveDataElementOptions(t,r);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let s=o.radius;return r!=="active"&&(o.radius=0),o.radius+=$(i&&i._custom,s),o}}return e})();function ej(e,n,t){let r=1,i=1,o=0,s=0;if(n<Ie){let a=e,l=a+n,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),f=(D,_,E)=>Ps(D,a,l,!0)?1:Math.max(_,_*t,E,E*t),p=(D,_,E)=>Ps(D,a,l,!0)?-1:Math.min(_,_*t,E,E*t),g=f(0,c,d),m=f(Be,u,h),y=p(ce,c,d),v=p(ce+Be,u,h);r=(g-y)/2,i=(m-v)/2,o=-(g+y)/2,s=-(m+v)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:s}}var Bv=(()=>{class e extends ui{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let r=t.data,{labels:{pointStyle:i,textAlign:o,color:s,useBorderRadius:a,borderRadius:l}}=t.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((c,u)=>{let h=t.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:h.backgroundColor,fontColor:s,hidden:!t.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:o,pointStyle:i,borderRadius:a&&(l||h.borderRadius),index:u}}):[]}},onClick(t,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}};constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){let i=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=i;else{let s=c=>+i[c];if(ne(i[t])){let{key:c="value"}=this._parsing;s=u=>+br(i[u],c)}let a,l;for(a=t,l=t+r;a<l;++a)o._parsed[a]=s(a)}}_getRotation(){return an(this.options.rotation-90)}_getCircumference(){return an(this.options.circumference)}_getRotationExtents(){let t=Ie,r=-Ie;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let o=this.chart.getDatasetMeta(i).controller,s=o._getRotation(),a=o._getCircumference();t=Math.min(t,s),r=Math.max(r,s+a)}return{rotation:t,circumference:r-t}}update(t){let r=this.chart,{chartArea:i}=r,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-a)/2,0),c=Math.min(XC(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=ej(h,d,c),y=(i.width-a)/f,v=(i.height-a)/p,D=Math.max(Math.min(y,v)/2,0),_=Oy(this.options.radius,D),E=Math.max(_*c,0),S=(_-E)/this._getVisibleDatasetWeightTotal();this.offsetX=g*_,this.offsetY=m*_,o.total=this.calculateTotal(),this.outerRadius=_-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*u,0),this.updateElements(s,0,s.length,t)}_circumference(t,r){let i=this.options,o=this._cachedMeta,s=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||o._parsed[t]===null||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*s/Ie)}updateElements(t,r,i,o){let s=o==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,d=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=s&&u.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(r,o),v=this._getRotation(),D;for(D=0;D<r;++D)v+=this._circumference(D,s);for(D=r;D<r+i;++D){let _=this._circumference(D,s),E=t[D],S={x:d+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+_,circumference:_,outerRadius:g,innerRadius:p};y&&(S.options=m||this.resolveDataElementOptions(D,E.active?"active":o)),v+=_,this.updateElement(E,D,S,o)}}calculateTotal(){let t=this._cachedMeta,r=t.data,i=0,o;for(o=0;o<r.length;o++){let s=t._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!r[o].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){let r=this._cachedMeta.total;return r>0&&!isNaN(t)?Ie*(Math.abs(t)/r):0}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=Fs(r._parsed[t],i.options.locale);return{label:o[t]||"",value:s}}getMaxBorderWidth(t){let r=0,i=this.chart,o,s,a,l,c;if(!t){for(o=0,s=i.data.datasets.length;o<s;++o)if(i.isDatasetVisible(o)){a=i.getDatasetMeta(o),t=a.data,l=a.controller;break}}if(!t)return 0;for(o=0,s=t.length;o<s;++o)c=l.resolveDataElementOptions(o),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let i=0,o=t.length;i<o;++i){let s=this.resolveDataElementOptions(i);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(t){return Math.max($(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return e})(),tj=(()=>{class e extends ui{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let r=this._cachedMeta,{dataset:i,data:o=[],_dataset:s}=r,a=this.chart._animationsDisabled,{start:l,count:c}=zy(r,o,a);this._drawStart=l,this._drawCount=c,Wy(r)&&(l=0,c=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=o;let u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:u},t),this.updateElements(o,l,c,t)}updateElements(t,r,i,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(r,o),f=a.axis,p=l.axis,{spanGaps:g,segment:m}=this.options,y=mo(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||o==="none",D=r+i,_=t.length,E=r>0&&this.getParsed(r-1);for(let S=0;S<_;++S){let T=t[S],I=v?T:{};if(S<r||S>=D){I.skip=!0;continue}let F=this.getParsed(S),B=te(F[p]),Y=I[f]=a.getPixelForValue(F[f],S),re=I[p]=s||B?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,F,c):F[p],S);I.skip=isNaN(Y)||isNaN(re)||B,I.stop=S>0&&Math.abs(F[f]-E[f])>y,m&&(I.parsed=F,I.raw=u.data[S]),h&&(I.options=d||this.resolveDataElementOptions(S,T.active?"active":o)),v||this.updateElement(T,S,I,o),E=F}}getMaxOverflow(){let t=this._cachedMeta,r=t.dataset,i=r.options&&r.options.borderWidth||0,o=t.data||[];if(!o.length)return i;let s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,s,a)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return e})(),MI=(()=>{class e extends ui{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let r=t.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:i,color:o}}=t.legend.options;return r.labels.map((s,a)=>{let c=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=Fs(r._parsed[t].r,i.options.locale);return{label:o[t]||"",value:s}}parseObjectData(t,r,i,o){return ev.bind(this)(t,r,i,o)}update(t){let r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){let t=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,o)=>{let s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){let t=this.chart,r=t.chartArea,i=t.options,o=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(o/2,0),a=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),l=(s-a)/t.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,r,i,o){let s=o==="reset",a=this.chart,c=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,h=u.yCenter,f=u.getIndexAngle(0)-.5*ce,p=f,g,m=360/this.countVisibleElements();for(g=0;g<r;++g)p+=this._computeAngle(g,o,m);for(g=r;g<r+i;g++){let y=t[g],v=p,D=p+this._computeAngle(g,o,m),_=a.getDataVisibility(g)?u.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=D,s&&(c.animateScale&&(_=0),c.animateRotate&&(v=D=f));let E={x:d,y:h,innerRadius:0,outerRadius:_,startAngle:v,endAngle:D,options:this.resolveDataElementOptions(g,y.active?"active":o)};this.updateElement(y,g,E,o)}}countVisibleElements(){let t=this._cachedMeta,r=0;return t.data.forEach((i,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&r++}),r}_computeAngle(t,r,i){return this.chart.getDataVisibility(t)?an(this.resolveDataElementOptions(t,r).angle||i):0}}return e})(),nj=(()=>{class e extends Bv{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return e})(),rj=(()=>{class e extends ui{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){let r=this._cachedMeta.vScale,i=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(t,r,i,o){return ev.bind(this)(t,r,i,o)}update(t){let r=this._cachedMeta,i=r.dataset,o=r.data||[],s=r.iScale.getLabels();if(i.points=o,t!=="resize"){let a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:s.length===o.length,options:a};this.updateElement(i,void 0,l,t)}this.updateElements(o,0,o.length,t)}updateElements(t,r,i,o){let s=this._cachedMeta.rScale,a=o==="reset";for(let l=r;l<r+i;l++){let c=t[l],u=this.resolveDataElementOptions(l,c.active?"active":o),d=s.getPointPositionForValue(l,this.getParsed(l).r),h=a?s.xCenter:d.x,f=a?s.yCenter:d.y,p={x:h,y:f,angle:d.angle,skip:isNaN(h)||isNaN(f),options:u};this.updateElement(c,l,p,o)}}}return e})(),ij=(()=>{class e extends ui{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=r,a=this.getParsed(t),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y);return{label:i[t]||"",value:"("+l+", "+c+")"}}update(t){let r=this._cachedMeta,{data:i=[]}=r,o=this.chart._animationsDisabled,{start:s,count:a}=zy(r,i,o);if(this._drawStart=s,this._drawCount=a,Wy(r)&&(s=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=i;let u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!o,options:u},t)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,s,a,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,r,i,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,o),h=this.getSharedOptions(d),f=this.includeOptions(o,h),p=a.axis,g=l.axis,{spanGaps:m,segment:y}=this.options,v=mo(m)?m:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||s||o==="none",_=r>0&&this.getParsed(r-1);for(let E=r;E<r+i;++E){let S=t[E],T=this.getParsed(E),I=D?S:{},F=te(T[g]),B=I[p]=a.getPixelForValue(T[p],E),Y=I[g]=s||F?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,T,c):T[g],E);I.skip=isNaN(B)||isNaN(Y)||F,I.stop=E>0&&Math.abs(T[p]-_[p])>v,y&&(I.parsed=T,I.raw=u.data[E]),f&&(I.options=h||this.resolveDataElementOptions(E,S.active?"active":o)),D||this.updateElement(S,E,I,o),_=T}this.updateSharedOptions(h,o,d)}getMaxOverflow(){let t=this._cachedMeta,r=t.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let i=t.dataset,o=i.options&&i.options.borderWidth||0;if(!r.length)return o;let s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(o,s,a)/2}}return e})(),oj=Object.freeze({__proto__:null,BarController:QL,BubbleController:XL,DoughnutController:Bv,LineController:tj,PieController:nj,PolarAreaController:MI,RadarController:rj,ScatterController:ij});function vo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var wv=class e{static override(n){Object.assign(e.prototype,n)}options;constructor(n){this.options=n||{}}init(){}formats(){return vo()}parse(){return vo()}format(){return vo()}add(){return vo()}diff(){return vo()}startOf(){return vo()}endOf(){return vo()}},sj={_date:wv};function aj(e,n,t,r){let{controller:i,data:o,_sorted:s}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&n===a.axis&&n!=="r"&&s&&o.length){let c=a._reversePixels?oS:Gn;if(r){if(i._sharedOptions){let u=o[0],d=typeof u.getRange=="function"&&u.getRange(n);if(d){let h=c(o,n,t-d),f=c(o,n,t+d);return{lo:h.lo,hi:f.hi}}}}else{let u=c(o,n,t);if(l){let{vScale:d}=i._cachedMeta,{_parsed:h}=e,f=h.slice(0,u.lo+1).reverse().findIndex(g=>!te(g[d.axis]));u.lo-=Math.max(0,f);let p=h.slice(u.hi).findIndex(g=>!te(g[d.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:o.length-1}}function tc(e,n,t,r,i){let o=e.getSortedVisibleDatasetMetas(),s=t[n];for(let a=0,l=o.length;a<l;++a){let{index:c,data:u}=o[a],{lo:d,hi:h}=aj(o[a],n,s,i);for(let f=d;f<=h;++f){let p=u[f];p.skip||r(p,c,f)}}}function lj(e){let n=e.indexOf("x")!==-1,t=e.indexOf("y")!==-1;return function(r,i){let o=n?Math.abs(r.x-i.x):0,s=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function fv(e,n,t,r,i){let o=[];return!i&&!e.isPointInArea(n)||tc(e,t,n,function(a,l,c){!i&&!qn(a,e.chartArea,0)||a.inRange(n.x,n.y,r)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function cj(e,n,t,r){let i=[];function o(s,a,l){let{startAngle:c,endAngle:u}=s.getProps(["startAngle","endAngle"],r),{angle:d}=Vy(s,{x:n.x,y:n.y});Ps(d,c,u)&&i.push({element:s,datasetIndex:a,index:l})}return tc(e,t,n,o),i}function uj(e,n,t,r,i,o){let s=[],a=lj(t),l=Number.POSITIVE_INFINITY;function c(u,d,h){let f=u.inRange(n.x,n.y,i);if(r&&!f)return;let p=u.getCenterPoint(i);if(!(!!o||e.isPointInArea(p))&&!f)return;let m=a(n,p);m<l?(s=[{element:u,datasetIndex:d,index:h}],l=m):m===l&&s.push({element:u,datasetIndex:d,index:h})}return tc(e,t,n,c),s}function hv(e,n,t,r,i,o){return!o&&!e.isPointInArea(n)?[]:t==="r"&&!r?cj(e,n,t,i):uj(e,n,t,r,i,o)}function FS(e,n,t,r,i){let o=[],s=t==="x"?"inXRange":"inYRange",a=!1;return tc(e,t,n,(l,c,u)=>{l[s]&&l[s](n[t],i)&&(o.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(n.x,n.y,i))}),r&&!a?[]:o}var dj={evaluateInteractionItems:tc,modes:{index(e,n,t,r){let i=li(n,e),o=t.axis||"x",s=t.includeInvisible||!1,a=t.intersect?fv(e,i,o,r,s):hv(e,i,o,!1,r,s),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{let u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(e,n,t,r){let i=li(n,e),o=t.axis||"xy",s=t.includeInvisible||!1,a=t.intersect?fv(e,i,o,r,s):hv(e,i,o,!1,r,s);if(a.length>0){let l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,n,t,r){let i=li(n,e),o=t.axis||"xy",s=t.includeInvisible||!1;return fv(e,i,o,r,s)},nearest(e,n,t,r){let i=li(n,e),o=t.axis||"xy",s=t.includeInvisible||!1;return hv(e,i,o,t.intersect,r,s)},x(e,n,t,r){let i=li(n,e);return FS(e,i,"x",t.intersect,r)},y(e,n,t,r){let i=li(n,e);return FS(e,i,"y",t.intersect,r)}}},AI=["left","top","right","bottom"];function Gl(e,n){return e.filter(t=>t.pos===n)}function LS(e,n){return e.filter(t=>AI.indexOf(t.pos)===-1&&t.box.axis===n)}function ql(e,n){return e.sort((t,r)=>{let i=n?r:t,o=n?t:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function fj(e){let n=[],t,r,i,o,s,a;for(t=0,r=(e||[]).length;t<r;++t)i=e[t],{position:o,options:{stack:s,stackWeight:a=1}}=i,n.push({index:t,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&o+s,stackWeight:a});return n}function hj(e){let n={};for(let t of e){let{stack:r,pos:i,stackWeight:o}=t;if(!r||!AI.includes(i))continue;let s=n[r]||(n[r]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return n}function pj(e,n){let t=hj(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=n,o,s,a;for(o=0,s=e.length;o<s;++o){a=e[o];let{fullSize:l}=a.box,c=t[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&n.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&n.availableHeight)}return t}function gj(e){let n=fj(e),t=ql(n.filter(c=>c.box.fullSize),!0),r=ql(Gl(n,"left"),!0),i=ql(Gl(n,"right")),o=ql(Gl(n,"top"),!0),s=ql(Gl(n,"bottom")),a=LS(n,"x"),l=LS(n,"y");return{fullSize:t,leftAndTop:r.concat(o),rightAndBottom:i.concat(l).concat(s).concat(a),chartArea:Gl(n,"chartArea"),vertical:r.concat(i).concat(l),horizontal:o.concat(s).concat(a)}}function jS(e,n,t,r){return Math.max(e[t],n[t])+Math.max(e[r],n[r])}function RI(e,n){e.top=Math.max(e.top,n.top),e.left=Math.max(e.left,n.left),e.bottom=Math.max(e.bottom,n.bottom),e.right=Math.max(e.right,n.right)}function mj(e,n,t,r){let{pos:i,box:o}=t,s=e.maxPadding;if(!ne(i)){t.size&&(e[i]-=t.size);let d=r[t.stack]||{size:0,count:1};d.size=Math.max(d.size,t.horizontal?o.height:o.width),t.size=d.size/d.count,e[i]+=t.size}o.getPadding&&RI(s,o.getPadding());let a=Math.max(0,n.outerWidth-jS(s,e,"left","right")),l=Math.max(0,n.outerHeight-jS(s,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function yj(e){let n=e.maxPadding;function t(r){let i=Math.max(n[r]-e[r],0);return e[r]+=i,i}e.y+=t("top"),e.x+=t("left"),t("right"),t("bottom")}function vj(e,n){let t=n.maxPadding;function r(i){let o={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{o[s]=Math.max(n[s],t[s])}),o}return r(e?["left","right"]:["top","bottom"])}function Jl(e,n,t,r){let i=[],o,s,a,l,c,u;for(o=0,s=e.length,c=0;o<s;++o){a=e[o],l=a.box,l.update(a.width||n.w,a.height||n.h,vj(a.horizontal,n));let{same:d,other:h}=mj(n,t,a,r);c|=d&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&Jl(i,n,t,r)||u}function Ff(e,n,t,r,i){e.top=t,e.left=n,e.right=n+r,e.bottom=t+i,e.width=r,e.height=i}function VS(e,n,t,r){let i=t.padding,{x:o,y:s}=n;for(let a of e){let l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){let d=n.w*u,h=c.size||l.height;Ns(c.start)&&(s=c.start),l.fullSize?Ff(l,i.left,s,t.outerWidth-i.right-i.left,h):Ff(l,n.left+c.placed,s,d,h),c.start=s,c.placed+=d,s=l.bottom}else{let d=n.h*u,h=c.size||l.width;Ns(c.start)&&(o=c.start),l.fullSize?Ff(l,o,i.top,h,t.outerHeight-i.bottom-i.top):Ff(l,o,n.top+c.placed,h,d),c.start=o,c.placed+=d,o=l.right}}n.x=o,n.y=s}var Et={addBox(e,n){e.boxes||(e.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(t){n.draw(t)}}]},e.boxes.push(n)},removeBox(e,n){let t=e.boxes?e.boxes.indexOf(n):-1;t!==-1&&e.boxes.splice(t,1)},configure(e,n,t){n.fullSize=t.fullSize,n.position=t.position,n.weight=t.weight},update(e,n,t,r){if(!e)return;let i=gt(e.options.layout.padding),o=Math.max(n-i.width,0),s=Math.max(t-i.height,0),a=gj(e.boxes),l=a.vertical,c=a.horizontal;ve(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});let u=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:n,outerHeight:t,padding:i,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),h=Object.assign({},i);RI(h,gt(r));let f=Object.assign({maxPadding:h,w:o,h:s,x:i.left,y:i.top},i),p=pj(l.concat(c),d);Jl(a.fullSize,f,d,p),Jl(l,f,d,p),Jl(c,f,d,p)&&Jl(l,f,d,p),yj(f),VS(a.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,VS(a.rightAndBottom,f,d,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},ve(a.chartArea,g=>{let m=g.box;Object.assign(m,e.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}},Wf=class{acquireContext(n,t){}releaseContext(n){return!1}addEventListener(n,t,r){}removeEventListener(n,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(n,t,r,i){return t=Math.max(0,t||n.width),r=r||n.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(n){return!0}updateConfig(n){}},Dv=class extends Wf{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}},$f="$chartjs",bj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},BS=e=>e===null||e==="";function _j(e,n){let t=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[$f]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",BS(i)){let o=nv(e,"width");o!==void 0&&(e.width=o)}if(BS(r))if(e.style.height==="")e.height=e.width/(n||2);else{let o=nv(e,"height");o!==void 0&&(e.height=o)}return e}var kI=DS?{passive:!0}:!1;function wj(e,n,t){e&&e.addEventListener(n,t,kI)}function Dj(e,n,t){e&&e.canvas&&e.canvas.removeEventListener(n,t,kI)}function Ej(e,n){let t=bj[e.type]||e.type,{x:r,y:i}=li(e,n);return{type:t,chart:n,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Gf(e,n){for(let t of e)if(t===n||t.contains(n))return!0}function Cj(e,n,t){let r=e.canvas,i=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||Gf(a.addedNodes,r),s=s&&!Gf(a.removedNodes,r);s&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function Sj(e,n,t){let r=e.canvas,i=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||Gf(a.removedNodes,r),s=s&&!Gf(a.addedNodes,r);s&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}var Ql=new Map,US=0;function NI(){let e=window.devicePixelRatio;e!==US&&(US=e,Ql.forEach((n,t)=>{t.currentDevicePixelRatio!==e&&n()}))}function Ij(e,n){Ql.size||window.addEventListener("resize",NI),Ql.set(e,n)}function xj(e){Ql.delete(e),Ql.size||window.removeEventListener("resize",NI)}function Tj(e,n,t){let r=e.canvas,i=r&&Of(r);if(!i)return;let o=Hy((a,l)=>{let c=i.clientWidth;t(a,l),c<i.clientWidth&&t()},window),s=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||o(c,u)});return s.observe(i),Ij(e,o),s}function pv(e,n,t){t&&t.disconnect(),n==="resize"&&xj(e)}function Mj(e,n,t){let r=e.canvas,i=Hy(o=>{e.ctx!==null&&t(Ej(o,e))},e);return wj(r,n,i),i}var Ev=class extends Wf{acquireContext(n,t){let r=n&&n.getContext&&n.getContext("2d");return r&&r.canvas===n?(_j(n,t),r):null}releaseContext(n){let t=n.canvas;if(!t[$f])return!1;let r=t[$f].initial;["height","width"].forEach(o=>{let s=r[o];te(s)?t.removeAttribute(o):t.setAttribute(o,s)});let i=r.style||{};return Object.keys(i).forEach(o=>{t.style[o]=i[o]}),t.width=t.width,delete t[$f],!0}addEventListener(n,t,r){this.removeEventListener(n,t);let i=n.$proxies||(n.$proxies={}),s={attach:Cj,detach:Sj,resize:Tj}[t]||Mj;i[t]=s(n,t,r)}removeEventListener(n,t){let r=n.$proxies||(n.$proxies={}),i=r[t];if(!i)return;({attach:pv,detach:pv,resize:pv}[t]||Dj)(n,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,t,r,i){return wS(n,t,r,i)}isAttached(n){let t=n&&Of(n);return!!(t&&t.isConnected)}};function Aj(e){return!Nf()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Dv:Ev}var kn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(n){let{x:t,y:r}=this.getProps(["x","y"],n);return{x:t,y:r}}hasValue(){return mo(this.x)&&mo(this.y)}getProps(n,t){let r=this.$animations;if(!t||!r)return this;let i={};return n.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}};function Rj(e,n){let t=e.options.ticks,r=kj(e),i=Math.min(t.maxTicksLimit||r,r),o=t.major.enabled?Oj(n):[],s=o.length,a=o[0],l=o[s-1],c=[];if(s>i)return Pj(n,c,o,s/i),c;let u=Nj(o,n,i);if(s>0){let d,h,f=s>1?Math.round((l-a)/(s-1)):null;for(Lf(n,c,u,te(f)?0:a-f,a),d=0,h=s-1;d<h;d++)Lf(n,c,u,o[d],o[d+1]);return Lf(n,c,u,l,te(f)?n.length:l+f),c}return Lf(n,c,u),c}function kj(e){let n=e.options.offset,t=e._tickSize(),r=e._length/t+(n?0:1),i=e._maxLength/t;return Math.floor(Math.min(r,i))}function Nj(e,n,t){let r=Fj(e),i=n.length/t;if(!r)return Math.max(i,1);let o=nS(r);for(let s=0,a=o.length-1;s<a;s++){let l=o[s];if(l>i)return l}return Math.max(i,1)}function Oj(e){let n=[],t,r;for(t=0,r=e.length;t<r;t++)e[t].major&&n.push(t);return n}function Pj(e,n,t,r){let i=0,o=t[0],s;for(r=Math.ceil(r),s=0;s<e.length;s++)s===o&&(n.push(e[s]),i++,o=t[i*r])}function Lf(e,n,t,r,i){let o=$(r,0),s=Math.min($(i,e.length),e.length),a=0,l,c,u;for(t=Math.ceil(t),i&&(l=i-r,t=l/Math.floor(l/t)),u=o;u<0;)a++,u=Math.round(o+a*t);for(c=Math.max(o,0);c<s;c++)c===u&&(n.push(e[c]),a++,u=Math.round(o+a*t))}function Fj(e){let n=e.length,t,r;if(n<2)return!1;for(r=e[0],t=1;t<n;++t)if(e[t]-e[t-1]!==r)return!1;return r}var Lj=e=>e==="left"?"right":e==="right"?"left":e,$S=(e,n,t)=>n==="top"||n==="left"?e[n]+t:e[n]-t,HS=(e,n)=>Math.min(n||e,e);function zS(e,n){let t=[],r=e.length/n,i=e.length,o=0;for(;o<i;o+=r)t.push(e[Math.floor(o)]);return t}function jj(e,n,t){let r=e.ticks.length,i=Math.min(n,r-1),o=e._startPixel,s=e._endPixel,a=1e-6,l=e.getPixelForTick(i),c;if(!(t&&(r===1?c=Math.max(l-o,s-l):n===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<n?c:-c,l<o-a||l>s+a)))return l}function Vj(e,n){ve(e,t=>{let r=t.gc,i=r.length/2,o;if(i>n){for(o=0;o<i;++o)delete t.data[r[o]];r.splice(0,i)}})}function Kl(e){return e.drawTicks?e.tickLength:0}function WS(e,n){if(!e.display)return 0;let t=Ke(e.font,n),r=gt(e.padding);return(Se(e.text)?e.text.length:1)*t.lineHeight+r.height}function Bj(e,n){return _r(e,{scale:n,type:"scale"})}function Uj(e,n,t){return _r(e,{tick:t,index:n,type:"tick"})}function $j(e,n,t){let r=Tf(e);return(t&&n!=="right"||!t&&n==="right")&&(r=Lj(r)),r}function Hj(e,n,t,r){let{top:i,left:o,bottom:s,right:a,chart:l}=e,{chartArea:c,scales:u}=l,d=0,h,f,p,g=s-i,m=a-o;if(e.isHorizontal()){if(f=pt(r,o,a),ne(t)){let y=Object.keys(t)[0],v=t[y];p=u[y].getPixelForValue(v)+g-n}else t==="center"?p=(c.bottom+c.top)/2+g-n:p=$S(e,t,n);h=a-o}else{if(ne(t)){let y=Object.keys(t)[0],v=t[y];f=u[y].getPixelForValue(v)-m+n}else t==="center"?f=(c.left+c.right)/2-m+n:f=$S(e,t,n);p=pt(r,s,i),d=t==="left"?-Be:Be}return{titleX:f,titleY:p,maxWidth:h,rotation:d}}var _o=class e extends kn{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,t){return n}getUserBounds(){let{_userMin:n,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return n=jt(n,Number.POSITIVE_INFINITY),t=jt(t,Number.NEGATIVE_INFINITY),r=jt(r,Number.POSITIVE_INFINITY),i=jt(i,Number.NEGATIVE_INFINITY),{min:jt(n,r),max:jt(t,i),minDefined:Pe(n),maxDefined:Pe(t)}}getMinMax(n){let{min:t,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),s;if(i&&o)return{min:t,max:r};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,n),i||(t=Math.min(t,s.min)),o||(r=Math.max(r,s.max));return t=o&&t>r?r:t,r=i&&t>r?t:r,{min:jt(t,jt(r,t)),max:jt(r,jt(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}getLabelItems(n=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(n))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){we(this.options.beforeUpdate,[this])}update(n,t,r){let{beginAtZero:i,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gS(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?zS(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=Rj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let n=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,n=!n),this._startPixel=t,this._endPixel=r,this._reversePixels=n,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){we(this.options.afterUpdate,[this])}beforeSetDimensions(){we(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){we(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),we(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){we(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){let t=this.options.ticks,r,i,o;for(r=0,i=n.length;r<i;r++)o=n[r],o.label=we(t.callback,[o.value,r,n],this)}afterTickToLabelConversion(){we(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){we(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let n=this.options,t=n.ticks,r=HS(this.ticks.length,n.ticks.maxTicksLimit),i=t.minRotation||0,o=t.maxRotation,s=i,a,l,c;if(!this._isVisible()||!t.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}let u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=Qe(this.chart.width-d,0,this.maxWidth);a=n.offset?this.maxWidth/r:f/(r-1),d+6>a&&(a=f/(r-(n.offset?.5:1)),l=this.maxHeight-Kl(n.grid)-t.padding-WS(n.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),s=If(Math.min(Math.asin(Qe((u.highest.height+6)/a,-1,1)),Math.asin(Qe(l/c,-1,1))-Math.asin(Qe(h/c,-1,1)))),s=Math.max(i,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){we(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){we(this.options.beforeFit,[this])}fit(){let n={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let l=WS(i,t.options.font);if(a?(n.width=this.maxWidth,n.height=Kl(o)+l):(n.height=this.maxHeight,n.width=Kl(o)+l),r.display&&this.ticks.length){let{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=r.padding*2,p=an(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){let y=r.mirror?0:m*d.width+g*h.height;n.height=Math.min(this.maxHeight,n.height+y+f)}else{let y=r.mirror?0:g*d.width+m*h.height;n.width=Math.min(this.maxWidth,n.width+y+f)}this._calculatePadding(c,u,m,g)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,t,r,i){let{ticks:{align:o,padding:s},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),h=0,f=0;l?c?(h=i*n.width,f=r*t.height):(h=r*n.height,f=i*t.width):o==="start"?f=t.width:o==="end"?h=n.width:o!=="inner"&&(h=n.width/2,f=t.width/2),this.paddingLeft=Math.max((h-u+s)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+s)*this.width/(this.width-d),0)}else{let u=t.height/2,d=n.height/2;o==="start"?(u=0,d=n.height):o==="end"&&(u=t.height,d=0),this.paddingTop=u+s,this.paddingBottom=d+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){we(this.options.afterFit,[this])}isHorizontal(){let{axis:n,position:t}=this.options;return t==="top"||t==="bottom"||n==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){this.beforeTickToLabelConversion(),this.generateTickLabels(n);let t,r;for(t=0,r=n.length;t<r;t++)te(n[t].label)&&(n.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){let t=this.options.ticks.sampleSize,r=this.ticks;t<r.length&&(r=zS(r,t)),this._labelSizes=n=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return n}_computeLabelSizes(n,t,r){let{ctx:i,_longestTextCache:o}=this,s=[],a=[],l=Math.floor(t/HS(t,r)),c=0,u=0,d,h,f,p,g,m,y,v,D,_,E;for(d=0;d<t;d+=l){if(p=n[d].label,g=this._resolveTickFontOptions(d),i.font=m=g.string,y=o[m]=o[m]||{data:{},gc:[]},v=g.lineHeight,D=_=0,!te(p)&&!Se(p))D=Bl(i,y.data,y.gc,D,p),_=v;else if(Se(p))for(h=0,f=p.length;h<f;++h)E=p[h],!te(E)&&!Se(E)&&(D=Bl(i,y.data,y.gc,D,E),_+=v);s.push(D),a.push(_),c=Math.max(D,c),u=Math.max(_,u)}Vj(o,t);let S=s.indexOf(c),T=a.indexOf(u),I=F=>({width:s[F]||0,height:a[F]||0});return{first:I(0),last:I(t-1),widest:I(S),highest:I(T),widths:s,heights:a}}getLabelForValue(n){return n}getPixelForValue(n,t){return NaN}getValueForPixel(n){}getPixelForTick(n){let t=this.ticks;return n<0||n>t.length-1?null:this.getPixelForValue(t[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);let t=this._startPixel+n*this._length;return iS(this._alignToPixels?oi(this.chart,t,0):t)}getDecimalForPixel(n){let t=(n-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:n,max:t}=this;return n<0&&t<0?t:n>0&&t>0?n:0}getContext(n){let t=this.ticks||[];if(n>=0&&n<t.length){let r=t[n];return r.$context||(r.$context=Uj(this.getContext(),n,r))}return this.$context||(this.$context=Bj(this.chart.getContext(),this))}_tickSize(){let n=this.options.ticks,t=an(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),o=this._getLabelSizes(),s=n.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){let n=this.options.display;return n!=="auto"?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){let t=this.axis,r=this.chart,i=this.options,{grid:o,position:s,border:a}=i,l=o.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=Kl(o),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,y=function(Ae){return oi(r,Ae,g)},v,D,_,E,S,T,I,F,B,Y,re,rt;if(s==="top")v=y(this.bottom),T=this.bottom-h,F=v-m,Y=y(n.top)+m,rt=n.bottom;else if(s==="bottom")v=y(this.top),Y=n.top,rt=y(n.bottom)-m,T=v+m,F=this.top+h;else if(s==="left")v=y(this.right),S=this.right-h,I=v-m,B=y(n.left)+m,re=n.right;else if(s==="right")v=y(this.left),B=n.left,re=y(n.right)-m,S=v+m,I=this.left+h;else if(t==="x"){if(s==="center")v=y((n.top+n.bottom)/2+.5);else if(ne(s)){let Ae=Object.keys(s)[0],Ue=s[Ae];v=y(this.chart.scales[Ae].getPixelForValue(Ue))}Y=n.top,rt=n.bottom,T=v+m,F=T+h}else if(t==="y"){if(s==="center")v=y((n.left+n.right)/2);else if(ne(s)){let Ae=Object.keys(s)[0],Ue=s[Ae];v=y(this.chart.scales[Ae].getPixelForValue(Ue))}S=v-m,I=S-h,B=n.left,re=n.right}let Ut=$(i.ticks.maxTicksLimit,d),be=Math.max(1,Math.ceil(d/Ut));for(D=0;D<d;D+=be){let Ae=this.getContext(D),Ue=o.setContext(Ae),ln=a.setContext(Ae),mt=Ue.lineWidth,Do=Ue.color,nc=ln.dash||[],Eo=ln.dashOffset,$s=Ue.tickWidth,di=Ue.tickColor,Hs=Ue.tickBorderDash||[],fi=Ue.tickBorderDashOffset;_=jj(this,D,l),_!==void 0&&(E=oi(r,_,mt),c?S=I=B=re=E:T=F=Y=rt=E,f.push({tx1:S,ty1:T,tx2:I,ty2:F,x1:B,y1:Y,x2:re,y2:rt,width:mt,color:Do,borderDash:nc,borderDashOffset:Eo,tickWidth:$s,tickColor:di,tickBorderDash:Hs,tickBorderDashOffset:fi}))}return this._ticksLength=d,this._borderValue=v,f}_computeLabelItems(n){let t=this.axis,r=this.options,{position:i,ticks:o}=r,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=o,h=Kl(r.grid),f=h+u,p=d?-u:f,g=-an(this.labelRotation),m=[],y,v,D,_,E,S,T,I,F,B,Y,re,rt="middle";if(i==="top")S=this.bottom-p,T=this._getXAxisLabelAlignment();else if(i==="bottom")S=this.top+p,T=this._getXAxisLabelAlignment();else if(i==="left"){let be=this._getYAxisLabelAlignment(h);T=be.textAlign,E=be.x}else if(i==="right"){let be=this._getYAxisLabelAlignment(h);T=be.textAlign,E=be.x}else if(t==="x"){if(i==="center")S=(n.top+n.bottom)/2+f;else if(ne(i)){let be=Object.keys(i)[0],Ae=i[be];S=this.chart.scales[be].getPixelForValue(Ae)+f}T=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")E=(n.left+n.right)/2-f;else if(ne(i)){let be=Object.keys(i)[0],Ae=i[be];E=this.chart.scales[be].getPixelForValue(Ae)}T=this._getYAxisLabelAlignment(h).textAlign}t==="y"&&(l==="start"?rt="top":l==="end"&&(rt="bottom"));let Ut=this._getLabelSizes();for(y=0,v=a.length;y<v;++y){D=a[y],_=D.label;let be=o.setContext(this.getContext(y));I=this.getPixelForTick(y)+o.labelOffset,F=this._resolveTickFontOptions(y),B=F.lineHeight,Y=Se(_)?_.length:1;let Ae=Y/2,Ue=be.color,ln=be.textStrokeColor,mt=be.textStrokeWidth,Do=T;s?(E=I,T==="inner"&&(y===v-1?Do=this.options.reverse?"left":"right":y===0?Do=this.options.reverse?"right":"left":Do="center"),i==="top"?c==="near"||g!==0?re=-Y*B+B/2:c==="center"?re=-Ut.highest.height/2-Ae*B+B:re=-Ut.highest.height+B/2:c==="near"||g!==0?re=B/2:c==="center"?re=Ut.highest.height/2-Ae*B:re=Ut.highest.height-Y*B,d&&(re*=-1),g!==0&&!be.showLabelBackdrop&&(E+=B/2*Math.sin(g))):(S=I,re=(1-Y)*B/2);let nc;if(be.showLabelBackdrop){let Eo=gt(be.backdropPadding),$s=Ut.heights[y],di=Ut.widths[y],Hs=re-Eo.top,fi=0-Eo.left;switch(rt){case"middle":Hs-=$s/2;break;case"bottom":Hs-=$s;break}switch(T){case"center":fi-=di/2;break;case"right":fi-=di;break;case"inner":y===v-1?fi-=di:y>0&&(fi-=di/2);break}nc={left:fi,top:Hs,width:di+Eo.width,height:$s+Eo.height,color:be.backdropColor}}m.push({label:_,font:F,textOffset:re,options:{rotation:g,color:Ue,strokeColor:ln,strokeWidth:mt,textAlign:Do,textBaseline:rt,translation:[E,S],backdrop:nc}})}return m}_getXAxisLabelAlignment(){let{position:n,ticks:t}=this.options;if(-an(this.labelRotation))return n==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(n){let{position:t,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,s=this._getLabelSizes(),a=n+o,l=s.widest.width,c,u;return t==="left"?i?(u=this.right+o,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?i?(u=this.left+o,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let n=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:n.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:n.width}}drawBackground(){let{ctx:n,options:{backgroundColor:t},left:r,top:i,width:o,height:s}=this;t&&(n.save(),n.fillStyle=t,n.fillRect(r,i,o,s),n.restore())}getLineWidthForValue(n){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let i=this.ticks.findIndex(o=>o.value===n);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(n){let t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n)),o,s,a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(t.display)for(o=0,s=i.length;o<s;++o){let l=i[o];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:n,ctx:t,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),s=r.display?o.width:0;if(!s)return;let a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,u,d,h;this.isHorizontal()?(c=oi(n,this.left,s)-s/2,u=oi(n,this.right,a)+a/2,d=h=l):(d=oi(n,this.top,s)-s/2,h=oi(n,this.bottom,a)+a/2,c=u=l),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(c,d),t.lineTo(u,h),t.stroke(),t.restore()}drawLabels(n){if(!this.options.ticks.display)return;let r=this.ctx,i=this._computeLabelArea();i&&Hl(r,i);let o=this.getLabelItems(n);for(let s of o){let a=s.options,l=s.font,c=s.label,u=s.textOffset;si(r,c,0,u,l,a)}i&&zl(r)}drawTitle(){let{ctx:n,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;let o=Ke(r.font),s=gt(r.padding),a=r.align,l=o.lineHeight/2;t==="bottom"||t==="center"||ne(t)?(l+=s.bottom,Se(r.text)&&(l+=o.lineHeight*(r.text.length-1))):l+=s.top;let{titleX:c,titleY:u,maxWidth:d,rotation:h}=Hj(this,l,t,a);si(n,r.text,0,0,o,{color:r.color,maxWidth:d,rotation:h,textAlign:$j(a,t,i),textBaseline:"middle",translation:[c,u]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){let n=this.options,t=n.ticks&&n.ticks.z||0,r=$(n.grid&&n.grid.z,-1),i=$(n.border&&n.border.z,0);return!this._isVisible()||this.draw!==e.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(n){let t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[],o,s;for(o=0,s=t.length;o<s;++o){let a=t[o];a[r]===this.id&&(!n||a.type===n)&&i.push(a)}return i}_resolveTickFontOptions(n){let t=this.options.ticks.setContext(this.getContext(n));return Ke(t.font)}_maxDigits(){let n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}},Bs=class{constructor(n,t,r){this.type=n,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){let t=Object.getPrototypeOf(n),r;Gj(t)&&(r=this.register(t));let i=this.items,o=n.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+n);return o in i||(i[o]=n,zj(n,s,r),this.override&&Me.override(n.id,n.overrides)),s}get(n){return this.items[n]}unregister(n){let t=this.items,r=n.id,i=this.scope;r in t&&delete t[r],i&&r in Me[i]&&(delete Me[i][r],this.override&&delete ii[r])}};function zj(e,n,t){let r=As(Object.create(null),[t?Me.get(t):{},Me.get(n),e.defaults]);Me.set(n,r),e.defaultRoutes&&Wj(n,e.defaultRoutes),e.descriptors&&Me.describe(n,e.descriptors)}function Wj(e,n){Object.keys(n).forEach(t=>{let r=t.split("."),i=r.pop(),o=[e].concat(r).join("."),s=n[t].split("."),a=s.pop(),l=s.join(".");Me.route(o,i,l,a)})}function Gj(e){return"id"in e&&"defaults"in e}var Cv=class{constructor(){this.controllers=new Bs(ui,"datasets",!0),this.elements=new Bs(kn,"elements"),this.plugins=new Bs(Object,"plugins"),this.scales=new Bs(_o,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,t,r){[...t].forEach(i=>{let o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(n,o,i):ve(i,s=>{let a=r||this._getRegistryForType(s);this._exec(n,a,s)})})}_exec(n,t,r){let i=Sf(n);we(r["before"+i],[],r),t[n](r),we(r["after"+i],[],r)}_getRegistryForType(n){for(let t=0;t<this._typedRegistries.length;t++){let r=this._typedRegistries[t];if(r.isForType(n))return r}return this.plugins}_get(n,t,r){let i=t.get(n);if(i===void 0)throw new Error('"'+n+'" is not a registered '+r+".");return i}},Zn=new Cv,Sv=class{constructor(){this._init=void 0}notify(n,t,r,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install")),this._init===void 0)return;let o=i?this._descriptors(n).filter(i):this._descriptors(n),s=this._notify(o,n,t,r);return t==="afterDestroy"&&(this._notify(o,n,"stop"),this._notify(this._init,n,"uninstall"),this._init=void 0),s}_notify(n,t,r,i){i=i||{};for(let o of n){let s=o.plugin,a=s[r],l=[t,i,o.options];if(we(a,l,s)===!1&&i.cancelable)return!1}return!0}invalidate(){te(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),t}_createDescriptors(n,t){let r=n&&n.config,i=$(r.options&&r.options.plugins,{}),o=qj(r);return i===!1&&!t?[]:Yj(n,o,i,t)}_notifyStateChanges(n){let t=this._oldCache||[],r=this._cache,i=(o,s)=>o.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(i(t,r),n,"stop"),this._notify(i(r,t),n,"start")}};function qj(e){let n={},t=[],r=Object.keys(Zn.plugins.items);for(let o=0;o<r.length;o++)t.push(Zn.getPlugin(r[o]));let i=e.plugins||[];for(let o=0;o<i.length;o++){let s=i[o];t.indexOf(s)===-1&&(t.push(s),n[s.id]=!0)}return{plugins:t,localIds:n}}function Kj(e,n){return!n&&e===!1?null:e===!0?{}:e}function Yj(e,{plugins:n,localIds:t},r,i){let o=[],s=e.getContext();for(let a of n){let l=a.id,c=Kj(r[l],i);c!==null&&o.push({plugin:a,options:Jj(e.config,{plugin:a,local:t[l]},c,s)})}return o}function Jj(e,{plugin:n,local:t},r,i){let o=e.pluginScopeKeys(n),s=e.getOptionScopes(r,o);return t&&n.defaults&&s.push(n.defaults),e.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Iv(e,n){let t=Me.datasets[e]||{};return((n.datasets||{})[e]||{}).indexAxis||n.indexAxis||t.indexAxis||"x"}function Zj(e,n){let t=e;return e==="_index_"?t=n:e==="_value_"&&(t=n==="x"?"y":"x"),t}function Qj(e,n){return e===n?"_index_":"_value_"}function GS(e){if(e==="x"||e==="y"||e==="r")return e}function Xj(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function xv(e,...n){if(GS(e))return e;for(let t of n){let r=t.axis||Xj(t.position)||e.length>1&&GS(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function qS(e,n,t){if(t[n+"AxisID"]===e)return{axis:n}}function eV(e,n){if(n.data&&n.data.datasets){let t=n.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(t.length)return qS(e,"x",t[0])||qS(e,"y",t[0])}return{}}function tV(e,n){let t=ii[e.type]||{scales:{}},r=n.scales||{},i=Iv(e.type,n),o=Object.create(null);return Object.keys(r).forEach(s=>{let a=r[s];if(!ne(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=xv(s,a,eV(s,e),Me.scales[a.type]),c=Qj(l,i),u=t.scales||{};o[s]=ks(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(s=>{let a=s.type||e.type,l=s.indexAxis||Iv(a,n),u=(ii[a]||{}).scales||{};Object.keys(u).forEach(d=>{let h=Zj(d,l),f=s[h+"AxisID"]||h;o[f]=o[f]||Object.create(null),ks(o[f],[{axis:h},r[f],u[d]])})}),Object.keys(o).forEach(s=>{let a=o[s];ks(a,[Me.scales[a.type],Me.scale])}),o}function OI(e){let n=e.options||(e.options={});n.plugins=$(n.plugins,{}),n.scales=tV(e,n)}function PI(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function nV(e){return e=e||{},e.data=PI(e.data),OI(e),e}var KS=new Map,FI=new Set;function jf(e,n){let t=KS.get(e);return t||(t=n(),KS.set(e,t),FI.add(t)),t}var Yl=(e,n,t)=>{let r=br(n,t);r!==void 0&&e.add(r)},Tv=class{constructor(n){this._config=nV(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=PI(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){let n=this._config;this.clearCache(),OI(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return jf(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,t){return jf(`${n}.transition.${t}`,()=>[[`datasets.${n}.transitions.${t}`,`transitions.${t}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,t){return jf(`${n}-${t}`,()=>[[`datasets.${n}.elements.${t}`,`datasets.${n}`,`elements.${t}`,""]])}pluginScopeKeys(n){let t=n.id,r=this.type;return jf(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,t){let r=this._scopeCache,i=r.get(n);return(!i||t)&&(i=new Map,r.set(n,i)),i}getOptionScopes(n,t,r){let{options:i,type:o}=this,s=this._cachedScopes(n,r),a=s.get(t);if(a)return a;let l=new Set;t.forEach(u=>{n&&(l.add(n),u.forEach(d=>Yl(l,n,d))),u.forEach(d=>Yl(l,i,d)),u.forEach(d=>Yl(l,ii[o]||{},d)),u.forEach(d=>Yl(l,Me,d)),u.forEach(d=>Yl(l,Mf,d))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),FI.has(t)&&s.set(t,c),c}chartOptionScopes(){let{options:n,type:t}=this;return[n,ii[t]||{},Me.datasets[t]||{},{type:t},Me,Mf]}resolveNamedOptions(n,t,r,i=[""]){let o={$shared:!0},{resolver:s,subPrefixes:a}=YS(this._resolverCache,n,i),l=s;if(iV(s,t)){o.$shared=!1,r=yr(r)?r():r;let c=this.createResolver(n,r,a);l=go(s,r,c)}for(let c of t)o[c]=l[c];return o}createResolver(n,t,r=[""],i){let{resolver:o}=YS(this._resolverCache,n,r);return ne(t)?go(o,t,void 0,i):o}};function YS(e,n,t){let r=e.get(n);r||(r=new Map,e.set(n,r));let i=t.join(),o=r.get(i);return o||(o={resolver:kf(n,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,o)),o}var rV=e=>ne(e)&&Object.getOwnPropertyNames(e).some(n=>yr(e[n]));function iV(e,n){let{isScriptable:t,isIndexable:r}=Zy(e);for(let i of n){let o=t(i),s=r(i),a=(s||o)&&e[i];if(o&&(yr(a)||rV(a))||s&&Se(a))return!0}return!1}var oV="4.5.1",sV=["top","bottom","left","right","chartArea"];function JS(e,n){return e==="top"||e==="bottom"||sV.indexOf(e)===-1&&n==="x"}function ZS(e,n){return function(t,r){return t[e]===r[e]?t[n]-r[n]:t[e]-r[e]}}function QS(e){let n=e.chart,t=n.options.animation;n.notifyPlugins("afterRender"),we(t&&t.onComplete,[e],n)}function aV(e){let n=e.chart,t=n.options.animation;we(t&&t.onProgress,[e],n)}function LI(e){return Nf()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}var Hf={},XS=e=>{let n=LI(e);return Object.values(Hf).filter(t=>t.canvas===n).pop()};function lV(e,n,t){let r=Object.keys(e);for(let i of r){let o=+i;if(o>=n){let s=e[i];delete e[i],(t>0||o>n)&&(e[o+t]=s)}}}function cV(e,n,t,r){return!t||e.type==="mouseout"?null:r?n:e}var Jf=(()=>{class e{static defaults=Me;static instances=Hf;static overrides=ii;static registry=Zn;static version=oV;static getChart=XS;static register(...t){Zn.add(...t),eI()}static unregister(...t){Zn.remove(...t),eI()}constructor(t,r){let i=this.config=new Tv(r),o=LI(t),s=XS(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Aj(o)),this.platform.updateConfig(i);let l=this.platform.acquireContext(o,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=QC(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Sv,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=cS(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],Hf[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}wr.listen(this,"complete",QS),wr.listen(this,"progress",aV),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:r},width:i,height:o,_aspectRatio:s}=this;return te(t)?r&&s?s:o?i/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Zn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ky(this.canvas,this.ctx),this}stop(){return wr.stop(this),this}resize(t,r){wr.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){let i=this.options,o=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,t,r,s),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,tv(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),we(i.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let r=this.options.scales||{};ve(r,(i,o)=>{i.id=o})}buildOrUpdateScales(){let t=this.options,r=t.scales,i=this.scales,o=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{}),s=[];r&&(s=s.concat(Object.keys(r).map(a=>{let l=r[a],c=xv(a,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),ve(s,a=>{let l=a.options,c=l.id,u=xv(c,l),d=$(l.type,a.dtype);(l.position===void 0||JS(l.position,u)!==JS(a.dposition))&&(l.position=a.dposition),o[c]=!0;let h=null;if(c in i&&i[c].type===d)h=i[c];else{let f=Zn.getScale(d);h=new f({id:c,type:d,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(l,t)}),ve(o,(a,l)=>{a||delete i[l]}),ve(i,a=>{Et.configure(this,a,a.options),Et.addBox(this,a)})}_updateMetasets(){let t=this._metasets,r=this.data.datasets.length,i=t.length;if(t.sort((o,s)=>o.index-s.index),i>r){for(let o=r;o<i;++o)this._destroyDatasetMeta(o);t.splice(r,i-r)}this._sortedMetasets=t.slice(0).sort(ZS("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((i,o)=>{r.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let t=[],r=this.data.datasets,i,o;for(this._removeUnreferencedMetasets(),i=0,o=r.length;i<o;i++){let s=r[i],a=this.getDatasetMeta(i),l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=s.indexAxis||Iv(l,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{let c=Zn.getController(l),{datasetElementType:u,dataElementType:d}=Me.datasets[l];Object.assign(c,{dataElementType:Zn.getElement(d),datasetElementType:u&&Zn.getElement(u)}),a.controller=new c(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){ve(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let r=this.config;r.update();let i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){let{controller:h}=this.getDatasetMeta(u),f=!o&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),o||ve(s,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ZS("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ve(this.scales,t=>{Et.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Py(r,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(let{method:i,start:o,count:s}of r){let a=i==="_removeElements"?-s:s;lV(t,o,a)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let r=this.data.datasets.length,i=s=>new Set(t.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),o=i(0);for(let s=1;s<r;s++)if(!Py(o,i(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Et.update(this,this.width,this.height,t);let r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],ve(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,yr(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){let i=this.getDatasetMeta(t),o={meta:i,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(r),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(wr.has(this)?this.attached&&!wr.running(this)&&wr.start(this):(this.draw(),QS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let r=this._sortedMetasets,i=[],o,s;for(o=0,s=r.length;o<s;++o){let a=r[o];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let r=this.ctx,i={meta:t,index:t.index,cancelable:!0},o=av(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(o&&Hl(r,o),t.controller.draw(),o&&zl(r),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return qn(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,i,o){let s=dj.modes[r];return typeof s=="function"?s(this,t,i,o):[]}getDatasetMeta(t){let r=this.data.datasets[t],i=this._metasets,o=i.filter(s=>s&&s._dataset===r).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=_r(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let r=this.data.datasets[t];if(!r)return!1;let i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!r.hidden}setDatasetVisibility(t,r){let i=this.getDatasetMeta(t);i.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,i){let o=i?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,o);Ns(r)?(s.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(s,{visible:i}),this.update(l=>l.datasetIndex===t?o:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){let r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),wr.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Ky(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Hf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,r=this.platform,i=(s,a)=>{r.addEventListener(this,s,a),t[s]=a},o=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};ve(this.options.events,s=>i(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,r=this.platform,i=(c,u)=>{r.addEventListener(this,c,u),t[c]=u},o=(c,u)=>{t[c]&&(r.removeEventListener(this,c,u),delete t[c])},s=(c,u)=>{this.canvas&&this.resize(c,u)},a,l=()=>{o("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),i("attach",l)},r.isAttached(this.canvas)?l():a()}unbindEvents(){ve(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},ve(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,i){let o=i?"set":"remove",s,a,l,c;for(r==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){a=t[l];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let r=this._active||[],i=t.map(({datasetIndex:s,index:a})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!Ul(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(t,r,i){return this._plugins.notify(this,t,r,i)}isPluginEnabled(t){return this._plugins._cache.filter(r=>r.plugin.id===t).length===1}_updateHoverStyles(t,r,i){let o=this.options.hover,s=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=s(r,t),l=i?t:s(t,r);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(t,r){let i={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},o=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;let s=this._handleEvent(t,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(s||i.changed)&&this.render(),this}_handleEvent(t,r,i){let{_active:o=[],options:s}=this,a=r,l=this._getActiveElements(t,o,i,a),c=tS(t),u=cV(t,this._lastEvent,i,c);i&&(this._lastEvent=null,we(s.onHover,[t,l,this],this),c&&we(s.onClick,[t,l,this],this));let d=!Ul(l,o);return(d||r)&&(this._active=l,this._updateHoverStyles(l,o,r)),this._lastEvent=u,d}_getActiveElements(t,r,i,o){if(t.type==="mouseout")return[];if(!i)return r;let s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,o)}}return e})();function eI(){return ve(Jf.instances,e=>e._plugins.invalidate())}function uV(e,n,t){let{startAngle:r,x:i,y:o,outerRadius:s,innerRadius:a,options:l}=n,{borderWidth:c,borderJoinStyle:u}=l,d=Math.min(c/s,ht(r-t));if(e.beginPath(),e.arc(i,o,s-c/2,r+d/2,t-d/2),a>0){let h=Math.min(c/a,ht(r-t));e.arc(i,o,a+c/2,t-h/2,r+h/2,!0)}else{let h=Math.min(c/2,s*ht(r-t));if(u==="round")e.arc(i,o,h,t-ce/2,r+ce/2,!0);else if(u==="bevel"){let f=2*h*h,p=-f*Math.cos(t+ce/2)+i,g=-f*Math.sin(t+ce/2)+o,m=f*Math.cos(r+ce/2)+i,y=f*Math.sin(r+ce/2)+o;e.lineTo(p,g),e.lineTo(m,y)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function dV(e,n,t){let{startAngle:r,pixelMargin:i,x:o,y:s,outerRadius:a,innerRadius:l}=n,c=i/a;e.beginPath(),e.arc(o,s,a,r-c,t+c),l>i?(c=i/l,e.arc(o,s,l,t+c,r-c,!0)):e.arc(o,s,i,t+Be,r-Be),e.closePath(),e.clip()}function fV(e){return Rf(e,["outerStart","outerEnd","innerStart","innerEnd"])}function hV(e,n,t,r){let i=fV(e.options.borderRadius),o=(t-n)/2,s=Math.min(o,r*n/2),a=l=>{let c=(t-Math.min(o,l))*r/2;return Qe(l,0,Math.min(o,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Qe(i.innerStart,0,s),innerEnd:Qe(i.innerEnd,0,s)}}function Vs(e,n,t,r){return{x:t+e*Math.cos(n),y:r+e*Math.sin(n)}}function qf(e,n,t,r,i,o){let{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=n,d=Math.max(n.outerRadius+r+t-c,0),h=u>0?u+r+t+c:0,f=0,p=i-l;if(r){let be=u>0?u-r:0,Ae=d>0?d-r:0,Ue=(be+Ae)/2,ln=Ue!==0?p*Ue/(Ue+r):p;f=(p-ln)/2}let g=Math.max(.001,p*d-t/ce)/d,m=(p-g)/2,y=l+m+f,v=i-m-f,{outerStart:D,outerEnd:_,innerStart:E,innerEnd:S}=hV(n,h,d,v-y),T=d-D,I=d-_,F=y+D/T,B=v-_/I,Y=h+E,re=h+S,rt=y+E/Y,Ut=v-S/re;if(e.beginPath(),o){let be=(F+B)/2;if(e.arc(s,a,d,F,be),e.arc(s,a,d,be,B),_>0){let mt=Vs(I,B,s,a);e.arc(mt.x,mt.y,_,B,v+Be)}let Ae=Vs(re,v,s,a);if(e.lineTo(Ae.x,Ae.y),S>0){let mt=Vs(re,Ut,s,a);e.arc(mt.x,mt.y,S,v+Be,Ut+Math.PI)}let Ue=(v-S/h+(y+E/h))/2;if(e.arc(s,a,h,v-S/h,Ue,!0),e.arc(s,a,h,Ue,y+E/h,!0),E>0){let mt=Vs(Y,rt,s,a);e.arc(mt.x,mt.y,E,rt+Math.PI,y-Be)}let ln=Vs(T,y,s,a);if(e.lineTo(ln.x,ln.y),D>0){let mt=Vs(T,F,s,a);e.arc(mt.x,mt.y,D,y-Be,F)}}else{e.moveTo(s,a);let be=Math.cos(F)*d+s,Ae=Math.sin(F)*d+a;e.lineTo(be,Ae);let Ue=Math.cos(B)*d+s,ln=Math.sin(B)*d+a;e.lineTo(Ue,ln)}e.closePath()}function pV(e,n,t,r,i){let{fullCircles:o,startAngle:s,circumference:a}=n,l=n.endAngle;if(o){qf(e,n,t,r,l,i);for(let c=0;c<o;++c)e.fill();isNaN(a)||(l=s+(a%Ie||Ie))}return qf(e,n,t,r,l,i),e.fill(),l}function gV(e,n,t,r,i){let{fullCircles:o,startAngle:s,circumference:a,options:l}=n,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h,borderRadius:f}=l,p=l.borderAlign==="inner";if(!c)return;e.setLineDash(d||[]),e.lineDashOffset=h,p?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let g=n.endAngle;if(o){qf(e,n,t,r,g,i);for(let m=0;m<o;++m)e.stroke();isNaN(a)||(g=s+(a%Ie||Ie))}p&&dV(e,n,g),l.selfJoin&&g-s>=ce&&f===0&&u!=="miter"&&uV(e,n,g),o||(qf(e,n,t,r,g,i),e.stroke())}var Mv=class extends kn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(n){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,t,r){let i=this.getProps(["x","y"],r),{angle:o,distance:s}=Vy(i,{x:n,y:t}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),h=(this.options.spacing+this.options.borderWidth)/2,f=$(d,l-a),p=Ps(o,a,l)&&a!==l,g=f>=Ie||p,m=Yn(s,c+h,u+h);return g&&m}getCenterPoint(n){let{x:t,y:r,startAngle:i,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:l,spacing:c}=this.options,u=(i+o)/2,d=(s+a+c+l)/2;return{x:t+Math.cos(u)*d,y:r+Math.sin(u)*d}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){let{options:t,circumference:r}=this,i=(t.offset||0)/4,o=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=r>Ie?Math.floor(r/Ie):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();let a=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(a)*i,Math.sin(a)*i);let l=1-Math.sin(Math.min(ce,r||0)),c=i*l;n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor,pV(n,this,c,o,s),gV(n,this,c,o,s),n.restore()}};function jI(e,n,t=n){e.lineCap=$(t.borderCapStyle,n.borderCapStyle),e.setLineDash($(t.borderDash,n.borderDash)),e.lineDashOffset=$(t.borderDashOffset,n.borderDashOffset),e.lineJoin=$(t.borderJoinStyle,n.borderJoinStyle),e.lineWidth=$(t.borderWidth,n.borderWidth),e.strokeStyle=$(t.borderColor,n.borderColor)}function mV(e,n,t){e.lineTo(t.x,t.y)}function yV(e){return e.stepped?hS:e.tension||e.cubicInterpolationMode==="monotone"?pS:mV}function VI(e,n,t={}){let r=e.length,{start:i=0,end:o=r-1}=t,{start:s,end:a}=n,l=Math.max(i,s),c=Math.min(o,a),u=i<s&&o<s||i>a&&o>a;return{count:r,start:l,loop:n.loop,ilen:c<l&&!u?r+c-l:c-l}}function vV(e,n,t,r){let{points:i,options:o}=n,{count:s,start:a,loop:l,ilen:c}=VI(i,t,r),u=yV(o),{move:d=!0,reverse:h}=r||{},f,p,g;for(f=0;f<=c;++f)p=i[(a+(h?c-f:f))%s],!p.skip&&(d?(e.moveTo(p.x,p.y),d=!1):u(e,g,p,h,o.stepped),g=p);return l&&(p=i[(a+(h?c:0))%s],u(e,g,p,h,o.stepped)),!!l}function bV(e,n,t,r){let i=n.points,{count:o,start:s,ilen:a}=VI(i,t,r),{move:l=!0,reverse:c}=r||{},u=0,d=0,h,f,p,g,m,y,v=_=>(s+(c?a-_:_))%o,D=()=>{g!==m&&(e.lineTo(u,m),e.lineTo(u,g),e.lineTo(u,y))};for(l&&(f=i[v(0)],e.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=i[v(h)],f.skip)continue;let _=f.x,E=f.y,S=_|0;S===p?(E<g?g=E:E>m&&(m=E),u=(d*u+_)/++d):(D(),e.lineTo(_,E),p=S,d=0,g=m=E),y=E}D()}function Av(e){let n=e.options,t=n.borderDash&&n.borderDash.length;return!e._decimated&&!e._loop&&!n.tension&&n.cubicInterpolationMode!=="monotone"&&!n.stepped&&!t?bV:vV}function _V(e){return e.stepped?ES:e.tension||e.cubicInterpolationMode==="monotone"?CS:ni}function wV(e,n,t,r){let i=n._path;i||(i=n._path=new Path2D,n.path(i,t,r)&&i.closePath()),jI(e,n.options),e.stroke(i)}function DV(e,n,t,r){let{segments:i,options:o}=n,s=Av(n);for(let a of i)jI(e,o,a.style),e.beginPath(),s(e,n,a,{start:t,end:t+r-1})&&e.closePath(),e.stroke()}var EV=typeof Path2D=="function";function CV(e,n,t,r){EV&&!n.options.segment?wV(e,n,t,r):DV(e,n,t,r)}var Zf=(()=>{class e extends kn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){let i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){let o=i.spanGaps?this._loop:this._fullLoop;_S(this._points,i,t,o,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=IS(this,this.options.segment))}first(){let t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){let t=this.segments,r=this.points,i=t.length;return i&&r[t[i-1].end]}interpolate(t,r){let i=this.options,o=t[r],s=this.points,a=sv(this,{property:r,start:o,end:o});if(!a.length)return;let l=[],c=_V(i),u,d;for(u=0,d=a.length;u<d;++u){let{start:h,end:f}=a[u],p=s[h],g=s[f];if(p===g){l.push(p);continue}let m=Math.abs((o-p[r])/(g[r]-p[r])),y=c(p,g,m,i.stepped);y[r]=t[r],l.push(y)}return l.length===1?l[0]:l}pathSegment(t,r,i){return Av(this)(t,this,r,i)}path(t,r,i){let o=this.segments,s=Av(this),a=this._loop;r=r||0,i=i||this.points.length-r;for(let l of o)a&=s(t,this,l,{start:r,end:r+i-1});return!!a}draw(t,r,i,o){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),CV(t,this,i,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return e})();function tI(e,n,t,r){let i=e.options,{[t]:o}=e.getProps([t],r);return Math.abs(n-o)<i.radius+i.hitRadius}var SV=(()=>{class e extends kn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){let o=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(r-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,r){return tI(this,t,"x",r)}inYRange(t,r){return tI(this,t,"y",r)}getCenterPoint(t){let{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);let i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){let i=this.options;this.skip||i.radius<.1||!qn(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Af(t,i,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return e})();function BI(e,n){let{x:t,y:r,base:i,width:o,height:s}=e.getProps(["x","y","base","width","height"],n),a,l,c,u,d;return e.horizontal?(d=s/2,a=Math.min(t,i),l=Math.max(t,i),c=r-d,u=r+d):(d=o/2,a=t-d,l=t+d,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function ci(e,n,t,r){return e?0:Qe(n,t,r)}function IV(e,n,t){let r=e.options.borderWidth,i=e.borderSkipped,o=Jy(r);return{t:ci(i.top,o.top,0,t),r:ci(i.right,o.right,0,n),b:ci(i.bottom,o.bottom,0,t),l:ci(i.left,o.left,0,n)}}function xV(e,n,t){let{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,o=ai(i),s=Math.min(n,t),a=e.borderSkipped,l=r||ne(i);return{topLeft:ci(!l||a.top||a.left,o.topLeft,0,s),topRight:ci(!l||a.top||a.right,o.topRight,0,s),bottomLeft:ci(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:ci(!l||a.bottom||a.right,o.bottomRight,0,s)}}function TV(e){let n=BI(e),t=n.right-n.left,r=n.bottom-n.top,i=IV(e,t/2,r/2),o=xV(e,t/2,r/2);return{outer:{x:n.left,y:n.top,w:t,h:r,radius:o},inner:{x:n.left+i.l,y:n.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function gv(e,n,t,r){let i=n===null,o=t===null,a=e&&!(i&&o)&&BI(e,r);return a&&(i||Yn(n,a.left,a.right))&&(o||Yn(t,a.top,a.bottom))}function MV(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function AV(e,n){e.rect(n.x,n.y,n.w,n.h)}function mv(e,n,t={}){let r=e.x!==t.x?-n:0,i=e.y!==t.y?-n:0,o=(e.x+e.w!==t.x+t.w?n:0)-r,s=(e.y+e.h!==t.y+t.h?n:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+o,h:e.h+s,radius:e.radius}}var Rv=class extends kn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){let{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:o,outer:s}=TV(this),a=MV(s.radius)?Ls:AV;n.save(),(s.w!==o.w||s.h!==o.h)&&(n.beginPath(),a(n,mv(s,t,o)),n.clip(),a(n,mv(o,-t,s)),n.fillStyle=r,n.fill("evenodd")),n.beginPath(),a(n,mv(o,t)),n.fillStyle=i,n.fill(),n.restore()}inRange(n,t,r){return gv(this,n,t,r)}inXRange(n,t){return gv(this,n,null,t)}inYRange(n,t){return gv(this,null,n,t)}getCenterPoint(n){let{x:t,y:r,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],n);return{x:o?(t+i)/2:t,y:o?r:(r+i)/2}}getRange(n){return n==="x"?this.width/2:this.height/2}},RV=Object.freeze({__proto__:null,ArcElement:Mv,BarElement:Rv,LineElement:Zf,PointElement:SV}),kv=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],nI=kv.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function UI(e){return kv[e%kv.length]}function $I(e){return nI[e%nI.length]}function kV(e,n){return e.borderColor=UI(n),e.backgroundColor=$I(n),++n}function NV(e,n){return e.backgroundColor=e.data.map(()=>UI(n++)),n}function OV(e,n){return e.backgroundColor=e.data.map(()=>$I(n++)),n}function PV(e){let n=0;return(t,r)=>{let i=e.getDatasetMeta(r).controller;i instanceof Bv?n=NV(t,n):i instanceof MI?n=OV(t,n):i&&(n=kV(t,n))}}function rI(e){let n;for(n in e)if(e[n].borderColor||e[n].backgroundColor)return!0;return!1}function FV(e){return e&&(e.borderColor||e.backgroundColor)}function LV(){return Me.borderColor!=="rgba(0,0,0,0.1)"||Me.backgroundColor!=="rgba(0,0,0,0.1)"}var jV={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,n,t){if(!t.enabled)return;let{data:{datasets:r},options:i}=e.config,{elements:o}=i,s=rI(r)||FV(i)||o&&rI(o)||LV();if(!t.forceOverride&&s)return;let a=PV(e);r.forEach(a)}};function VV(e,n,t,r,i){let o=i.samples||r;if(o>=t)return e.slice(n,n+t);let s=[],a=(t-2)/(o-2),l=0,c=n+t-1,u=n,d,h,f,p,g;for(s[l++]=e[u],d=0;d<o-2;d++){let m=0,y=0,v,D=Math.floor((d+1)*a)+1+n,_=Math.min(Math.floor((d+2)*a)+1,t)+n,E=_-D;for(v=D;v<_;v++)m+=e[v].x,y+=e[v].y;m/=E,y/=E;let S=Math.floor(d*a)+1+n,T=Math.min(Math.floor((d+1)*a)+1,t)+n,{x:I,y:F}=e[u];for(f=p=-1,v=S;v<T;v++)p=.5*Math.abs((I-m)*(e[v].y-F)-(I-e[v].x)*(y-F)),p>f&&(f=p,h=e[v],g=v);s[l++]=h,u=g}return s[l++]=e[c],s}function BV(e,n,t,r){let i=0,o=0,s,a,l,c,u,d,h,f,p,g,m=[],y=n+t-1,v=e[n].x,_=e[y].x-v;for(s=n;s<n+t;++s){a=e[s],l=(a.x-v)/_*r,c=a.y;let E=l|0;if(E===u)c<p?(p=c,d=s):c>g&&(g=c,h=s),i=(o*i+a.x)/++o;else{let S=s-1;if(!te(d)&&!te(h)){let T=Math.min(d,h),I=Math.max(d,h);T!==f&&T!==S&&m.push(q(M({},e[T]),{x:i})),I!==f&&I!==S&&m.push(q(M({},e[I]),{x:i}))}s>0&&S!==f&&m.push(e[S]),m.push(a),u=E,o=0,p=g=c,d=h=f=s}}return m}function HI(e){if(e._decimated){let n=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:n})}}function iI(e){e.data.datasets.forEach(n=>{HI(n)})}function UV(e,n){let t=n.length,r=0,i,{iScale:o}=e,{min:s,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(r=Qe(Gn(n,o.axis,s).lo,0,t-1)),c?i=Qe(Gn(n,o.axis,a).hi+1,r,t)-r:i=t-r,{start:r,count:i}}var $V={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,n,t)=>{if(!t.enabled){iI(e);return}let r=e.width;e.data.datasets.forEach((i,o)=>{let{_data:s,indexAxis:a}=i,l=e.getDatasetMeta(o),c=s||i.data;if(js([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let u=e.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:d,count:h}=UV(l,c),f=t.threshold||4*r;if(h<=f){HI(i);return}te(s)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(t.algorithm){case"lttb":p=VV(c,d,h,r,t);break;case"min-max":p=BV(c,d,h,r);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=p})},destroy(e){iI(e)}};function HV(e,n,t){let r=e.segments,i=e.points,o=n.points,s=[];for(let a of r){let{start:l,end:c}=a;c=Qf(l,c,i);let u=Nv(t,i[l],i[c],a.loop);if(!n.segments){s.push({source:a,target:u,start:i[l],end:i[c]});continue}let d=sv(n,u);for(let h of d){let f=Nv(t,o[h.start],o[h.end],h.loop),p=ov(a,i,f);for(let g of p)s.push({source:g,target:h,start:{[t]:oI(u,f,"start",Math.max)},end:{[t]:oI(u,f,"end",Math.min)}})}}return s}function Nv(e,n,t,r){if(r)return;let i=n[e],o=t[e];return e==="angle"&&(i=ht(i),o=ht(o)),{property:e,start:i,end:o}}function zV(e,n){let{x:t=null,y:r=null}=e||{},i=n.points,o=[];return n.segments.forEach(({start:s,end:a})=>{a=Qf(s,a,i);let l=i[s],c=i[a];r!==null?(o.push({x:l.x,y:r}),o.push({x:c.x,y:r})):t!==null&&(o.push({x:t,y:l.y}),o.push({x:t,y:c.y}))}),o}function Qf(e,n,t){for(;n>e;n--){let r=t[n];if(!isNaN(r.x)&&!isNaN(r.y))break}return n}function oI(e,n,t,r){return e&&n?r(e[t],n[t]):e?e[t]:n?n[t]:0}function zI(e,n){let t=[],r=!1;return Se(e)?(r=!0,t=e):t=zV(e,n),t.length?new Zf({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function sI(e){return e&&e.fill!==!1}function WV(e,n,t){let i=e[n].fill,o=[n],s;if(!t)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!Pe(i))return i;if(s=e[i],!s)return!1;if(s.visible)return i;o.push(i),i=s.fill}return!1}function GV(e,n,t){let r=JV(e);if(ne(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Pe(i)&&Math.floor(i)===i?qV(r[0],n,i,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function qV(e,n,t,r){return(e==="-"||e==="+")&&(t=n+t),t===n||t<0||t>=r?!1:t}function KV(e,n){let t=null;return e==="start"?t=n.bottom:e==="end"?t=n.top:ne(e)?t=n.getPixelForValue(e.value):n.getBasePixel&&(t=n.getBasePixel()),t}function YV(e,n,t){let r;return e==="start"?r=t:e==="end"?r=n.options.reverse?n.min:n.max:ne(e)?r=e.value:r=n.getBaseValue(),r}function JV(e){let n=e.options,t=n.fill,r=$(t&&t.target,t);return r===void 0&&(r=!!n.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function ZV(e){let{scale:n,index:t,line:r}=e,i=[],o=r.segments,s=r.points,a=QV(n,t);a.push(zI({x:null,y:n.bottom},r));for(let l=0;l<o.length;l++){let c=o[l];for(let u=c.start;u<=c.end;u++)XV(i,s[u],a)}return new Zf({points:i,options:{}})}function QV(e,n){let t=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){let o=r[i];if(o.index===n)break;o.hidden||t.unshift(o.dataset)}return t}function XV(e,n,t){let r=[];for(let i=0;i<t.length;i++){let o=t[i],{first:s,last:a,point:l}=e2(o,n,"x");if(!(!l||s&&a)){if(s)r.unshift(l);else if(e.push(l),!a)break}}e.push(...r)}function e2(e,n,t){let r=e.interpolate(n,t);if(!r)return{};let i=r[t],o=e.segments,s=e.points,a=!1,l=!1;for(let c=0;c<o.length;c++){let u=o[c],d=s[u.start][t],h=s[u.end][t];if(Yn(i,d,h)){a=i===d,l=i===h;break}}return{first:a,last:l,point:r}}var Kf=class{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,t,r){let{x:i,y:o,radius:s}=this;return t=t||{start:0,end:Ie},n.arc(i,o,s,t.end,t.start,!0),!r.bounds}interpolate(n){let{x:t,y:r,radius:i}=this,o=n.angle;return{x:t+Math.cos(o)*i,y:r+Math.sin(o)*i,angle:o}}};function t2(e){let{chart:n,fill:t,line:r}=e;if(Pe(t))return n2(n,t);if(t==="stack")return ZV(e);if(t==="shape")return!0;let i=r2(e);return i instanceof Kf?i:zI(i,r)}function n2(e,n){let t=e.getDatasetMeta(n);return t&&e.isDatasetVisible(n)?t.dataset:null}function r2(e){return(e.scale||{}).getPointPositionForValue?o2(e):i2(e)}function i2(e){let{scale:n={},fill:t}=e,r=KV(t,n);if(Pe(r)){let i=n.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function o2(e){let{scale:n,fill:t}=e,r=n.options,i=n.getLabels().length,o=r.reverse?n.max:n.min,s=YV(t,n,o),a=[];if(r.grid.circular){let l=n.getPointPositionForValue(0,o);return new Kf({x:l.x,y:l.y,radius:n.getDistanceFromCenterForValue(s)})}for(let l=0;l<i;++l)a.push(n.getPointPositionForValue(l,s));return a}function yv(e,n,t){let r=t2(n),{chart:i,index:o,line:s,scale:a,axis:l}=n,c=s.options,u=c.fill,d=c.backgroundColor,{above:h=d,below:f=d}=u||{},p=i.getDatasetMeta(o),g=av(i,p);r&&s.points.length&&(Hl(e,t),s2(e,{line:s,target:r,above:h,below:f,area:t,scale:a,axis:l,clip:g}),zl(e))}function s2(e,n){let{line:t,target:r,above:i,below:o,area:s,scale:a,clip:l}=n,c=t._loop?"angle":n.axis;e.save();let u=o;o!==i&&(c==="x"?(aI(e,r,s.top),vv(e,{line:t,target:r,color:i,scale:a,property:c,clip:l}),e.restore(),e.save(),aI(e,r,s.bottom)):c==="y"&&(lI(e,r,s.left),vv(e,{line:t,target:r,color:o,scale:a,property:c,clip:l}),e.restore(),e.save(),lI(e,r,s.right),u=i)),vv(e,{line:t,target:r,color:u,scale:a,property:c,clip:l}),e.restore()}function aI(e,n,t){let{segments:r,points:i}=n,o=!0,s=!1;e.beginPath();for(let a of r){let{start:l,end:c}=a,u=i[l],d=i[Qf(l,c,i)];o?(e.moveTo(u.x,u.y),o=!1):(e.lineTo(u.x,t),e.lineTo(u.x,u.y)),s=!!n.pathSegment(e,a,{move:s}),s?e.closePath():e.lineTo(d.x,t)}e.lineTo(n.first().x,t),e.closePath(),e.clip()}function lI(e,n,t){let{segments:r,points:i}=n,o=!0,s=!1;e.beginPath();for(let a of r){let{start:l,end:c}=a,u=i[l],d=i[Qf(l,c,i)];o?(e.moveTo(u.x,u.y),o=!1):(e.lineTo(t,u.y),e.lineTo(u.x,u.y)),s=!!n.pathSegment(e,a,{move:s}),s?e.closePath():e.lineTo(t,d.y)}e.lineTo(t,n.first().y),e.closePath(),e.clip()}function vv(e,n){let{line:t,target:r,property:i,color:o,scale:s,clip:a}=n,l=HV(t,r,i);for(let{source:c,target:u,start:d,end:h}of l){let{style:{backgroundColor:f=o}={}}=c,p=r!==!0;e.save(),e.fillStyle=f,a2(e,s,a,p&&Nv(i,d,h)),e.beginPath();let g=!!t.pathSegment(e,c),m;if(p){g?e.closePath():cI(e,r,h,i);let y=!!r.pathSegment(e,u,{move:g,reverse:!0});m=g&&y,m||cI(e,r,d,i)}e.closePath(),e.fill(m?"evenodd":"nonzero"),e.restore()}}function a2(e,n,t,r){let i=n.chart.chartArea,{property:o,start:s,end:a}=r||{};if(o==="x"||o==="y"){let l,c,u,d;o==="x"?(l=s,c=i.top,u=a,d=i.bottom):(l=i.left,c=s,u=i.right,d=a),e.beginPath(),t&&(l=Math.max(l,t.left),u=Math.min(u,t.right),c=Math.max(c,t.top),d=Math.min(d,t.bottom)),e.rect(l,c,u-l,d-c),e.clip()}}function cI(e,n,t,r){let i=n.interpolate(t,r);i&&e.lineTo(i.x,i.y)}var l2={id:"filler",afterDatasetsUpdate(e,n,t){let r=(e.data.datasets||[]).length,i=[],o,s,a,l;for(s=0;s<r;++s)o=e.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof Zf&&(l={visible:e.isDatasetVisible(s),index:s,fill:GV(a,s,r),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,i.push(l);for(s=0;s<r;++s)l=i[s],!(!l||l.fill===!1)&&(l.fill=WV(i,s,t.propagate))},beforeDraw(e,n,t){let r=t.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let s=i.length-1;s>=0;--s){let a=i[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),r&&a.fill&&yv(e.ctx,a,o))}},beforeDatasetsDraw(e,n,t){if(t.drawTime!=="beforeDatasetsDraw")return;let r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){let o=r[i].$filler;sI(o)&&yv(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,n,t){let r=n.meta.$filler;!sI(r)||t.drawTime!=="beforeDatasetDraw"||yv(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},uI=(e,n)=>{let{boxHeight:t=n,boxWidth:r=n}=e;return e.usePointStyle&&(t=Math.min(t,n),r=e.pointStyleWidth||Math.min(r,n)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(n,t)}},c2=(e,n)=>e!==null&&n!==null&&e.datasetIndex===n.datasetIndex&&e.index===n.index,Yf=class extends kn{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,t,r){this.maxWidth=n,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let n=this.options.labels||{},t=we(n.generateLabels,[this.chart],this)||[];n.filter&&(t=t.filter(r=>n.filter(r,this.chart.data))),n.sort&&(t=t.sort((r,i)=>n.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:n,ctx:t}=this;if(!n.display){this.width=this.height=0;return}let r=n.labels,i=Ke(r.font),o=i.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=uI(r,o),c,u;t.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(s,o,a,l)+10):(u=this.maxHeight,c=this._fitCols(s,i,a,l)+10),this.width=Math.min(c,n.maxWidth||this.maxWidth),this.height=Math.min(u,n.maxHeight||this.maxHeight)}_fitRows(n,t,r,i){let{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a,d=n;o.textAlign="left",o.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((p,g)=>{let m=r+t/2+o.measureText(p.text).width;(g===0||c[c.length-1]+m+2*a>s)&&(d+=u,c[c.length-(g>0?0:1)]=0,f+=u,h++),l[g]={left:0,top:f,row:h,width:m,height:i},c[c.length-1]+=m+a}),d}_fitCols(n,t,r,i){let{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=s-n,d=a,h=0,f=0,p=0,g=0;return this.legendItems.forEach((m,y)=>{let{itemWidth:v,itemHeight:D}=u2(r,t,o,m,i);y>0&&f+D+2*a>u&&(d+=h+a,c.push({width:h,height:f}),p+=h+a,g++,h=f=0),l[y]={left:p,top:f,col:g,width:v,height:D},h=Math.max(h,v),f+=D+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;let n=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:o}}=this,s=yo(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=pt(r,this.left+i,this.right-this.lineWidths[a]);for(let c of t)a!==c.row&&(a=c.row,l=pt(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+n+i,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+i}else{let a=0,l=pt(r,this.top+n+i,this.bottom-this.columnSizes[a].height);for(let c of t)c.col!==a&&(a=c.col,l=pt(r,this.top+n+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let n=this.ctx;Hl(n,this),this._draw(),zl(n)}}_draw(){let{options:n,columnSizes:t,lineWidths:r,ctx:i}=this,{align:o,labels:s}=n,a=Me.color,l=yo(n.rtl,this.left,this.width),c=Ke(s.font),{padding:u}=s,d=c.size,h=d/2,f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;let{boxWidth:p,boxHeight:g,itemHeight:m}=uI(s,d),y=function(S,T,I){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;i.save();let F=$(I.lineWidth,1);if(i.fillStyle=$(I.fillStyle,a),i.lineCap=$(I.lineCap,"butt"),i.lineDashOffset=$(I.lineDashOffset,0),i.lineJoin=$(I.lineJoin,"miter"),i.lineWidth=F,i.strokeStyle=$(I.strokeStyle,a),i.setLineDash($(I.lineDash,[])),s.usePointStyle){let B={radius:g*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:F},Y=l.xPlus(S,p/2),re=T+h;Yy(i,B,Y,re,s.pointStyleWidth&&p)}else{let B=T+Math.max((d-g)/2,0),Y=l.leftForLtr(S,p),re=ai(I.borderRadius);i.beginPath(),Object.values(re).some(rt=>rt!==0)?Ls(i,{x:Y,y:B,w:p,h:g,radius:re}):i.rect(Y,B,p,g),i.fill(),F!==0&&i.stroke()}i.restore()},v=function(S,T,I){si(i,I.text,S,T+m/2,c,{strikethrough:I.hidden,textAlign:l.textAlign(I.textAlign)})},D=this.isHorizontal(),_=this._computeTitleHeight();D?f={x:pt(o,this.left+u,this.right-r[0]),y:this.top+u+_,line:0}:f={x:this.left+u,y:pt(o,this.top+_+u,this.bottom-t[0].height),line:0},rv(this.ctx,n.textDirection);let E=m+u;this.legendItems.forEach((S,T)=>{i.strokeStyle=S.fontColor,i.fillStyle=S.fontColor;let I=i.measureText(S.text).width,F=l.textAlign(S.textAlign||(S.textAlign=s.textAlign)),B=p+h+I,Y=f.x,re=f.y;l.setWidth(this.width),D?T>0&&Y+B+u>this.right&&(re=f.y+=E,f.line++,Y=f.x=pt(o,this.left+u,this.right-r[f.line])):T>0&&re+E>this.bottom&&(Y=f.x=Y+t[f.line].width+u,f.line++,re=f.y=pt(o,this.top+_+u,this.bottom-t[f.line].height));let rt=l.x(Y);if(y(rt,re,S),Y=uS(F,Y+p+h,D?Y+B:this.right,n.rtl),v(l.x(Y),re,S),D)f.x+=B+u;else if(typeof S.text!="string"){let Ut=c.lineHeight;f.y+=WI(S,Ut)+u}else f.y+=E}),iv(this.ctx,n.textDirection)}drawTitle(){let n=this.options,t=n.title,r=Ke(t.font),i=gt(t.padding);if(!t.display)return;let o=yo(n.rtl,this.left,this.width),s=this.ctx,a=t.position,l=r.size/2,c=i.top+l,u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=pt(n.align,d,this.right-h);else{let p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=c+pt(n.align,this.top,this.bottom-p-n.labels.padding-this._computeTitleHeight())}let f=pt(a,d,d+h);s.textAlign=o.textAlign(Tf(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=r.string,si(s,t.text,f,u,r)}_computeTitleHeight(){let n=this.options.title,t=Ke(n.font),r=gt(n.padding);return n.display?t.lineHeight+r.height:0}_getLegendItemAt(n,t){let r,i,o;if(Yn(n,this.left,this.right)&&Yn(t,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],Yn(n,i.left,i.left+i.width)&&Yn(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(n){let t=this.options;if(!h2(n.type,t))return;let r=this._getLegendItemAt(n.x,n.y);if(n.type==="mousemove"||n.type==="mouseout"){let i=this._hoveredItem,o=c2(i,r);i&&!o&&we(t.onLeave,[n,i,this],this),this._hoveredItem=r,r&&!o&&we(t.onHover,[n,r,this],this)}else r&&we(t.onClick,[n,r,this],this)}};function u2(e,n,t,r,i){let o=d2(r,e,n,t),s=f2(i,r,n.lineHeight);return{itemWidth:o,itemHeight:s}}function d2(e,n,t,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((o,s)=>o.length>s.length?o:s)),n+t.size/2+r.measureText(i).width}function f2(e,n,t){let r=e;return typeof n.text!="string"&&(r=WI(n,t)),r}function WI(e,n){let t=e.text?e.text.length:0;return n*t}function h2(e,n){return!!((e==="mousemove"||e==="mouseout")&&(n.onHover||n.onLeave)||n.onClick&&(e==="click"||e==="mouseup"))}var p2={id:"legend",_element:Yf,start(e,n,t){let r=e.legend=new Yf({ctx:e.ctx,options:t,chart:e});Et.configure(e,r,t),Et.addBox(e,r)},stop(e){Et.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,n,t){let r=e.legend;Et.configure(e,r,t),r.options=t},afterUpdate(e){let n=e.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(e,n){n.replay||e.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,n,t){let r=n.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),n.hidden=!0):(i.show(r),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){let n=e.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:o,useBorderRadius:s,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(t?0:void 0),u=gt(c.borderWidth);return{text:n[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:s&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}},Xl=class extends kn{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,t){let r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=n,this.height=this.bottom=t;let i=Se(r.text)?r.text.length:1;this._padding=gt(r.padding);let o=i*Ke(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let n=this.options.position;return n==="top"||n==="bottom"}_drawArgs(n){let{top:t,left:r,bottom:i,right:o,options:s}=this,a=s.align,l=0,c,u,d;return this.isHorizontal()?(u=pt(a,r,o),d=t+n,c=o-r):(s.position==="left"?(u=r+n,d=pt(a,i,t),l=ce*-.5):(u=o-n,d=pt(a,t,i),l=ce*.5),c=i-t),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){let n=this.ctx,t=this.options;if(!t.display)return;let r=Ke(t.font),o=r.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);si(n,t.text,0,0,r,{color:t.color,maxWidth:l,rotation:c,textAlign:Tf(t.align),textBaseline:"middle",translation:[s,a]})}};function g2(e,n){let t=new Xl({ctx:e.ctx,options:n,chart:e});Et.configure(e,t,n),Et.addBox(e,t),e.titleBlock=t}var m2={id:"title",_element:Xl,start(e,n,t){g2(e,t)},stop(e){let n=e.titleBlock;Et.removeBox(e,n),delete e.titleBlock},beforeUpdate(e,n,t){let r=e.titleBlock;Et.configure(e,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Vf=new WeakMap,y2={id:"subtitle",start(e,n,t){let r=new Xl({ctx:e.ctx,options:t,chart:e});Et.configure(e,r,t),Et.addBox(e,r),Vf.set(e,r)},stop(e){Et.removeBox(e,Vf.get(e)),Vf.delete(e)},beforeUpdate(e,n,t){let r=Vf.get(e);Et.configure(e,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Zl={average(e){if(!e.length)return!1;let n,t,r=new Set,i=0,o=0;for(n=0,t=e.length;n<t;++n){let a=e[n].element;if(a&&a.hasValue()){let l=a.tooltipPosition();r.add(l.x),i+=l.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/o}},nearest(e,n){if(!e.length)return!1;let t=n.x,r=n.y,i=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=e.length;o<s;++o){let l=e[o].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),u=Ef(n,c);u<i&&(i=u,a=l)}}if(a){let l=a.tooltipPosition();t=l.x,r=l.y}return{x:t,y:r}}};function Jn(e,n){return n&&(Se(n)?Array.prototype.push.apply(e,n):e.push(n)),e}function Dr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function v2(e,n){let{element:t,datasetIndex:r,index:i}=n,o=e.getDatasetMeta(r).controller,{label:s,value:a}=o.getLabelAndValue(i);return{chart:e,label:s,parsed:o.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function dI(e,n){let t=e.chart.ctx,{body:r,footer:i,title:o}=e,{boxWidth:s,boxHeight:a}=n,l=Ke(n.bodyFont),c=Ke(n.titleFont),u=Ke(n.footerFont),d=o.length,h=i.length,f=r.length,p=gt(n.padding),g=p.height,m=0,y=r.reduce((_,E)=>_+E.before.length+E.lines.length+E.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*n.titleSpacing+n.titleMarginBottom),y){let _=n.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*_+(y-f)*l.lineHeight+(y-1)*n.bodySpacing}h&&(g+=n.footerMarginTop+h*u.lineHeight+(h-1)*n.footerSpacing);let v=0,D=function(_){m=Math.max(m,t.measureText(_).width+v)};return t.save(),t.font=c.string,ve(e.title,D),t.font=l.string,ve(e.beforeBody.concat(e.afterBody),D),v=n.displayColors?s+2+n.boxPadding:0,ve(r,_=>{ve(_.before,D),ve(_.lines,D),ve(_.after,D)}),v=0,t.font=u.string,ve(e.footer,D),t.restore(),m+=p.width,{width:m,height:g}}function b2(e,n){let{y:t,height:r}=n;return t<r/2?"top":t>e.height-r/2?"bottom":"center"}function _2(e,n,t,r){let{x:i,width:o}=r,s=t.caretSize+t.caretPadding;if(e==="left"&&i+o+s>n.width||e==="right"&&i-o-s<0)return!0}function w2(e,n,t,r){let{x:i,width:o}=t,{width:s,chartArea:{left:a,right:l}}=e,c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=o/2?c="left":i>=s-o/2&&(c="right"),_2(c,e,n,t)&&(c="center"),c}function fI(e,n,t){let r=t.yAlign||n.yAlign||b2(e,t);return{xAlign:t.xAlign||n.xAlign||w2(e,n,t,r),yAlign:r}}function D2(e,n){let{x:t,width:r}=e;return n==="right"?t-=r:n==="center"&&(t-=r/2),t}function E2(e,n,t){let{y:r,height:i}=e;return n==="top"?r+=t:n==="bottom"?r-=i+t:r-=i/2,r}function hI(e,n,t,r){let{caretSize:i,caretPadding:o,cornerRadius:s}=e,{xAlign:a,yAlign:l}=t,c=i+o,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=ai(s),p=D2(n,a),g=E2(n,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,h)+i:a==="right"&&(p+=Math.max(d,f)+i),{x:Qe(p,0,r.width-n.width),y:Qe(g,0,r.height-n.height)}}function Bf(e,n,t){let r=gt(t.padding);return n==="center"?e.x+e.width/2:n==="right"?e.x+e.width-r.right:e.x+r.left}function pI(e){return Jn([],Dr(e))}function C2(e,n,t){return _r(e,{tooltip:n,tooltipItems:t,type:"tooltip"})}function gI(e,n){let t=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return t?e.override(t):e}var GI={beforeTitle:Kn,title(e){if(e.length>0){let n=e[0],t=n.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return n.dataset.label||"";if(n.label)return n.label;if(r>0&&n.dataIndex<r)return t[n.dataIndex]}return""},afterTitle:Kn,beforeBody:Kn,beforeLabel:Kn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let n=e.dataset.label||"";n&&(n+=": ");let t=e.formattedValue;return te(t)||(n+=t),n},labelColor(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Kn,afterBody:Kn,beforeFooter:Kn,footer:Kn,afterFooter:Kn};function Vt(e,n,t,r){let i=e[n].call(t,r);return typeof i>"u"?GI[n].call(t,r):i}var mI=(()=>{class e extends kn{static positioners=Zl;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let r=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&r.options.animation&&i.animations,s=new zf(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=C2(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){let{callbacks:i}=r,o=Vt(i,"beforeTitle",this,t),s=Vt(i,"title",this,t),a=Vt(i,"afterTitle",this,t),l=[];return l=Jn(l,Dr(o)),l=Jn(l,Dr(s)),l=Jn(l,Dr(a)),l}getBeforeBody(t,r){return pI(Vt(r.callbacks,"beforeBody",this,t))}getBody(t,r){let{callbacks:i}=r,o=[];return ve(t,s=>{let a={before:[],lines:[],after:[]},l=gI(i,s);Jn(a.before,Dr(Vt(l,"beforeLabel",this,s))),Jn(a.lines,Vt(l,"label",this,s)),Jn(a.after,Dr(Vt(l,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(t,r){return pI(Vt(r.callbacks,"afterBody",this,t))}getFooter(t,r){let{callbacks:i}=r,o=Vt(i,"beforeFooter",this,t),s=Vt(i,"footer",this,t),a=Vt(i,"afterFooter",this,t),l=[];return l=Jn(l,Dr(o)),l=Jn(l,Dr(s)),l=Jn(l,Dr(a)),l}_createItems(t){let r=this._active,i=this.chart.data,o=[],s=[],a=[],l=[],c,u;for(c=0,u=r.length;c<u;++c)l.push(v2(this.chart,r[c]));return t.filter&&(l=l.filter((d,h,f)=>t.filter(d,h,f,i))),t.itemSort&&(l=l.sort((d,h)=>t.itemSort(d,h,i))),ve(l,d=>{let h=gI(t.callbacks,d);o.push(Vt(h,"labelColor",this,d)),s.push(Vt(h,"labelPointStyle",this,d)),a.push(Vt(h,"labelTextColor",this,d))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(t,r){let i=this.options.setContext(this.getContext()),o=this._active,s,a=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{let l=Zl[i.position].call(this,o,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);let c=this._size=dI(this,i),u=Object.assign({},l,c),d=fI(this.chart,i,u),h=hI(i,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,i,o){let s=this.getCaretPosition(t,i,o);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(t,r,i){let{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:l}=i,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=ai(l),{x:f,y:p}=t,{width:g,height:m}=r,y,v,D,_,E,S;return s==="center"?(E=p+m/2,o==="left"?(y=f,v=y-a,_=E+a,S=E-a):(y=f+g,v=y+a,_=E-a,S=E+a),D=y):(o==="left"?v=f+Math.max(c,d)+a:o==="right"?v=f+g-Math.max(u,h)-a:v=this.caretX,s==="top"?(_=p,E=_-a,y=v-a,D=v+a):(_=p+m,E=_+a,y=v+a,D=v-a),S=_),{x1:y,x2:v,x3:D,y1:_,y2:E,y3:S}}drawTitle(t,r,i){let o=this.title,s=o.length,a,l,c;if(s){let u=yo(i.rtl,this.x,this.width);for(t.x=Bf(this,i.titleAlign,i),r.textAlign=u.textAlign(i.titleAlign),r.textBaseline="middle",a=Ke(i.titleFont),l=i.titleSpacing,r.fillStyle=i.titleColor,r.font=a.string,c=0;c<s;++c)r.fillText(o[c],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+l,c+1===s&&(t.y+=i.titleMarginBottom-l)}}_drawColorBox(t,r,i,o,s){let a=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:c,boxWidth:u}=s,d=Ke(s.bodyFont),h=Bf(this,"left",s),f=o.x(h),p=c<d.lineHeight?(d.lineHeight-c)/2:0,g=r.y+p;if(s.usePointStyle){let m={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=o.leftForLtr(f,u)+u/2,v=g+c/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,Af(t,m,y,v),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Af(t,m,y,v)}else{t.lineWidth=ne(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;let m=o.leftForLtr(f,u),y=o.leftForLtr(o.xPlus(f,1),u-2),v=ai(a.borderRadius);Object.values(v).some(D=>D!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Ls(t,{x:m,y:g,w:u,h:c,radius:v}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Ls(t,{x:y,y:g+1,w:u-2,h:c-2,radius:v}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(m,g,u,c),t.strokeRect(m,g,u,c),t.fillStyle=a.backgroundColor,t.fillRect(y,g+1,u-2,c-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,r,i){let{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=i,h=Ke(i.bodyFont),f=h.lineHeight,p=0,g=yo(i.rtl,this.x,this.width),m=function(F){r.fillText(F,g.x(t.x+p),t.y+f/2),t.y+=f+s},y=g.textAlign(a),v,D,_,E,S,T,I;for(r.textAlign=a,r.textBaseline="middle",r.font=h.string,t.x=Bf(this,y,i),r.fillStyle=i.bodyColor,ve(this.beforeBody,m),p=l&&y!=="right"?a==="center"?u/2+d:u+2+d:0,E=0,T=o.length;E<T;++E){for(v=o[E],D=this.labelTextColors[E],r.fillStyle=D,ve(v.before,m),_=v.lines,l&&_.length&&(this._drawColorBox(r,t,E,g,i),f=Math.max(h.lineHeight,c)),S=0,I=_.length;S<I;++S)m(_[S]),f=h.lineHeight;ve(v.after,m)}p=0,f=h.lineHeight,ve(this.afterBody,m),t.y-=s}drawFooter(t,r,i){let o=this.footer,s=o.length,a,l;if(s){let c=yo(i.rtl,this.x,this.width);for(t.x=Bf(this,i.footerAlign,i),t.y+=i.footerMarginTop,r.textAlign=c.textAlign(i.footerAlign),r.textBaseline="middle",a=Ke(i.footerFont),r.fillStyle=i.footerColor,r.font=a.string,l=0;l<s;++l)r.fillText(o[l],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,r,i,o){let{xAlign:s,yAlign:a}=this,{x:l,y:c}=t,{width:u,height:d}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=ai(o.cornerRadius);r.fillStyle=o.backgroundColor,r.strokeStyle=o.borderColor,r.lineWidth=o.borderWidth,r.beginPath(),r.moveTo(l+h,c),a==="top"&&this.drawCaret(t,r,i,o),r.lineTo(l+u-f,c),r.quadraticCurveTo(l+u,c,l+u,c+f),a==="center"&&s==="right"&&this.drawCaret(t,r,i,o),r.lineTo(l+u,c+d-g),r.quadraticCurveTo(l+u,c+d,l+u-g,c+d),a==="bottom"&&this.drawCaret(t,r,i,o),r.lineTo(l+p,c+d),r.quadraticCurveTo(l,c+d,l,c+d-p),a==="center"&&s==="left"&&this.drawCaret(t,r,i,o),r.lineTo(l,c+h),r.quadraticCurveTo(l,c,l+h,c),r.closePath(),r.fill(),o.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){let r=this.chart,i=this.$animations,o=i&&i.x,s=i&&i.y;if(o||s){let a=Zl[t.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=dI(this,t),c=Object.assign({},a,this._size),u=fI(r,t,c),d=hI(t,c,u,r);(o._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){let r=this.options.setContext(this.getContext()),i=this.opacity;if(!i)return;this._updateAnimationTarget(r);let o={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;let a=gt(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,o,r),rv(t,r.textDirection),s.y+=a.top,this.drawTitle(s,t,r),this.drawBody(s,t,r),this.drawFooter(s,t,r),iv(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){let i=this._active,o=t.map(({datasetIndex:l,index:c})=>{let u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),s=!Ul(i,o),a=this._positionChanged(o,r);(s||a)&&(this._active=o,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,s=this._active||[],a=this._getActiveElements(t,s,r,i),l=this._positionChanged(a,t),c=r||!Ul(a,s)||l;return c&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),c}_getActiveElements(t,r,i,o){let s=this.options;if(t.type==="mouseout")return[];if(!o)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(t,r){let{caretX:i,caretY:o,options:s}=this,a=Zl[s.position].call(this,t,r);return a!==!1&&(i!==a.x||o!==a.y)}}return e})(),S2={id:"tooltip",_element:mI,positioners:Zl,afterInit(e,n,t){t&&(e.tooltip=new mI({chart:e,options:t}))},beforeUpdate(e,n,t){e.tooltip&&e.tooltip.initialize(t)},reset(e,n,t){e.tooltip&&e.tooltip.initialize(t)},afterDraw(e){let n=e.tooltip;if(n&&n._willRender()){let t={tooltip:n};if(e.notifyPlugins("beforeTooltipDraw",q(M({},t),{cancelable:!0}))===!1)return;n.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",t)}},afterEvent(e,n){if(e.tooltip){let t=n.replay;e.tooltip.handleEvent(n.event,t,n.inChartArea)&&(n.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,n)=>n.bodyFont.size,boxWidth:(e,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:GI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},I2=Object.freeze({__proto__:null,Colors:jV,Decimation:$V,Filler:l2,Legend:p2,SubTitle:y2,Title:m2,Tooltip:S2}),x2=(e,n,t,r)=>(typeof n=="string"?(t=e.push(n)-1,r.unshift({index:t,label:n})):isNaN(n)&&(t=null),t);function T2(e,n,t,r){let i=e.indexOf(n);if(i===-1)return x2(e,n,t,r);let o=e.lastIndexOf(n);return i!==o?t:i}var M2=(e,n)=>e===null?null:Qe(Math.round(e),0,n);function yI(e){let n=this.getLabels();return e>=0&&e<n.length?n[e]:e}var A2=(()=>{class e extends _o{static id="category";static defaults={ticks:{callback:yI}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let r=this._addedLabels;if(r.length){let i=this.getLabels();for(let{index:o,label:s}of r)i[o]===s&&i.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(te(t))return null;let i=this.getLabels();return r=isFinite(r)&&i[r]===t?r:T2(i,t,$(r,t),this._addedLabels),M2(r,i.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:r}=this.getUserBounds(),{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),r||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){let t=this.min,r=this.max,i=this.options.offset,o=[],s=this.getLabels();s=t===0&&r===s.length-1?s:s.slice(t,r+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=r;a++)o.push({value:a});return o}getLabelForValue(t){return yI.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return e})();function R2(e,n){let t=[],{bounds:i,step:o,min:s,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=e,f=o||1,p=u-1,{min:g,max:m}=n,y=!te(s),v=!te(a),D=!te(c),_=(m-g)/(d+1),E=Fy((m-g)/p/f)*f,S,T,I,F;if(E<1e-14&&!y&&!v)return[{value:g},{value:m}];F=Math.ceil(m/E)-Math.floor(g/E),F>p&&(E=Fy(F*E/p/f)*f),te(l)||(S=Math.pow(10,l),E=Math.ceil(E*S)/S),i==="ticks"?(T=Math.floor(g/E)*E,I=Math.ceil(m/E)*E):(T=g,I=m),y&&v&&o&&rS((a-s)/o,E/1e3)?(F=Math.round(Math.min((a-s)/E,u)),E=(a-s)/F,T=s,I=a):D?(T=y?s:T,I=v?a:I,F=c-1,E=(I-T)/F):(F=(I-T)/E,Os(F,Math.round(F),E/1e3)?F=Math.round(F):F=Math.ceil(F));let B=Math.max(jy(E),jy(T));S=Math.pow(10,te(l)?B:l),T=Math.round(T*S)/S,I=Math.round(I*S)/S;let Y=0;for(y&&(h&&T!==s?(t.push({value:s}),T<s&&Y++,Os(Math.round((T+Y*E)*S)/S,s,vI(s,_,e))&&Y++):T<s&&Y++);Y<F;++Y){let re=Math.round((T+Y*E)*S)/S;if(v&&re>a)break;t.push({value:re})}return v&&h&&I!==a?t.length&&Os(t[t.length-1].value,a,vI(a,_,e))?t[t.length-1].value=a:t.push({value:a}):(!v||I===a)&&t.push({value:I}),t}function vI(e,n,{horizontal:t,minRotation:r}){let i=an(r),o=(t?Math.sin(i):Math.cos(i))||.001,s=.75*n*(""+e).length;return Math.min(n/o,s)}var Us=class extends _o{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,t){return te(n)||(typeof n=="number"||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){let{beginAtZero:n}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds(),{min:i,max:o}=this,s=l=>i=t?i:l,a=l=>o=r?o:l;if(n){let l=Rn(i),c=Rn(o);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(i===o){let l=o===0?1:Math.abs(o*.05);a(o+l),n||s(i-l)}this.min=i,this.max=o}getTickLimit(){let n=this.options.ticks,{maxTicksLimit:t,stepSize:r}=n,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let n=this.options,t=n.ticks,r=this.getTickLimit();r=Math.max(2,r);let i={maxTicks:r,bounds:n.bounds,min:n.min,max:n.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,s=R2(i,o);return n.bounds==="ticks"&&Ly(s,this,"value"),n.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let n=this.ticks,t=this.min,r=this.max;if(super.configure(),this.options.offset&&n.length){let i=(r-t)/Math.max(n.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(n){return Fs(n,this.chart.options.locale,this.options.ticks.format)}},Ov=class extends Us{static id="linear";static defaults={ticks:{callback:$l.formatters.numeric}};determineDataLimits(){let{min:n,max:t}=this.getMinMax(!0);this.min=Pe(n)?n:0,this.max=Pe(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let n=this.isHorizontal(),t=n?this.width:this.height,r=an(this.options.ticks.minRotation),i=(n?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/i))}getPixelForValue(n){return n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}},ec=e=>Math.floor(vr(e)),bo=(e,n)=>Math.pow(10,ec(e)+n);function bI(e){return e/Math.pow(10,ec(e))===1}function _I(e,n,t){let r=Math.pow(10,t),i=Math.floor(e/r);return Math.ceil(n/r)-i}function k2(e,n){let t=n-e,r=ec(t);for(;_I(e,n,r)>10;)r++;for(;_I(e,n,r)<10;)r--;return Math.min(r,ec(e))}function N2(e,{min:n,max:t}){n=jt(e.min,n);let r=[],i=ec(n),o=k2(n,t),s=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),l=i>o?Math.pow(10,i):0,c=Math.round((n-l)*s)/s,u=Math.floor((n-l)/a/10)*a*10,d=Math.floor((c-u)/Math.pow(10,o)),h=jt(e.min,Math.round((l+u+d*Math.pow(10,o))*s)/s);for(;h<t;)r.push({value:h,major:bI(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,s=o>=0?1:s),h=Math.round((l+u+d*Math.pow(10,o))*s)/s;let f=jt(e.max,h);return r.push({value:f,major:bI(f),significand:d}),r}var Pv=class extends _o{static id="logarithmic";static defaults={ticks:{callback:$l.formatters.logarithmic,major:{enabled:!0}}};constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,t){let r=Us.prototype.parse.apply(this,[n,t]);if(r===0){this._zero=!0;return}return Pe(r)&&r>0?r:null}determineDataLimits(){let{min:n,max:t}=this.getMinMax(!0);this.min=Pe(n)?Math.max(0,n):null,this.max=Pe(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Pe(this._userMin)&&(this.min=n===bo(this.min,0)?bo(this.min,-1):bo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:n,maxDefined:t}=this.getUserBounds(),r=this.min,i=this.max,o=a=>r=n?r:a,s=a=>i=t?i:a;r===i&&(r<=0?(o(1),s(10)):(o(bo(r,-1)),s(bo(i,1)))),r<=0&&o(bo(i,-1)),i<=0&&s(bo(r,1)),this.min=r,this.max=i}buildTicks(){let n=this.options,t={min:this._userMin,max:this._userMax},r=N2(t,this);return n.bounds==="ticks"&&Ly(r,this,"value"),n.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(n){return n===void 0?"0":Fs(n,this.chart.options.locale,this.options.ticks.format)}configure(){let n=this.min;super.configure(),this._startValue=vr(n),this._valueRange=vr(this.max)-vr(n)}getPixelForValue(n){return(n===void 0||n===0)&&(n=this.min),n===null||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(vr(n)-this._startValue)/this._valueRange)}getValueForPixel(n){let t=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+t*this._valueRange)}};function Fv(e){let n=e.ticks;if(n.display&&e.display){let t=gt(n.backdropPadding);return $(n.font&&n.font.size,Me.font.size)+t.height}return 0}function O2(e,n,t){return t=Se(t)?t:[t],{w:fS(e,n.string,t),h:t.length*n.lineHeight}}function wI(e,n,t,r,i){return e===r||e===i?{start:n-t/2,end:n+t/2}:e<r||e>i?{start:n-t,end:n}:{start:n,end:n+t}}function P2(e){let n={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},t=Object.assign({},n),r=[],i=[],o=e._pointLabels.length,s=e.options.pointLabels,a=s.centerPointLabels?ce/o:0;for(let l=0;l<o;l++){let c=s.setContext(e.getPointLabelContext(l));i[l]=c.padding;let u=e.getPointPosition(l,e.drawingArea+i[l],a),d=Ke(c.font),h=O2(e.ctx,d,e._pointLabels[l]);r[l]=h;let f=ht(e.getIndexAngle(l)+a),p=Math.round(If(f)),g=wI(p,u.x,h.w,0,180),m=wI(p,u.y,h.h,90,270);F2(t,n,f,g,m)}e.setCenterPoint(n.l-t.l,t.r-n.r,n.t-t.t,t.b-n.b),e._pointLabelItems=V2(e,r,i)}function F2(e,n,t,r,i){let o=Math.abs(Math.sin(t)),s=Math.abs(Math.cos(t)),a=0,l=0;r.start<n.l?(a=(n.l-r.start)/o,e.l=Math.min(e.l,n.l-a)):r.end>n.r&&(a=(r.end-n.r)/o,e.r=Math.max(e.r,n.r+a)),i.start<n.t?(l=(n.t-i.start)/s,e.t=Math.min(e.t,n.t-l)):i.end>n.b&&(l=(i.end-n.b)/s,e.b=Math.max(e.b,n.b+l))}function L2(e,n,t){let r=e.drawingArea,{extra:i,additionalAngle:o,padding:s,size:a}=t,l=e.getPointPosition(n,r+i+s,o),c=Math.round(If(ht(l.angle+Be))),u=$2(l.y,a.h,c),d=B2(c),h=U2(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function j2(e,n){if(!n)return!0;let{left:t,top:r,right:i,bottom:o}=e;return!(qn({x:t,y:r},n)||qn({x:t,y:o},n)||qn({x:i,y:r},n)||qn({x:i,y:o},n))}function V2(e,n,t){let r=[],i=e._pointLabels.length,o=e.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:Fv(o)/2,additionalAngle:s?ce/i:0},c;for(let u=0;u<i;u++){l.padding=t[u],l.size=n[u];let d=L2(e,u,l);r.push(d),a==="auto"&&(d.visible=j2(d,c),d.visible&&(c=d))}return r}function B2(e){return e===0||e===180?"center":e<180?"left":"right"}function U2(e,n,t){return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function $2(e,n,t){return t===90||t===270?e-=n/2:(t>270||t<90)&&(e-=n),e}function H2(e,n,t){let{left:r,top:i,right:o,bottom:s}=t,{backdropColor:a}=n;if(!te(a)){let l=ai(n.borderRadius),c=gt(n.backdropPadding);e.fillStyle=a;let u=r-c.left,d=i-c.top,h=o-r+c.width,f=s-i+c.height;Object.values(l).some(p=>p!==0)?(e.beginPath(),Ls(e,{x:u,y:d,w:h,h:f,radius:l}),e.fill()):e.fillRect(u,d,h,f)}}function z2(e,n){let{ctx:t,options:{pointLabels:r}}=e;for(let i=n-1;i>=0;i--){let o=e._pointLabelItems[i];if(!o.visible)continue;let s=r.setContext(e.getPointLabelContext(i));H2(t,s,o);let a=Ke(s.font),{x:l,y:c,textAlign:u}=o;si(t,e._pointLabels[i],l,c+a.lineHeight/2,a,{color:s.color,textAlign:u,textBaseline:"middle"})}}function qI(e,n,t,r){let{ctx:i}=e;if(t)i.arc(e.xCenter,e.yCenter,n,0,Ie);else{let o=e.getPointPosition(0,n);i.moveTo(o.x,o.y);for(let s=1;s<r;s++)o=e.getPointPosition(s,n),i.lineTo(o.x,o.y)}}function W2(e,n,t,r,i){let o=e.ctx,s=n.circular,{color:a,lineWidth:l}=n;!s&&!r||!a||!l||t<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),qI(e,t,s,r),o.closePath(),o.stroke(),o.restore())}function G2(e,n,t){return _r(e,{label:t,index:n,type:"pointLabel"})}var Lv=class extends Us{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:$l.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let n=this._padding=gt(Fv(this.options)/2),t=this.width=this.maxWidth-n.width,r=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+t/2+n.left),this.yCenter=Math.floor(this.top+r/2+n.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){let{min:n,max:t}=this.getMinMax(!1);this.min=Pe(n)&&!isNaN(n)?n:0,this.max=Pe(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Fv(this.options))}generateTickLabels(n){Us.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((t,r)=>{let i=we(this.options.pointLabels.callback,[t,r],this);return i||i===0?i:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){let n=this.options;n.display&&n.pointLabels.display?P2(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,t,r,i){this.xCenter+=Math.floor((n-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,t,r,i))}getIndexAngle(n){let t=Ie/(this._pointLabels.length||1),r=this.options.startAngle||0;return ht(n*t+an(r))}getDistanceFromCenterForValue(n){if(te(n))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*t:(n-this.min)*t}getValueForDistanceFromCenter(n){if(te(n))return NaN;let t=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(n){let t=this._pointLabels||[];if(n>=0&&n<t.length){let r=t[n];return G2(this.getContext(),n,r)}}getPointPosition(n,t,r=0){let i=this.getIndexAngle(n)-Be+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(n,t){return this.getPointPosition(n,this.getDistanceFromCenterForValue(t))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){let{left:t,top:r,right:i,bottom:o}=this._pointLabelItems[n];return{left:t,top:r,right:i,bottom:o}}drawBackground(){let{backgroundColor:n,grid:{circular:t}}=this.options;if(n){let r=this.ctx;r.save(),r.beginPath(),qI(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=n,r.fill(),r.restore()}}drawGrid(){let n=this.ctx,t=this.options,{angleLines:r,grid:i,border:o}=t,s=this._pointLabels.length,a,l,c;if(t.pointLabels.display&&z2(this,s),i.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);let h=this.getContext(d),f=i.setContext(h),p=o.setContext(h);W2(this,f,l,s,p)}}),r.display){for(n.save(),a=s-1;a>=0;a--){let u=r.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(n.lineWidth=h,n.strokeStyle=d,n.setLineDash(u.borderDash),n.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),c=this.getPointPosition(a,l),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(c.x,c.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let n=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;let i=this.getIndexAngle(0),o,s;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(i),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;let c=r.setContext(this.getContext(l)),u=Ke(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){n.font=u.string,s=n.measureText(a.label).width,n.fillStyle=c.backdropColor;let d=gt(c.backdropPadding);n.fillRect(-s/2-d.left,-o-u.size/2-d.top,s+d.width,u.size+d.height)}si(n,a.label,0,-o,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),n.restore()}drawTitle(){}},Xf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Bt=Object.keys(Xf);function DI(e,n){return e-n}function EI(e,n){if(te(n))return null;let t=e._adapter,{parser:r,round:i,isoWeekday:o}=e._parseOpts,s=n;return typeof r=="function"&&(s=r(s)),Pe(s)||(s=typeof r=="string"?t.parse(s,r):t.parse(s)),s===null?null:(i&&(s=i==="week"&&(mo(o)||o===!0)?t.startOf(s,"isoWeek",o):t.startOf(s,i)),+s)}function CI(e,n,t,r){let i=Bt.length;for(let o=Bt.indexOf(e);o<i-1;++o){let s=Xf[Bt[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((t-n)/(a*s.size))<=r)return Bt[o]}return Bt[i-1]}function q2(e,n,t,r,i){for(let o=Bt.length-1;o>=Bt.indexOf(t);o--){let s=Bt[o];if(Xf[s].common&&e._adapter.diff(i,r,s)>=n-1)return s}return Bt[t?Bt.indexOf(t):0]}function K2(e){for(let n=Bt.indexOf(e)+1,t=Bt.length;n<t;++n)if(Xf[Bt[n]].common)return Bt[n]}function SI(e,n,t){if(!t)e[n]=!0;else if(t.length){let{lo:r,hi:i}=xf(t,n),o=t[r]>=n?t[r]:t[i];e[o]=!0}}function Y2(e,n,t,r){let i=e._adapter,o=+i.startOf(n[0].value,r),s=n[n.length-1].value,a,l;for(a=o;a<=s;a=+i.add(a,1,r))l=t[a],l>=0&&(n[l].major=!0);return n}function II(e,n,t){let r=[],i={},o=n.length,s,a;for(s=0;s<o;++s)a=n[s],i[a]=s,r.push({value:a,major:!1});return o===0||!t?r:Y2(e,r,i,t)}var jv=(()=>{class e extends _o{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){let i=t.time||(t.time={}),o=this._adapter=new sj._date(t.adapters.date);o.init(r),ks(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:EI(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,r=this._adapter,i=t.time.unit||"day",{min:o,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(o=Math.min(o,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),o=Pe(o)&&!isNaN(o)?o:+r.startOf(Date.now(),i),s=Pe(s)&&!isNaN(s)?s:+r.endOf(Date.now(),i)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){let t=this.getLabelTimestamps(),r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],i=t[t.length-1]),{min:r,max:i}}buildTicks(){let t=this.options,r=t.time,i=t.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let s=this.min,a=this.max,l=sS(o,s,a);return this._unit=r.unit||(i.autoSkip?CI(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):q2(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:K2(this._unit),this.initOffsets(o),t.reverse&&l.reverse(),II(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r=0,i=0,o,s;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),t.length===1?r=1-o:r=(this.getDecimalForValue(t[1])-o)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);let a=t.length<3?.5:.25;r=Qe(r,0,a),i=Qe(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){let t=this._adapter,r=this.min,i=this.max,o=this.options,s=o.time,a=s.unit||CI(s.minUnit,r,i,this._getLabelCapacity(r)),l=$(o.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,u=mo(c)||c===!0,d={},h=r,f,p;if(u&&(h=+t.startOf(h,"isoWeek",c)),h=+t.startOf(h,u?"day":a),t.diff(i,r,a)>1e5*l)throw new Error(r+" and "+i+" are too far apart with stepSize of "+l+" "+a);let g=o.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<i;f=+t.add(f,l,a),p++)SI(d,f,g);return(f===i||o.bounds==="ticks"||p===1)&&SI(d,f,g),Object.keys(d).sort(DI).map(m=>+m)}getLabelForValue(t){let r=this._adapter,i=this.options.time;return i.tooltipFormat?r.format(t,i.tooltipFormat):r.format(t,i.displayFormats.datetime)}format(t,r){let o=this.options.time.displayFormats,s=this._unit,a=r||o[s];return this._adapter.format(t,a)}_tickFormatFunction(t,r,i,o){let s=this.options,a=s.ticks.callback;if(a)return we(a,[t,r,i],this);let l=s.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],h=u&&l[u],f=i[r],p=u&&h&&f&&f.major;return this._adapter.format(t,o||(p?h:d))}generateTickLabels(t){let r,i,o;for(r=0,i=t.length;r<i;++r)o=t[r],o.label=this._tickFormatFunction(o.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let r=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(t){let r=this._offsets,i=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){let r=this.options.ticks,i=this.ctx.measureText(t).width,o=an(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*a,h:i*a+l*s}}_getLabelCapacity(t){let r=this.options.time,i=r.displayFormats,o=i[r.unit]||i.millisecond,s=this._tickFormatFunction(t,0,II(this,[t],this._majorUnit),o),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],r,i;if(t.length)return t;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(r=0,i=o.length;r<i;++r)t=t.concat(o[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],r,i;if(t.length)return t;let o=this.getLabels();for(r=0,i=o.length;r<i;++r)t.push(EI(this,o[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Uy(t.sort(DI))}}return e})();function Uf(e,n,t){let r=0,i=e.length-1,o,s,a,l;t?(n>=e[r].pos&&n<=e[i].pos&&({lo:r,hi:i}=Gn(e,"pos",n)),{pos:o,time:a}=e[r],{pos:s,time:l}=e[i]):(n>=e[r].time&&n<=e[i].time&&({lo:r,hi:i}=Gn(e,"time",n)),{time:o,pos:a}=e[r],{time:s,pos:l}=e[i]);let c=s-o;return c?a+(l-a)*(n-o)/c:a}var Vv=class extends jv{static id="timeseries";static defaults=jv.defaults;constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let n=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(n);this._minPos=Uf(t,this.min),this._tableRange=Uf(t,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){let{min:t,max:r}=this,i=[],o=[],s,a,l,c,u;for(s=0,a=n.length;s<a;++s)c=n[s],c>=t&&c<=r&&i.push(c);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(s=0,a=i.length;s<a;++s)u=i[s+1],l=i[s-1],c=i[s],Math.round((u+l)/2)!==c&&o.push({time:c,pos:s/(a-1)});return o}_generate(){let n=this.min,t=this.max,r=super.getDataTimestamps();return(!r.includes(n)||!r.length)&&r.splice(0,0,n),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;let t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?n=this.normalize(t.concat(r)):n=t.length?t:r,n=this._cache.all=n,n}getDecimalForValue(n){return(Uf(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){let t=this._offsets,r=this.getDecimalForPixel(n)/t.factor-t.end;return Uf(this._table,r*this._tableRange+this._minPos,!0)}},J2=Object.freeze({__proto__:null,CategoryScale:A2,LinearScale:Ov,LogarithmicScale:Pv,RadialLinearScale:Lv,TimeScale:jv,TimeSeriesScale:Vv}),KI=[oj,RV,I2,J2];Jf.register(...KI);var wo=Jf;function Z2(e,n){if(e&1&&(w(0,"div",21)(1,"strong"),C(2),b(),$e(3,"br"),C(4),b()),e&2){let t=n.$implicit;A(2),Dn(t.name),A(2),Bn(" ",t.kcal," kcal \u2014 ",t.date," ")}}function Q2(e,n){e&1&&(w(0,"div",22),C(1," No meals recorded "),b())}var eh=class e{constructor(n,t){this.cdr=n;this.router=t}userId;totalCalories=0;meals=[];weeklyLabels=[];weeklyCalories=[];sidebarOpen=!0;toggleSidebar(){this.sidebarOpen=!this.sidebarOpen}async ngAfterViewInit(){this.userId=Number(localStorage.getItem("user_id"));let n=localStorage.getItem("userId");if(!n){console.warn("No user logged in");return}this.userId=Number(n),await this.loadTodayCalories(),await this.loadRecentMeals(),await this.loadWeeklyChart()}async loadTodayCalories(){let n=new Date().toLocaleDateString("en-CA"),{data:t}=await oe.from("users_meals").select("kcal").eq("user_id",this.userId).eq("date",n);this.totalCalories=t?.reduce((r,i)=>r+Number(i.kcal||0),0)||0}async loadRecentMeals(){let{data:n}=await oe.from("users_meals").select(`
        date,
        kcal,
        meals!inner (
          name
        )
      `).eq("user_id",this.userId).order("date",{ascending:!1}).limit(10);this.meals=(n||[]).map(t=>({name:t.meals?.name||"Unknown meal",kcal:t.kcal,date:t.date})),this.cdr.detectChanges()}async loadWeeklyChart(){let n=new Date;n.setDate(n.getDate()-6);let t=n.toISOString().split("T")[0],{data:r}=await oe.from("users_meals").select("date, kcal").eq("user_id",this.userId).gte("date",t).order("date");if(!r||r.length===0){this.renderChart([],[]);return}let i={};for(let o of r)i[o.date]=(i[o.date]||0)+Number(o.kcal);this.weeklyLabels=Object.keys(i),this.weeklyCalories=Object.values(i),this.renderChart(this.weeklyLabels,this.weeklyCalories)}renderChart(n,t){let r=document.getElementById("weeklyChart");new wo(r,{type:"bar",data:{labels:n,datasets:[{label:"Calories",data:t,borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}})}goToUserDashboard(){this.router.navigate(["/user-dashboard"])}goToGoals(){this.router.navigate(["/check-goals"])}goToLogCal(){this.router.navigate(["/log-cal"])}logout(){localStorage.clear(),location.href="/"}static \u0275fac=function(t){return new(t||e)(O(Ee),O(Ce))};static \u0275cmp=xe({type:e,selectors:[["app-user-dashboard"]],decls:38,vars:3,consts:[[1,"page-bg"],[1,"d-flex","vh-100"],[1,"bg-dark","text-white","p-3",2,"width","240px"],[1,"mb-4"],[1,"nav","flex-column","gap-2"],[1,"nav-item"],[1,"btn","btn-outline-light","w-100",3,"click"],[1,"nav-item","mt-auto"],[1,"flex-grow-1","p-4"],[1,"row","g-4"],[1,"col-lg-8"],[1,"card","shadow-sm","mb-4","text-center","p-4"],[1,"fw-bold"],[1,"text-muted"],[1,"card","shadow-sm","p-4","bg-gray","text-white"],[1,"mb-3"],["id","weeklyChart"],[1,"col-lg-4"],[1,"card","shadow-sm","p-3","h-100"],["class","d-flex justify-content-between border-bottom py-2",4,"ngFor","ngForOf"],["class","text-muted text-center mt-3",4,"ngIf"],[1,"d-flex","justify-content-between","border-bottom","py-2"],[1,"text-muted","text-center","mt-3"]],template:function(t,r){t&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),C(4,"CalTrack"),b(),w(5,"ul",4)(6,"li",5)(7,"button",6),P("click",function(){return r.goToUserDashboard()}),C(8," User Dashboard "),b()(),w(9,"li",5)(10,"button",6),P("click",function(){return r.goToGoals()}),C(11," Goals "),b()(),w(12,"li",5)(13,"button",6),P("click",function(){return r.goToLogCal()}),C(14," Log Calories "),b()(),w(15,"li",7)(16,"button",6),P("click",function(){return r.logout()}),C(17," Sign Out "),b()()()(),w(18,"div",8)(19,"div",9)(20,"div",10)(21,"div",11)(22,"h5"),C(23,"Total calories today"),b(),w(24,"h1",12),C(25),b(),w(26,"span",13),C(27,"kcal"),b()(),w(28,"div",14)(29,"h5",15),C(30,"Weekly intake"),b(),$e(31,"canvas",16),b()(),w(32,"div",17)(33,"div",18)(34,"h5",15),C(35,"Meals consumed"),b(),je(36,Z2,5,3,"div",19)(37,Q2,2,0,"div",20),b()()()()()()),t&2&&(A(25),Dn(r.totalCalories),A(11),ee("ngForOf",r.meals),A(),ee("ngIf",r.meals.length===0))},dependencies:[qe,tn,ut],styles:[".page-bg[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#77498d,#f6ebe6,#ffeef9)}"]})};var th=class e{constructor(n,t){this.cdr=n;this.router=t}userId;weight=0;loading=!1;dailyGoal=0;weights=[];chart;async ngAfterViewInit(){this.userId=Number(localStorage.getItem("userId")),await this.loadGoal(),await this.loadWeights(),this.renderChart()}async loadGoal(){let{data:n,error:t}=await oe.from("goals").select("daily_kcal_limit").eq("user_id",this.userId).eq("is_active",!0).limit(1).maybeSingle();!t&&n&&(this.dailyGoal=Number(n.daily_kcal_limit))}async saveWeight(){if(!this.weight||this.loading)return;this.loading=!0;let n=new Date().toISOString().split("T")[0],{error:t}=await oe.from("users_weight").insert({user_id:this.userId,weight:this.weight,date:n});if(this.loading=!1,t){console.error(t);return}this.weight=0,await this.loadWeights(),this.updateChart()}async loadWeights(){let{data:n,error:t}=await oe.from("users_weight").select("weight, date").eq("user_id",this.userId).order("date");if(t){console.error(t);return}this.weights=n,this.cdr.detectChanges()}renderChart(){let n=document.getElementById("weightChart");this.chart=new wo(n,{type:"line",data:{labels:this.weights.map(t=>t.date),datasets:[{label:"Weight (kg)",data:this.weights.map(t=>t.weight),tension:.3}]},options:{responsive:!0,scales:{y:{suggestedMin:Math.min(...this.weights.map(t=>t.weight))-15,suggestedMax:Math.max(...this.weights.map(t=>t.weight))+15}}}})}updateChart(){if(!this.chart){this.renderChart();return}this.chart.data.labels=this.weights.map(n=>n.date),this.chart.data.datasets[0].data=this.weights.map(n=>n.weight),this.chart.update()}goToUserDashboard(){this.router.navigate(["/user-dashboard"])}goToGoals(){this.router.navigate(["/check-goals"])}goToLogCal(){this.router.navigate(["/log-cal"])}logout(){localStorage.clear(),location.href="/"}static \u0275fac=function(t){return new(t||e)(O(Ee),O(Ce))};static \u0275cmp=xe({type:e,selectors:[["app-check-goals"]],decls:41,vars:4,consts:[[1,"page-bg"],[1,"d-flex","vh-100"],[1,"bg-dark",2,"width","240px"],[1,"bg-dark","text-white","p-3",2,"width","240px"],[1,"mb-4"],[1,"nav","flex-column","gap-2"],[1,"nav-item"],[1,"btn","btn-outline-light","w-100",3,"click"],[1,"nav-item","mt-auto"],[1,"flex-grow-1","p-4"],[1,"row","g-4"],[1,"col-md-4"],[1,"card","shadow-sm","p-4"],[1,"mb-3"],[1,"form-label"],["type","number","min","0",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100","mt-3",3,"click","disabled"],[1,"card","shadow-sm","p-4","text-center"],[1,"p-4"],[1,"mt-3","text-primary"],[1,"col-md-8"],["id","weightChart"]],template:function(t,r){t&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),C(5,"CalTrack"),b(),w(6,"ul",5)(7,"li",6)(8,"button",7),P("click",function(){return r.goToUserDashboard()}),C(9," User Dashboard "),b()(),w(10,"li",6)(11,"button",7),P("click",function(){return r.goToGoals()}),C(12," Goals "),b()(),w(13,"li",6)(14,"button",7),P("click",function(){return r.goToLogCal()}),C(15," Log Calories "),b()(),w(16,"li",8)(17,"button",7),P("click",function(){return r.logout()}),C(18," Sign Out "),b()()()()(),w(19,"div",9)(20,"div",10)(21,"div",11)(22,"div",12)(23,"h5",13),C(24,"Log your weight"),b(),w(25,"label",14),C(26,"Weight (kg)"),b(),w(27,"input",15),le("ngModelChange",function(o){return ue(r.weight,o)||(r.weight=o),o}),b(),w(28,"button",16),P("click",function(){return r.saveWeight()}),C(29),b()()(),w(30,"div",11)(31,"div",17)(32,"h5",18),C(33,"Current daily goal"),b(),w(34,"h2",19),C(35),b()()(),w(36,"div",20)(37,"div",12)(38,"h5",13),C(39,"Weight progress"),b(),$e(40,"canvas",21),b()()()()()()),t&2&&(A(27),ae("ngModel",r.weight),A(),ee("disabled",r.loading),A(),_e(" ",r.loading?"Saving...":"Save weight"," "),A(6),_e(" ",r.dailyGoal," kcal "))},dependencies:[qe,Dt,_t,Mn,wt,gl,dt],styles:[".page-bg[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#c254c4,#b282b9,#eefcff)}"]})};var nh=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=xe({type:e,selectors:[["app-check-users"]],decls:2,vars:0,template:function(t,r){t&1&&(Nu(0,"p"),C(1,"check-users works!"),Ou())},encapsulation:2})};function X2(e,n){if(e&1&&$e(0,"option",26),e&2){let t=n.$implicit;ee("value",t.name)}}function eB(e,n){if(e&1&&(w(0,"div",27)(1,"span"),C(2),b(),w(3,"strong"),C(4),b()()),e&2){let t=n.$implicit;A(2),Dn(t.name),A(2),_e("",t.kcal," kcal")}}function tB(e,n){e&1&&(w(0,"div",28),C(1," No meals today "),b())}var rh=class e{constructor(n,t){this.cdr=n;this.router=t}userId;meals=[];selectedMeal=null;selectedMealName="";weight=0;calculatedCalories=0;todayMeals=[];loading=!1;async ngAfterViewInit(){this.userId=Number(localStorage.getItem("userId")),await this.loadMeals(),await this.loadTodayMeals()}async loadMeals(){let{data:n,error:t}=await oe.from("meals").select("id, name, kcal, weight").order("name");if(t){console.error(t);return}this.meals=n}onMealSelected(){this.selectedMeal=this.meals.find(n=>n.name.toLowerCase()===this.selectedMealName.toLowerCase())??null,this.calculateCalories()}calculateCalories(){if(!this.selectedMeal||!this.weight){this.calculatedCalories=0;return}this.calculatedCalories=Math.round(this.selectedMeal.kcal/this.selectedMeal.weight*this.weight)}async logMeal(){if(!this.selectedMeal||this.loading)return;this.loading=!0;let n=new Date().toISOString().split("T")[0],{error:t}=await oe.from("users_meals").insert({user_id:this.userId,meal_id:this.selectedMeal.id,date:n,kcal:this.calculatedCalories});if(this.loading=!1,t){console.error("Insert failed:",t);return}this.weight=0,this.calculatedCalories=0,this.selectedMealName="",this.selectedMeal=null,await this.loadTodayMeals()}async loadTodayMeals(){let n=new Date().toISOString().split("T")[0],{data:t,error:r}=await oe.from("users_meals").select(`
        kcal,
        meals!inner (
          name
        )
      `).eq("user_id",this.userId).eq("date",n).order("id",{ascending:!1});if(r){console.error(r);return}let i=t;this.todayMeals=i.map(o=>({name:o.meals?.name??"Unknown",kcal:o.kcal})),this.cdr.detectChanges()}goToUserDashboard(){this.router.navigate(["/user-dashboard"])}goToGoals(){this.router.navigate(["/check-goals"])}goToLogCal(){this.router.navigate(["/log-cal"])}logout(){localStorage.clear(),location.href="/"}static \u0275fac=function(t){return new(t||e)(O(Ee),O(Ce))};static \u0275cmp=xe({type:e,selectors:[["app-log-cal"]],decls:43,vars:8,consts:[["form","ngForm"],[1,"page-bg"],[1,"d-flex","vh-100"],[1,"bg-dark","text-white","p-3",2,"width","240px"],[1,"mb-4"],[1,"nav","flex-column","gap-2"],[1,"nav-item"],[1,"btn","btn-outline-light","w-100",3,"click"],[1,"nav-item","mt-auto"],[1,"flex-grow-1","p-4","d-flex","justify-content-center"],[1,"card","shadow-sm","p-4",2,"width","800px"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"form-label"],["list","mealsList","name","meal","required","",1,"form-control",3,"ngModelChange","input","ngModel"],["id","mealsList"],[3,"value",4,"ngFor","ngForOf"],[1,"form-label","mt-3"],["type","number","min","0","name","weight","required","",1,"form-control",3,"ngModelChange","input","ngModel"],["disabled","",1,"form-control",3,"value"],["type","submit",1,"btn","btn-primary","w-100","mt-4",3,"disabled"],[1,"p-4",2,"width","350px"],[1,"card","shadow-sm","p-3","h-100"],[1,"mb-3"],["class","d-flex justify-content-between border-bottom py-2",4,"ngFor","ngForOf"],["class","text-muted text-center mt-3",4,"ngIf"],[3,"value"],[1,"d-flex","justify-content-between","border-bottom","py-2"],[1,"text-muted","text-center","mt-3"]],template:function(t,r){if(t&1){let i=Mt();w(0,"div",1)(1,"div",2)(2,"div",3)(3,"h4",4),C(4,"CalTrack"),b(),w(5,"ul",5)(6,"li",6)(7,"button",7),P("click",function(){return Z(i),Q(r.goToUserDashboard())}),C(8," User Dashboard "),b()(),w(9,"li",6)(10,"button",7),P("click",function(){return Z(i),Q(r.goToGoals())}),C(11," Goals "),b()(),w(12,"li",6)(13,"button",7),P("click",function(){return Z(i),Q(r.goToLogCal())}),C(14," Log Calories "),b()(),w(15,"li",8)(16,"button",7),P("click",function(){return Z(i),Q(r.logout())}),C(17," Sign Out "),b()()()(),w(18,"div",9)(19,"div",10)(20,"h4",11),C(21,"Register your meal"),b(),w(22,"form",12,0),P("ngSubmit",function(){return Z(i),Q(r.logMeal())}),w(24,"label",13),C(25,"Name"),b(),w(26,"input",14),le("ngModelChange",function(s){return Z(i),ue(r.selectedMealName,s)||(r.selectedMealName=s),Q(s)}),P("input",function(){return Z(i),Q(r.onMealSelected())}),b(),w(27,"datalist",15),je(28,X2,1,1,"option",16),b(),w(29,"label",17),C(30,"Weight (g)"),b(),w(31,"input",18),le("ngModelChange",function(s){return Z(i),ue(r.weight,s)||(r.weight=s),Q(s)}),P("input",function(){return Z(i),Q(r.calculateCalories())}),b(),w(32,"label",17),C(33,"Calories"),b(),$e(34,"input",19),w(35,"button",20),C(36),b()()()(),w(37,"div",21)(38,"div",22)(39,"h5",23),C(40,"Today's meals"),b(),je(41,eB,5,2,"div",24)(42,tB,2,0,"div",25),b()()()()}t&2&&(A(26),ae("ngModel",r.selectedMealName),A(2),ee("ngForOf",r.meals),A(3),ae("ngModel",r.weight),A(3),ee("value",r.calculatedCalories),A(),ee("disabled",!r.selectedMeal||r.loading),A(),_e(" ",r.loading?"Logging...":"Log meal"," "),A(5),ee("ngForOf",r.todayMeals),A(),ee("ngIf",r.todayMeals.length===0))},dependencies:[qe,tn,ut,Dt,Kr,$d,Hd,_t,Mn,wt,qr,fr,gl,dt,dr],styles:[".page-bg[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#75ca56,#e6f6e7,#eefcff)}"]})};function nB(e,n){if(e&1&&(w(0,"option",31),C(1),b()),e&2){let t=n.$implicit;ee("value",t.id),A(),Bn(" ",t.firstName," ",t.firstLastName," ")}}function rB(e,n){if(e&1){let t=Mt();w(0,"tr")(1,"td",32)(2,"div",33),C(3),b()(),w(4,"td",32),C(5),b(),w(6,"td",34),C(7),b(),w(8,"td",34),C(9),b(),w(10,"td",34)(11,"span",35),C(12),zg(13,"number"),b()(),w(14,"td",34)(15,"span",36),C(16),b()(),w(17,"td",37)(18,"button",38),P("click",function(){let i=Z(t).$implicit,o=He();return Q(o.viewDetails(i.id))}),C(19," Ver Detalles / Metas "),b(),w(20,"button",39),P("click",function(){let i=Z(t).$implicit,o=He();return Q(o.unassignUser(i.id))}),C(21," Desvincular "),b()()()}if(e&2){let t=n.$implicit,r=He();A(3),Bn("",t.firstName," ",t.firstLastName),A(2),_e("",t.age," a\xF1os"),A(2),_e("",t.weight," kg"),A(2),_e("",t.height," cm"),A(3),_e(" ",Wg(13,8,r.calculateIMC(t.weight,t.height),"1.1-1")," "),A(3),ee("ngClass",r.getIMCClass(r.calculateIMC(t.weight,t.height))),A(),_e(" ",r.getIMCCategory(r.calculateIMC(t.weight,t.height))," ")}}function iB(e,n){e&1&&(w(0,"tr")(1,"td",40),C(2," No tienes pacientes asignados actualmente. "),b()())}var ih=class e{constructor(n,t){this.router=n;this.cdr=t}nutriId=Number(localStorage.getItem("nutri_id"))||null;recentPatientMeals=[];totalGlobalCalories=0;patients=[];availableUsers=[];selectedUserId=null;assigning=!1;async ngOnInit(){if(!this.nutriId){this.router.navigate([""]);return}await this.loadPatientsData(),await this.loadPatientsData(),await this.loadAvailableUsers()}async loadAvailableUsers(){let{data:n}=await oe.from("nutritionist_users").select("user_id"),t=n?.map(s=>s.user_id)||[],r=oe.from("users").select("id, firstName, firstLastName");t.length>0&&(r=r.not("id","in",`(${t.join(",")})`));let{data:i,error:o}=await r.order("firstName");if(o){console.error(o),this.cdr.detectChanges();return}this.cdr.detectChanges(),this.availableUsers=i||[]}async unassignUser(n){if(!this.nutriId||!confirm("\xBFSeguro que quieres desasignar este usuario?"))return;let{error:r}=await oe.from("nutritionist_users").delete().eq("nutritionist_id",this.nutriId).eq("user_id",n);if(r){console.error("Error desasignando usuario:",r);return}await this.loadPatientsData(),await this.loadAvailableUsers(),this.cdr.detectChanges()}calculateIMC(n,t){return!n||!t?0:n/(t*t)}getIMCCategory(n){return n<=0?"Sin datos":n<18.5?"Bajo Peso":n<25?"Normal":n<30?"Sobrepeso":"Obesidad"}getIMCClass(n){return n<=0?"badge bg-secondary":n>=18.5&&n<25?"badge bg-success":n>=25&&n<30?"badge bg-warning text-dark":"badge bg-danger"}viewDetails(n){this.router.navigate(["/ver-usuarios"],{queryParams:{userId:n}})}async loadPatientsData(){let{data:n,error:t}=await oe.from("nutritionist_users").select(`
        user_id,
        users (
          id, firstName, firstLastName, age, height,
          users_weight (
            weight,
            date
          )
        )
      `).eq("nutritionist_id",this.nutriId);if(t||!n){console.error("Error obteniendo pacientes:",t);return}if(this.patients=n.map(r=>{let i=r.users,s=(i.users_weight||[]).sort((a,l)=>new Date(l.date).getTime()-new Date(a.date).getTime())[0];return q(M({},i),{weight:s?s.weight:0})}).filter(r=>r!==null),this.patients.length===0){this.cdr.detectChanges();return}this.cdr.detectChanges()}async assignUser(){if(!this.selectedUserId||!this.nutriId)return;this.assigning=!0;let{error:n}=await oe.from("nutritionist_users").insert({nutritionist_id:this.nutriId,user_id:this.selectedUserId});if(this.assigning=!1,n){console.error("Assign failed:",n);return}this.selectedUserId=null,await this.loadPatientsData(),await this.loadAvailableUsers(),this.cdr.detectChanges()}goToDashboard(){this.router.navigate(["/nutri-dashboard"])}goToGestAlimentos(){this.router.navigate(["/gestion-alimentos"])}goToVerUsuarios(){this.router.navigate(["/ver-usuarios"])}goToAddNutri(){this.router.navigate(["/app-sing-up-nutri"])}logout(){localStorage.clear(),this.router.navigate([""])}static \u0275fac=function(t){return new(t||e)(O(Ce),O(Ee))};static \u0275cmp=xe({type:e,selectors:[["app-nutri-dashboard"]],decls:63,vars:7,consts:[[1,"page-bg"],[1,"d-flex","vh-100"],[1,"bg-dark","text-white","p-3",2,"width","240px"],[1,"mb-4"],[1,"nav","flex-column","gap-2"],[1,"nav-item"],[1,"btn","btn-outline-light","w-100",3,"click"],[1,"btn","btn-outline-light","w-100","active","bg-primary","rounded","bg-white",3,"click"],[1,"btn","btn-outline-info","w-100","mt-2",3,"click"],[1,"nav-item","mt-auto"],[1,"flex-grow-1","p-4","bg-light","overflow-auto"],[1,"card","shadow-sm","mb-4"],[1,"card-body"],[1,"mb-3"],[1,"d-flex","gap-2","align-items-end"],[1,"flex-grow-1"],[1,"form-label"],[1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-success",3,"click","disabled"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"badge","bg-info","text-white","bg-black"],[1,"card","shadow-sm"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-hover","mb-0"],[1,"table-dark"],[1,"text-center"],[1,"text-end"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[1,"align-middle"],[1,"fw-bold"],[1,"text-center","align-middle"],[1,"badge","bg-light","text-dark","border"],[3,"ngClass"],[1,"text-end","align-middle"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"btn","btn-sm","btn-outline-danger","ms-2",3,"click"],["colspan","7",1,"text-center","py-4","text-muted"]],template:function(t,r){t&1&&(w(0,"div",0)(1,"div",1)(2,"div",1)(3,"div",2)(4,"h4",3),C(5,"CalTrack"),b(),w(6,"ul",4)(7,"li",5)(8,"button",6),P("click",function(){return r.goToDashboard()}),C(9,"Dashboard"),b()(),w(10,"li",5)(11,"button",6),P("click",function(){return r.goToGestAlimentos()}),C(12,"Gesti\xF3n Alimentos"),b()(),w(13,"li",5)(14,"button",7),P("click",function(){return r.goToVerUsuarios()}),C(15,"Ver Usuarios"),b()(),w(16,"li",5)(17,"button",8),P("click",function(){return r.goToAddNutri()}),C(18,"+ Nuevo Nutricionista"),b()(),w(19,"li",9)(20,"button",6),P("click",function(){return r.logout()}),C(21,"Sign Out"),b()()()(),w(22,"div",10)(23,"div",11)(24,"div",12)(25,"h5",13),C(26,"Asignar nuevo paciente"),b(),w(27,"div",14)(28,"div",15)(29,"label",16),C(30,"Usuario disponible"),b(),w(31,"select",17),le("ngModelChange",function(o){return ue(r.selectedUserId,o)||(r.selectedUserId=o),o}),je(32,nB,2,3,"option",18),b()(),w(33,"button",19),P("click",function(){return r.assignUser()}),C(34),b()()(),w(35,"div",20)(36,"h2"),C(37,"Dashboard"),b(),w(38,"span",21),C(39),b()()(),w(40,"div",22)(41,"div",23)(42,"div",24)(43,"table",25)(44,"thead",26)(45,"tr")(46,"th"),C(47,"Paciente"),b(),w(48,"th"),C(49,"Edad"),b(),w(50,"th",27),C(51,"Peso (kg)"),b(),w(52,"th",27),C(53,"Estatura (cm)"),b(),w(54,"th",27),C(55,"IMC"),b(),w(56,"th",27),C(57,"Estado"),b(),w(58,"th",28),C(59,"Acciones"),b()()(),w(60,"tbody"),je(61,rB,22,11,"tr",29)(62,iB,3,0,"tr",30),b()()()()()()()()()),t&2&&(A(31),ae("ngModel",r.selectedUserId),A(),ee("ngForOf",r.availableUsers),A(),ee("disabled",!r.selectedUserId||r.assigning),A(),_e(" ",r.assigning?"Asignando...":"Asignar"," "),A(5),_e("Total Pacientes: ",r.patients.length),A(22),ee("ngForOf",r.patients),A(),ee("ngIf",r.patients.length===0))},dependencies:[qe,La,tn,ut,Xi,Dt,$d,Hd,Ud,wt,dt,sm],encapsulation:2})};function oB(e,n){if(e&1&&(w(0,"div",35),C(1),b()),e&2){let t=He();A(),_e(" ",t.errorMessage," ")}}var oh=class e{constructor(n,t){this.router=n;this.cdr=t}showPassword=!1;errorMessage="";user={firstName:"",firstLastName:"",secondLastName:"",height:null,age:null,phoneNumber:"",username:"",password:""};navigateToLogin(n){n.preventDefault(),this.router.navigate([""])}async createUser(n){let{error:t}=await oe.from("users").insert([{firstName:n.firstName,firstLastName:n.firstLastName,secondLastName:n.secondLastName,height:n.height,age:n.age,phoneNumber:n.phoneNumber,username:n.username,password:n.password}]);t?t.code==="23505"?(this.errorMessage="Email already exists",this.cdr.detectChanges()):(this.errorMessage="Something went wrong",this.cdr.detectChanges(),console.error(t)):this.router.navigate([""])}static \u0275fac=function(t){return new(t||e)(O(Ce),O(Ee))};static \u0275cmp=xe({type:e,selectors:[["app-sign-up"]],decls:62,vars:11,consts:[["form","ngForm"],[1,"page-bg"],[1,"page-bg","vh-100"],[1,"navbar","navbar-dark","bg-dark"],[1,"container-fluid"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#sidebar","aria-controls","sidebar",1,"btn","btn-outline-light","me-2"],[1,"navbar-brand","mb-0","h1"],["tabindex","-1","id","sidebar","aria-labelledby","sidebarLabel",1,"offcanvas","offcanvas-start"],[1,"offcanvas-header"],["id","sidebarLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset"],[1,"offcanvas-body","p-0"],[1,"nav","flex-column","p-3"],["data-bs-dismiss","offcanvas",1,"nav-link","active",3,"click"],[1,"container-fluid","pt-4","h-100","d-flex","justify-content-center","align-items-start"],[1,"card","shadow","p-4","w-100",2,"max-width","900px"],[1,"mb-4","text-center"],[3,"ngSubmit"],[1,"row","g-3"],[1,"col-md-4"],[1,"form-label"],["name","firstName","required","","maxlength","20",1,"form-control",3,"ngModelChange","ngModel"],["name","firstLastName","required","","maxlength","20",1,"form-control",3,"ngModelChange","ngModel"],["name","secondLastName","required","","maxlength","20",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-6"],["type","number","step","0.01","name","height","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","age","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","username","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","phoneNumber","maxlength","20","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-12"],[1,"input-group"],["name","password","required","",1,"form-control",3,"ngModelChange","type","ngModel"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["class","text-danger mt-3",4,"ngIf"],[1,"btn","btn-success","w-100","mt-4",3,"disabled"],[1,"text-danger","mt-3"]],template:function(t,r){if(t&1){let i=Mt();w(0,"div",1)(1,"div",2)(2,"nav",3)(3,"div",4)(4,"button",5),C(5," \u2630 "),b(),w(6,"span",6),C(7,"CalTrack"),b()()(),w(8,"div",7)(9,"div",8)(10,"h5",9),C(11,"Menu"),b(),$e(12,"button",10),b(),w(13,"div",11)(14,"nav",12)(15,"a",13),P("click",function(s){return Z(i),Q(r.navigateToLogin(s))}),C(16," \u2190 Back to Login "),b()()()(),w(17,"div",14)(18,"div",15)(19,"h2",16),C(20,"Create Account"),b(),w(21,"form",17,0),P("ngSubmit",function(){return Z(i),Q(r.createUser(r.user))}),w(23,"div",18)(24,"div",19)(25,"label",20),C(26,"Name"),b(),w(27,"input",21),le("ngModelChange",function(s){return Z(i),ue(r.user.firstName,s)||(r.user.firstName=s),Q(s)}),b()(),w(28,"div",19)(29,"label",20),C(30,"First Last Name"),b(),w(31,"input",22),le("ngModelChange",function(s){return Z(i),ue(r.user.firstLastName,s)||(r.user.firstLastName=s),Q(s)}),b()(),w(32,"div",19)(33,"label",20),C(34,"Second Last Name"),b(),w(35,"input",23),le("ngModelChange",function(s){return Z(i),ue(r.user.secondLastName,s)||(r.user.secondLastName=s),Q(s)}),b()(),w(36,"div",24)(37,"label",20),C(38,"Height (m)"),b(),w(39,"input",25),le("ngModelChange",function(s){return Z(i),ue(r.user.height,s)||(r.user.height=s),Q(s)}),b()(),w(40,"div",24)(41,"label",20),C(42,"Age"),b(),w(43,"input",26),le("ngModelChange",function(s){return Z(i),ue(r.user.age,s)||(r.user.age=s),Q(s)}),b()(),w(44,"div",24)(45,"label",20),C(46,"Email"),b(),w(47,"input",27),le("ngModelChange",function(s){return Z(i),ue(r.user.username,s)||(r.user.username=s),Q(s)}),b()(),w(48,"div",24)(49,"label",20),C(50,"Phone Number"),b(),w(51,"input",28),le("ngModelChange",function(s){return Z(i),ue(r.user.phoneNumber,s)||(r.user.phoneNumber=s),Q(s)}),b()(),w(52,"div",29)(53,"label",20),C(54,"Password"),b(),w(55,"div",30)(56,"input",31),le("ngModelChange",function(s){return Z(i),ue(r.user.password,s)||(r.user.password=s),Q(s)}),b(),w(57,"button",32),P("click",function(){return Z(i),Q(r.showPassword=!r.showPassword)}),C(58," \u{1F441} "),b()()()(),je(59,oB,2,1,"div",33),w(60,"button",34),C(61," Create User "),b()()()()()()}if(t&2){let i=Ra(22);A(27),ae("ngModel",r.user.firstName),A(4),ae("ngModel",r.user.firstLastName),A(4),ae("ngModel",r.user.secondLastName),A(4),ae("ngModel",r.user.height),A(4),ae("ngModel",r.user.age),A(4),ae("ngModel",r.user.username),A(4),ae("ngModel",r.user.phoneNumber),A(5),ee("type",r.showPassword?"text":"password"),ae("ngModel",r.user.password),A(3),ee("ngIf",r.errorMessage),A(),ee("disabled",i.invalid)}},dependencies:[qe,ut,Dt,Kr,_t,Mn,wt,qr,fr,ny,dt,dr],styles:[".page-bg[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#498d8d,#e6f6f4,#eefcff)}"]})};function sB(e,n){if(e&1){let t=Mt();w(0,"button",25),P("click",function(){Z(t);let i=He();return Q(i.cancelarEdicion())}),C(1," Cancelar "),b()}}function aB(e,n){if(e&1){let t=Mt();w(0,"tr")(1,"td"),C(2),b(),w(3,"td"),C(4),b(),w(5,"td"),C(6),b(),w(7,"td",23)(8,"button",26),P("click",function(){let i=Z(t).$implicit,o=He();return Q(o.prepararEdicion(i))}),C(9," Editar "),b()()()}if(e&2){let t=n.$implicit;A(2),Dn(t.name),A(2),Dn(t.kcal),A(2),_e("",t.weight,"g")}}var sh=class e{constructor(n,t){this.router=n;this.cdr=t}nutriId=Number(localStorage.getItem("nutri_id"))||null;alimentos=[];editando=!1;idEnEdicion=null;nuevoAlimento={name:"",kcal:0,weight:0};async ngOnInit(){if(!this.nutriId){this.router.navigate([""]);return}await this.loadAlimentos()}async loadAlimentos(){let{data:n,error:t}=await oe.from("meals").select("*").order("name",{ascending:!0});t||(this.alimentos=n||[]),this.cdr.detectChanges()}async guardarAlimento(){if(!this.nuevoAlimento.name||this.nuevoAlimento.kcal<=0){alert("Datos inv\xE1lidos");return}if(this.editando&&this.idEnEdicion){let{error:n}=await oe.from("meals").update(this.nuevoAlimento).eq("id",this.idEnEdicion);n||alert("Alimento actualizado")}else{let{error:n}=await oe.from("meals").insert([this.nuevoAlimento]);n||alert("Alimento creado")}this.cancelarEdicion(),await this.loadAlimentos()}prepararEdicion(n){this.editando=!0,this.idEnEdicion=n.id,this.nuevoAlimento={name:n.name,kcal:n.kcal,weight:n.weight},this.cdr.detectChanges()}cancelarEdicion(){this.editando=!1,this.idEnEdicion=null,this.nuevoAlimento={name:"",kcal:0,weight:0},this.cdr.detectChanges()}goToDashboard(){this.router.navigate(["/nutri-dashboard"])}goToGestAlimentos(){this.router.navigate(["/gestion-alimentos"])}goToVerUsuarios(){this.router.navigate(["/ver-usuarios"])}goToAddNutri(){this.router.navigate(["/app-sing-up-nutri"])}logout(){localStorage.clear(),window.location.href="/"}static \u0275fac=function(t){return new(t||e)(O(Ce),O(Ee))};static \u0275cmp=xe({type:e,selectors:[["app-gestion-alimentos"]],decls:61,vars:8,consts:[[1,"d-flex","vh-100"],[1,"bg-dark","text-white","p-3",2,"width","240px"],[1,"mb-4"],[1,"nav","flex-column","gap-2"],[1,"nav-item"],[1,"btn","btn-outline-light","w-100",3,"click"],[1,"btn","btn-outline-light","w-100","active","bg-primary","rounded","bg-white",3,"click"],[1,"btn","btn-outline-info","w-100","mt-2",3,"click"],[1,"nav-item","mt-auto"],[1,"flex-grow-1","p-4","bg-light","overflow-auto"],[1,"text-muted"],[1,"row"],[1,"col-md-4"],[1,"card","shadow-sm","p-3","border-primary"],[1,"mb-3"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","number",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","w-100","mb-2",3,"click","ngClass"],["class","btn btn-secondary w-100",3,"click",4,"ngIf"],[1,"col-md-8"],[1,"card","shadow-sm"],[1,"table","table-hover","mb-0"],[1,"table-dark"],[1,"text-end"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary","w-100",3,"click"],[1,"btn","btn-sm","btn-outline-warning","me-2",3,"click"]],template:function(t,r){t&1&&(w(0,"div",0)(1,"div",0)(2,"div",1)(3,"h4",2),C(4,"CalTrack"),b(),w(5,"ul",3)(6,"li",4)(7,"button",5),P("click",function(){return r.goToDashboard()}),C(8,"Dashboard"),b()(),w(9,"li",4)(10,"button",5),P("click",function(){return r.goToGestAlimentos()}),C(11,"Gesti\xF3n Alimentos"),b()(),w(12,"li",4)(13,"button",6),P("click",function(){return r.goToVerUsuarios()}),C(14,"Ver Usuarios"),b()(),w(15,"li",4)(16,"button",7),P("click",function(){return r.goToAddNutri()}),C(17,"+ Nuevo Nutricionista"),b()(),w(18,"li",8)(19,"button",5),P("click",function(){return r.logout()}),C(20,"Sign Out"),b()()()(),w(21,"div",9)(22,"h2"),C(23,"Gesti\xF3n del Cat\xE1logo de Alimentos"),b(),w(24,"p",10),C(25,"Agregue o edite los alimentos disponibles para los pacientes."),b(),w(26,"div",11)(27,"div",12)(28,"div",13)(29,"h5"),C(30),b(),w(31,"div",14)(32,"label"),C(33,"Nombre"),b(),w(34,"input",15),le("ngModelChange",function(o){return ue(r.nuevoAlimento.name,o)||(r.nuevoAlimento.name=o),o}),b()(),w(35,"div",14)(36,"label"),C(37,"Calor\xEDas (kcal)"),b(),w(38,"input",16),le("ngModelChange",function(o){return ue(r.nuevoAlimento.kcal,o)||(r.nuevoAlimento.kcal=o),o}),b()(),w(39,"div",14)(40,"label"),C(41,"Peso Base (g)"),b(),w(42,"input",16),le("ngModelChange",function(o){return ue(r.nuevoAlimento.weight,o)||(r.nuevoAlimento.weight=o),o}),b()(),w(43,"button",17),P("click",function(){return r.guardarAlimento()}),C(44),b(),je(45,sB,2,0,"button",18),b()(),w(46,"div",19)(47,"div",20)(48,"table",21)(49,"thead",22)(50,"tr")(51,"th"),C(52,"Nombre"),b(),w(53,"th"),C(54,"kcal"),b(),w(55,"th"),C(56,"Peso"),b(),w(57,"th",23),C(58,"Acciones"),b()()(),w(59,"tbody"),je(60,aB,10,3,"tr",24),b()()()()()()()()),t&2&&(A(30),Dn(r.editando?"Editar Alimento":"Nuevo Alimento"),A(4),ae("ngModel",r.nuevoAlimento.name),A(4),ae("ngModel",r.nuevoAlimento.kcal),A(4),ae("ngModel",r.nuevoAlimento.weight),A(),ee("ngClass",r.editando?"btn-warning":"btn-success"),A(),_e(" ",r.editando?"Actualizar Cambios":"Guardar en Cat\xE1logo"," "),A(),ee("ngIf",r.editando),A(15),ee("ngForOf",r.alimentos))},dependencies:[qe,La,tn,ut,Dt,_t,Mn,wt,dt,Xi],encapsulation:2})};function lB(e,n){if(e&1){let t=Mt();w(0,"button",17),P("click",function(){let i=Z(t).$implicit,o=He();return Q(o.selectPatient(i))}),C(1),b()}if(e&2){let t=n.$implicit,r=He();Ui("active",(r.selectedPatient==null?null:r.selectedPatient.id)===t.id),A(),Bn(" ",t.firstName," ",t.firstLastName," ")}}function cB(e,n){if(e&1){let t=Mt();w(0,"div",18)(1,"h3"),C(2),b(),w(3,"div",19)(4,"div",20)(5,"div",21)(6,"h6"),C(7,"Evoluci\xF3n de Peso (kg)"),b(),$e(8,"canvas",22),b()(),w(9,"div",20)(10,"div",21)(11,"h6"),C(12,"Consumo Cal\xF3rico Reciente"),b(),$e(13,"canvas",23),b()()(),w(14,"div",24)(15,"h5"),C(16,"Asignar Nueva Meta Diaria"),b(),w(17,"div",25)(18,"div",26)(19,"label",27),C(20,"L\xEDmite kcal diario"),b(),w(21,"input",28),le("ngModelChange",function(i){Z(t);let o=He();return ue(o.nuevaMeta.daily_kcal_limit,i)||(o.nuevaMeta.daily_kcal_limit=i),Q(i)}),b()(),w(22,"div",26)(23,"label",27),C(24,"Fecha de Inicio"),b(),w(25,"input",29),le("ngModelChange",function(i){Z(t);let o=He();return ue(o.nuevaMeta.start_date,i)||(o.nuevaMeta.start_date=i),Q(i)}),b()(),w(26,"div",26)(27,"button",30),P("click",function(){Z(t);let i=He();return Q(i.asignarMeta())}),C(28,"Establecer Meta"),b()()()()()}if(e&2){let t=He();A(2),Bn("Expediente: ",t.selectedPatient.firstName," ",t.selectedPatient.firstLastName),A(19),ae("ngModel",t.nuevaMeta.daily_kcal_limit),A(4),ae("ngModel",t.nuevaMeta.start_date)}}function uB(e,n){e&1&&(w(0,"div",31)(1,"p",32),C(2,"Seleccione un paciente para ver su evoluci\xF3n y asignar metas."),b()())}var ah=class e{constructor(n,t){this.router=n;this.cdr=t}nutriId=Number(localStorage.getItem("nutri_id"))||null;patients=[];selectedPatient=null;weightChart;kcalChart;nuevaMeta={daily_kcal_limit:0,start_date:new Date().toISOString().split("T")[0]};async ngOnInit(){if(!this.nutriId){this.router.navigate([""]);return}await this.loadPatients()}async loadPatients(){let{data:n,error:t}=await oe.from("nutritionist_users").select("users (*)").eq("nutritionist_id",this.nutriId);t||(this.patients=n.map(r=>r.users),this.cdr.detectChanges())}async selectPatient(n){this.selectedPatient=n,this.cdr.detectChanges(),await this.loadPatientData(n.id)}async loadPatientData(n){let{data:t}=await oe.from("users_weight").select("weight, date").eq("user_id",n).order("date",{ascending:!0}),{data:r}=await oe.from("users_meals").select("date, kcal").eq("user_id",n).order("date",{ascending:!0});this.renderCharts(t||[],r||[])}renderCharts(n,t){this.weightChart&&this.weightChart.destroy(),this.kcalChart&&this.kcalChart.destroy(),this.weightChart=new wo("weightChart",{type:"line",data:{labels:n.map(i=>i.date),datasets:[{label:"Peso (kg)",data:n.map(i=>i.weight),borderColor:"#6b6b6b"}]},options:{responsive:!0,scales:{y:{suggestedMin:Math.min(...n.map(i=>i.weight))-15,suggestedMax:Math.max(...n.map(i=>i.weight))+15}}}});let r={};t.forEach(i=>r[i.date]=(r[i.date]||0)+i.kcal),this.kcalChart=new wo("kcalChart",{type:"bar",data:{labels:Object.keys(r),datasets:[{label:"Kcal Consumidas",data:Object.values(r),backgroundColor:"#6b6b6b",borderColor:"#666666",borderWidth:1}]}})}async asignarMeta(){if(this.nuevaMeta.daily_kcal_limit<=0)return alert("Ingrese un l\xEDmite v\xE1lido");let{error:n}=await oe.from("goals").insert([{user_id:this.selectedPatient.id,assigned_by:this.nutriId,daily_kcal_limit:this.nuevaMeta.daily_kcal_limit,start_date:this.nuevaMeta.start_date,is_active:!0}]);n?console.error(n):(alert("Meta asignada con \xE9xito"),this.nuevaMeta.daily_kcal_limit=0)}goToDashboard(){this.router.navigate(["/nutri-dashboard"])}goToGestAlimentos(){this.router.navigate(["/gestion-alimentos"])}goToVerUsuarios(){this.router.navigate(["/ver-usuarios"])}goToAddNutri(){this.router.navigate(["/app-sing-up-nutri"])}logout(){localStorage.clear(),this.router.navigate([""])}static \u0275fac=function(t){return new(t||e)(O(Ce),O(Ee))};static \u0275cmp=xe({type:e,selectors:[["app-ver-usuarios"]],decls:30,vars:3,consts:[[1,"page-bg"],[1,"d-flex","vh-100"],[1,"bg-dark","text-white","p-3",2,"width","240px"],[1,"mb-4"],[1,"nav","flex-column","gap-2"],[1,"nav-item"],[1,"btn","btn-outline-light","w-100",3,"click"],[1,"btn","btn-outline-light","w-100","active","bg-primary","rounded","bg-white",3,"click"],[1,"btn","btn-outline-info","w-100","mt-2",3,"click"],[1,"nav-item","mt-auto"],[1,"flex-grow-1","p-4","overflow-auto"],[1,"row","h-100"],[1,"col-md-3","border-end"],[1,"list-group","mt-3"],["class","list-group-item list-group-item-action",3,"active","click",4,"ngFor","ngForOf"],["class","col-md-9",4,"ngIf"],["class","col-md-9 d-flex align-items-center justify-content-center",4,"ngIf"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"col-md-9"],[1,"row","mt-4"],[1,"col-md-6"],[1,"card","p-3","shadow-sm"],["id","weightChart"],["id","kcalChart"],[1,"card","mt-4","p-4","shadow-sm","border-primary"],[1,"row","g-3","align-items-end"],[1,"col-md-4"],[1,"form-label"],["type","number",1,"form-control",3,"ngModelChange","ngModel"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100",3,"click"],[1,"col-md-9","d-flex","align-items-center","justify-content-center"],[1,"text-muted"]],template:function(t,r){t&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),C(4,"CalTrack"),b(),w(5,"ul",4)(6,"li",5)(7,"button",6),P("click",function(){return r.goToDashboard()}),C(8,"Dashboard"),b()(),w(9,"li",5)(10,"button",6),P("click",function(){return r.goToGestAlimentos()}),C(11,"Gesti\xF3n Alimentos"),b()(),w(12,"li",5)(13,"button",7),P("click",function(){return r.goToVerUsuarios()}),C(14,"Ver Usuarios"),b()(),w(15,"li",5)(16,"button",8),P("click",function(){return r.goToAddNutri()}),C(17,"+ Nuevo Nutricionista"),b()(),w(18,"li",9)(19,"button",6),P("click",function(){return r.logout()}),C(20,"Sign Out"),b()()()(),w(21,"div",10)(22,"div",11)(23,"div",12)(24,"h5"),C(25,"Mis Pacientes"),b(),w(26,"div",13),je(27,lB,2,4,"button",14),b()(),je(28,cB,29,4,"div",15)(29,uB,3,0,"div",16),b()()()()),t&2&&(A(27),ee("ngForOf",r.patients),A(),ee("ngIf",r.selectedPatient),A(),ee("ngIf",!r.selectedPatient))},dependencies:[qe,tn,ut,Xi,Dt,_t,Mn,wt,dt],encapsulation:2})};function dB(e,n){if(e&1&&(w(0,"div",17),C(1),b()),e&2){let t=He();A(),_e(" ",t.errorMessage," ")}}var lh=class e{constructor(n,t){this.router=n;this.cdr=t}errorMessage="";nutri={firstName:"",firstLastName:"",email:"",password:""};async createNutri(){if(!this.nutri.firstName||!this.nutri.email||!this.nutri.password){this.errorMessage="Por favor rellene los campos obligatorios";return}let{error:n}=await oe.from("nutritionists").insert([{firstName:this.nutri.firstName,firstLastName:this.nutri.firstLastName,username:this.nutri.email,password:this.nutri.password}]);n?(this.errorMessage=n.message,this.cdr.detectChanges()):(alert("\xA1Registro exisoso!"),this.router.navigate(["/ver-usuarios"]))}cancel(){this.router.navigate(["/ver-usuarios"])}static \u0275fac=function(t){return new(t||e)(O(Ce),O(Ee))};static \u0275cmp=xe({type:e,selectors:[["app-sign-up-nutri"]],decls:30,vars:5,consts:[[1,"page-bg","d-flex","align-items-center","justify-content-center","p-3"],[1,"card","shadow-lg","p-4",2,"max-width","450px","width","100%","border-radius","15px"],[1,"text-center","mb-4"],[1,"fw-bold",2,"color","#6b6b6b"],[1,"text-muted"],["class","alert alert-danger py-2",4,"ngIf"],[3,"ngSubmit"],[1,"mb-3"],[1,"form-label","fw-semibold"],["type","text","name","fn","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","ln","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","username","name","em","placeholder","ejemplo@correo.com","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-4"],["type","password","name","ps","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg","border-0","shadow-sm",2,"background-color","#6b6b6b"],["type","button",1,"btn","btn-link","text-decoration-none","text-muted",3,"click"],[1,"alert","alert-danger","py-2"]],template:function(t,r){t&1&&(w(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),C(4,"Nuevo Nutricionista"),b(),w(5,"p",4),C(6,"Registre a un nuevo colega en el sistema"),b()(),je(7,dB,2,1,"div",5),w(8,"form",6),P("ngSubmit",function(){return r.createNutri()}),w(9,"div",7)(10,"label",8),C(11,"Nombre"),b(),w(12,"input",9),le("ngModelChange",function(o){return ue(r.nutri.firstName,o)||(r.nutri.firstName=o),o}),b()(),w(13,"div",7)(14,"label",8),C(15,"Primer Apellido"),b(),w(16,"input",10),le("ngModelChange",function(o){return ue(r.nutri.firstLastName,o)||(r.nutri.firstLastName=o),o}),b()(),w(17,"div",7)(18,"label",8),C(19,"Email"),b(),w(20,"input",11),le("ngModelChange",function(o){return ue(r.nutri.email,o)||(r.nutri.email=o),o}),b()(),w(21,"div",12)(22,"label",8),C(23,"Contrase\xF1a Temporal"),b(),w(24,"input",13),le("ngModelChange",function(o){return ue(r.nutri.password,o)||(r.nutri.password=o),o}),b()(),w(25,"div",14)(26,"button",15),C(27," Registrar Nutricionista "),b(),w(28,"button",16),P("click",function(){return r.cancel()}),C(29," Cancelar y volver "),b()()()()()),t&2&&(A(7),ee("ngIf",r.errorMessage),A(5),ae("ngModel",r.nutri.firstName),A(4),ae("ngModel",r.nutri.firstLastName),A(4),ae("ngModel",r.nutri.email),A(4),ae("ngModel",r.nutri.password))},dependencies:[qe,ut,Dt,Kr,_t,wt,qr,fr,dt,dr],encapsulation:2})};var YI=[{path:"",component:pf},{path:"user-dashboard",component:eh},{path:"nutri-dashboard",component:ih},{path:"sign-up",component:oh},{path:"check-goals",component:th},{path:"check-users",component:nh},{path:"log-cal",component:rh},{path:"gestion-alimentos",component:sh},{path:"ver-usuarios",component:ah},{path:"app-sing-up-nutri",component:lh}];var JI={providers:[qm(YI),_m()]};gm(Ad,JI);
