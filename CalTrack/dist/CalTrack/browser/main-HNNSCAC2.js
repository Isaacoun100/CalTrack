var KI=Object.defineProperty,YI=Object.defineProperties;var JI=Object.getOwnPropertyDescriptors;var Ov=Object.getOwnPropertySymbols;var ZI=Object.prototype.hasOwnProperty,QI=Object.prototype.propertyIsEnumerable;var Pv=(e,n,t)=>n in e?KI(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,T=(e,n)=>{for(var t in n||={})ZI.call(n,t)&&Pv(e,t,n[t]);if(Ov)for(var t of Ov(n))QI.call(n,t)&&Pv(e,t,n[t]);return e},Y=(e,n)=>YI(e,JI(n));var ut=null,el=!1,th=1,XI=null,mt=Symbol("SIGNAL");function K(e){let n=ut;return ut=e,n}function nl(){return ut}var Vs={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Bs(e){if(el)throw new Error("");if(ut===null)return;ut.consumerOnSignalRead(e);let n=ut.producersTail;if(n!==void 0&&n.producer===e)return;let t,r=ut.recomputing;if(r&&(t=n!==void 0?n.nextProducer:ut.producers,t!==void 0&&t.producer===e)){ut.producersTail=t,t.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===ut&&(!r||tx(i,ut)))return;let o=fo(ut),s={producer:e,consumer:ut,nextProducer:t,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};ut.producersTail=s,n!==void 0?n.nextProducer=s:ut.producers=s,o&&Vv(e,s)}function Fv(){th++}function nh(e){if(!(fo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===th)){if(!e.producerMustRecompute(e)&&!il(e)){eh(e);return}e.producerRecomputeValue(e),eh(e)}}function rh(e){if(e.consumers===void 0)return;let n=el;el=!0;try{for(let t=e.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||ex(r)}}finally{el=n}}function ih(){return ut?.consumerAllowSignalWrites!==!1}function ex(e){e.dirty=!0,rh(e),e.consumerMarkedDirty?.(e)}function eh(e){e.dirty=!1,e.lastCleanEpoch=th}function Us(e){return e&&Lv(e),K(e)}function Lv(e){e.producersTail=void 0,e.recomputing=!0}function rl(e,n){K(n),e&&jv(e)}function jv(e){e.recomputing=!1;let n=e.producersTail,t=n!==void 0?n.nextProducer:e.producers;if(t!==void 0){if(fo(e))do t=oh(t);while(t!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function il(e){for(let n=e.producers;n!==void 0;n=n.nextProducer){let t=n.producer,r=n.lastReadVersion;if(r!==t.version||(nh(t),r!==t.version))return!0}return!1}function $s(e){if(fo(e)){let n=e.producers;for(;n!==void 0;)n=oh(n)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function Vv(e,n){let t=e.consumersTail,r=fo(e);if(t!==void 0?(n.nextConsumer=t.nextConsumer,t.nextConsumer=n):(n.nextConsumer=void 0,e.consumers=n),n.prevConsumer=t,e.consumersTail=n,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)Vv(i.producer,i)}function oh(e){let n=e.producer,t=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:n.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(n.consumers=r,!fo(n)){let o=n.producers;for(;o!==void 0;)o=oh(o)}return t}function fo(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function sh(e){XI?.(e)}function tx(e,n){let t=n.producersTail;if(t!==void 0){let r=n.producers;do{if(r===e)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function ah(e,n){return Object.is(e,n)}function ol(e,n){let t=Object.create(nx);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(nh(t),Bs(t),t.value===tl)throw t.error;return t.value};return r[mt]=t,sh(t),r}var Qf=Symbol("UNSET"),Xf=Symbol("COMPUTING"),tl=Symbol("ERRORED"),nx=Y(T({},Vs),{value:Qf,dirty:!0,error:null,equal:ah,kind:"computed",producerMustRecompute(e){return e.value===Qf||e.value===Xf},producerRecomputeValue(e){if(e.value===Xf)throw new Error("");let n=e.value;e.value=Xf;let t=Us(e),r,i=!1;try{r=e.computation(),K(null),i=n!==Qf&&n!==tl&&r!==tl&&e.equal(n,r)}catch(o){r=tl,e.error=o}finally{rl(e,t)}if(i){e.value=n;return}e.value=r,e.version++}});function rx(){throw new Error}var Bv=rx;function Uv(e){Bv(e)}function ch(e){Bv=e}var ix=null;function lh(e,n){let t=Object.create(sl);t.value=e,n!==void 0&&(t.equal=n);let r=()=>$v(t);return r[mt]=t,sh(t),[r,s=>Hs(t,s),s=>Hv(t,s)]}function $v(e){return Bs(e),e.value}function Hs(e,n){ih()||Uv(e),e.equal(e.value,n)||(e.value=n,ox(e))}function Hv(e,n){ih()||Uv(e),Hs(e,n(e.value))}var sl=Y(T({},Vs),{equal:ah,value:void 0,kind:"signal"});function ox(e){e.version++,Fv(),rh(e),ix?.(e)}function uh(e){let n=K(null);try{return e()}finally{K(n)}}function z(e){return typeof e=="function"}function ho(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var al=ho(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function zs(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var Qe=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(z(r))try{r()}catch(o){n=o instanceof al?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zv(o)}catch(s){n=n??[],s instanceof al?n=[...n,...s.errors]:n.push(s)}}if(n)throw new al(n)}}add(n){var t;if(n&&n!==this)if(this.closed)zv(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&zs(t,n)}remove(n){let{_finalizers:t}=this;t&&zs(t,n),n instanceof e&&n._removeParent(this)}};Qe.EMPTY=(()=>{let e=new Qe;return e.closed=!0,e})();var dh=Qe.EMPTY;function cl(e){return e instanceof Qe||e&&"closed"in e&&z(e.remove)&&z(e.add)&&z(e.unsubscribe)}function zv(e){z(e)?e():e.unsubscribe()}var en={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var po={setTimeout(e,n,...t){let{delegate:r}=po;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=po;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ll(e){po.setTimeout(()=>{let{onUnhandledError:n}=en;if(n)n(e);else throw e})}function Ws(){}var Wv=fh("C",void 0,void 0);function Gv(e){return fh("E",void 0,e)}function qv(e){return fh("N",e,void 0)}function fh(e,n,t){return{kind:e,value:n,error:t}}var ei=null;function go(e){if(en.useDeprecatedSynchronousErrorHandling){let n=!ei;if(n&&(ei={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=ei;if(ei=null,t)throw r}}else e()}function Kv(e){en.useDeprecatedSynchronousErrorHandling&&ei&&(ei.errorThrown=!0,ei.error=e)}var ti=class extends Qe{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,cl(n)&&n.add(this)):this.destination=cx}static create(n,t,r){return new mo(n,t,r)}next(n){this.isStopped?ph(qv(n),this):this._next(n)}error(n){this.isStopped?ph(Gv(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ph(Wv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},sx=Function.prototype.bind;function hh(e,n){return sx.call(e,n)}var gh=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){ul(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){ul(r)}else ul(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){ul(t)}}},mo=class extends ti{constructor(n,t,r){super();let i;if(z(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&en.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&hh(n.next,o),error:n.error&&hh(n.error,o),complete:n.complete&&hh(n.complete,o)}):i=n}this.destination=new gh(i)}};function ul(e){en.useDeprecatedSynchronousErrorHandling?Kv(e):ll(e)}function ax(e){throw e}function ph(e,n){let{onStoppedNotification:t}=en;t&&po.setTimeout(()=>t(e,n))}var cx={closed:!0,next:Ws,error:ax,complete:Ws};var yo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function tn(e){return e}function mh(...e){return yh(e)}function yh(e){return e.length===0?tn:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var ee=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=ux(t)?t:new mo(t,r,i);return go(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Yv(r),new r((i,o)=>{let s=new mo({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[yo](){return this}pipe(...t){return yh(t)(this)}toPromise(t){return t=Yv(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function Yv(e){var n;return(n=e??en.Promise)!==null&&n!==void 0?n:Promise}function lx(e){return e&&z(e.next)&&z(e.error)&&z(e.complete)}function ux(e){return e&&e instanceof ti||lx(e)&&cl(e)}function dx(e){return z(e?.lift)}function ce(e){return n=>{if(dx(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(e,n,t,r,i){return new vh(e,n,t,r,i)}var vh=class extends ti{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){n.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};var Jv=ho(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ue=(()=>{class e extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new dl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Jv}next(t){go(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){go(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){go(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?dh:(this.currentObservers=null,o.push(t),new Qe(()=>{this.currentObservers=null,zs(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ee;return t.source=this,t}}return e.create=(n,t)=>new dl(n,t),e})(),dl=class extends Ue{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:dh}};var Xe=class extends Ue{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var Dt=new ee(e=>e.complete());function Zv(e){return e&&z(e.schedule)}function Qv(e){return e[e.length-1]}function fl(e){return z(Qv(e))?e.pop():void 0}function ur(e){return Zv(Qv(e))?e.pop():void 0}function ri(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t}function hl(e,n,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,n||[])).next())})}function Xv(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function ni(e){return this instanceof ni?(this.v=e,this):new ni(e)}function eb(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(i[f]=function(g){return new Promise(function(m,y){o.push([f,g,m,y])>1||c(f,g)})},p&&(i[f]=p(i[f])))}function c(f,p){try{l(r[f](p))}catch(g){h(o[0][3],g)}}function l(f){f.value instanceof ni?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function tb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Xv=="function"?Xv(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var pl=e=>e&&typeof e.length=="number"&&typeof e!="function";function gl(e){return z(e?.then)}function ml(e){return z(e[yo])}function yl(e){return Symbol.asyncIterator&&z(e?.[Symbol.asyncIterator])}function vl(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function fx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bl=fx();function _l(e){return z(e?.[bl])}function wl(e){return eb(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield ni(t.read());if(i)return yield ni(void 0);yield yield ni(r)}}finally{t.releaseLock()}})}function Dl(e){return z(e?.getReader)}function Ne(e){if(e instanceof ee)return e;if(e!=null){if(ml(e))return hx(e);if(pl(e))return px(e);if(gl(e))return gx(e);if(yl(e))return nb(e);if(_l(e))return mx(e);if(Dl(e))return yx(e)}throw vl(e)}function hx(e){return new ee(n=>{let t=e[yo]();if(z(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function px(e){return new ee(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function gx(e){return new ee(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,ll)})}function mx(e){return new ee(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function nb(e){return new ee(n=>{vx(e,n).catch(t=>n.error(t))})}function yx(e){return nb(wl(e))}function vx(e,n){var t,r,i,o;return hl(this,void 0,void 0,function*(){try{for(t=tb(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})}function Et(e,n,t,r=0,i=!1){let o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function El(e,n=0){return ce((t,r)=>{t.subscribe(le(r,i=>Et(r,e,()=>r.next(i),n),()=>Et(r,e,()=>r.complete(),n),i=>Et(r,e,()=>r.error(i),n)))})}function Cl(e,n=0){return ce((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function rb(e,n){return Ne(e).pipe(Cl(n),El(n))}function ib(e,n){return Ne(e).pipe(Cl(n),El(n))}function ob(e,n){return new ee(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function sb(e,n){return new ee(t=>{let r;return Et(t,n,()=>{r=e[bl](),Et(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>z(r?.return)&&r.return()})}function Sl(e,n){if(!e)throw new Error("Iterable cannot be null");return new ee(t=>{Et(t,n,()=>{let r=e[Symbol.asyncIterator]();Et(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ab(e,n){return Sl(wl(e),n)}function cb(e,n){if(e!=null){if(ml(e))return rb(e,n);if(pl(e))return ob(e,n);if(gl(e))return ib(e,n);if(yl(e))return Sl(e,n);if(_l(e))return sb(e,n);if(Dl(e))return ab(e,n)}throw vl(e)}function Ce(e,n){return n?cb(e,n):Ne(e)}function G(...e){let n=ur(e);return Ce(e,n)}function bh(e,n){let t=z(e)?e:()=>e,r=i=>i.error(t());return new ee(n?i=>n.schedule(r,0,i):r)}function Il(e){return!!e&&(e instanceof ee||z(e.lift)&&z(e.subscribe))}var ii=ho(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function se(e,n){return ce((t,r)=>{let i=0;t.subscribe(le(r,o=>{r.next(e.call(n,o,i++))}))})}var{isArray:bx}=Array;function _x(e,n){return bx(n)?e(...n):e(n)}function xl(e){return se(n=>_x(e,n))}var{isArray:wx}=Array,{getPrototypeOf:Dx,prototype:Ex,keys:Cx}=Object;function Tl(e){if(e.length===1){let n=e[0];if(wx(n))return{args:n,keys:null};if(Sx(n)){let t=Cx(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function Sx(e){return e&&typeof e=="object"&&Dx(e)===Ex}function Ml(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function Al(...e){let n=ur(e),t=fl(e),{args:r,keys:i}=Tl(e);if(r.length===0)return Ce([],n);let o=new ee(Ix(r,n,i?s=>Ml(i,s):tn));return t?o.pipe(xl(t)):o}function Ix(e,n,t=tn){return r=>{lb(n,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)lb(n,()=>{let l=Ce(e[c],n),u=!1;l.subscribe(le(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function lb(e,n,t){e?Et(t,e,n):n()}function ub(e,n,t,r,i,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&n.complete()},f=g=>l<r?p(g):c.push(g),p=g=>{o&&n.next(g),l++;let m=!1;Ne(t(g,u++)).subscribe(le(n,y=>{i?.(y),o?f(y):n.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;c.length&&l<r;){let y=c.shift();s?Et(n,s,()=>p(y)):p(y)}h()}catch(y){n.error(y)}}))};return e.subscribe(le(n,f,()=>{d=!0,h()})),()=>{a?.()}}function et(e,n,t=1/0){return z(n)?et((r,i)=>se((o,s)=>n(r,o,i,s))(Ne(e(r,i))),t):(typeof n=="number"&&(t=n),ce((r,i)=>ub(r,i,e,t)))}function vo(e=1/0){return et(tn,e)}function db(){return vo(1)}function bo(...e){return db()(Ce(e,ur(e)))}function Gs(e){return new ee(n=>{Ne(e()).subscribe(n)})}function _h(...e){let n=fl(e),{args:t,keys:r}=Tl(e),i=new ee(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Ne(t[u]).subscribe(le(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Ml(r,a):a),o.complete())}))}});return n?i.pipe(xl(n)):i}function Ct(e,n){return ce((t,r)=>{let i=0;t.subscribe(le(r,o=>e.call(n,o,i++)&&r.next(o)))})}function _o(e){return ce((n,t)=>{let r=null,i=!1,o;r=n.subscribe(le(t,void 0,void 0,s=>{o=Ne(e(s,_o(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function dr(e,n){return z(n)?et(e,n,1):et(e,1)}function wh(e){return ce((n,t)=>{let r=!1;n.subscribe(le(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function Un(e){return e<=0?()=>Dt:ce((n,t)=>{let r=0;n.subscribe(le(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function fb(e=xx){return ce((n,t)=>{let r=!1;n.subscribe(le(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function xx(){return new ii}function qs(e){return ce((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function $n(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Ct((i,o)=>e(i,o,r)):tn,Un(1),t?wh(n):fb(()=>new ii))}function Rl(e){return e<=0?()=>Dt:ce((n,t)=>{let r=[];n.subscribe(le(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Dh(...e){let n=ur(e);return ce((t,r)=>{(n?bo(e,t,n):bo(e,t)).subscribe(r)})}function Nt(e,n){return ce((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(le(r,c=>{i?.unsubscribe();let l=0,u=o++;Ne(e(c,u)).subscribe(i=le(r,d=>r.next(n?n(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ks(e){return ce((n,t)=>{Ne(e).subscribe(le(t,()=>t.complete(),Ws)),!t.closed&&n.subscribe(t)})}function yt(e,n,t){let r=z(e)||n||t?{next:e,error:n,complete:t}:e;return r?ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(le(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):tn}var Eh;function kl(){return Eh}function En(e){let n=Eh;return Eh=e,n}var hb=Symbol("NotFound");function wo(e){return e===hb||e?.name==="\u0275NotFound"}var jh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",A=class extends Error{code;constructor(n,t){super(Wn(n,t)),this.code=n}};function Ax(e){return`NG0${Math.abs(e)}`}function Wn(e,n){return`${Ax(e)}${n?": "+n:""}`}var li=globalThis;function ue(e){for(let n in e)if(e[n]===ue)return n;throw Error("")}function vb(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function zn(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(zn).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Vh(e,n){return e?n?`${e} ${n}`:e:n||""}var Rx=ue({__forward_ref__:ue});function It(e){return e.__forward_ref__=It,e.toString=function(){return zn(this())},e}function tt(e){return Bh(e)?e():e}function Bh(e){return typeof e=="function"&&e.hasOwnProperty(Rx)&&e.__forward_ref__===It}function k(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Bt(e){return{providers:e.providers||[],imports:e.imports||[]}}function ea(e){return kx(e,Ll)}function Uh(e){return ea(e)!==null}function kx(e,n){return e.hasOwnProperty(n)&&e[n]||null}function Nx(e){let n=e?.[Ll]??null;return n||null}function Sh(e){return e&&e.hasOwnProperty(Ol)?e[Ol]:null}var Ll=ue({\u0275prov:ue}),Ol=ue({\u0275inj:ue}),R=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=k({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function $h(e){return e&&!!e.\u0275providers}var Hh=ue({\u0275cmp:ue}),zh=ue({\u0275dir:ue}),Wh=ue({\u0275pipe:ue}),Gh=ue({\u0275mod:ue}),Js=ue({\u0275fac:ue}),ui=ue({__NG_ELEMENT_ID__:ue}),pb=ue({__NG_ENV_ID__:ue});function qh(e){return jl(e,"@NgModule"),e[Gh]||null}function Gn(e){return jl(e,"@Component"),e[Hh]||null}function Kh(e){return jl(e,"@Directive"),e[zh]||null}function bb(e){return jl(e,"@Pipe"),e[Wh]||null}function jl(e,n){if(e==null)throw new A(-919,!1)}function Eo(e){return typeof e=="string"?e:e==null?"":String(e)}function _b(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Eo(e)}var wb=ue({ngErrorCode:ue}),Ox=ue({ngErrorMessage:ue}),Px=ue({ngTokenPath:ue});function Yh(e,n){return Db("",-200,n)}function Vl(e,n){throw new A(-201,!1)}function Db(e,n,t){let r=new A(n,e);return r[wb]=n,r[Ox]=e,t&&(r[Px]=t),r}function Fx(e){return e[wb]}var Ih;function Eb(){return Ih}function vt(e){let n=Ih;return Ih=e,n}function Jh(e,n,t){let r=ea(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(n!==void 0)return n;Vl(e,"")}var Lx={},oi=Lx,jx="__NG_DI_FLAG__",xh=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=si(t)||0;try{return this.injector.get(n,r&8?null:oi,r)}catch(i){if(wo(i))return i;throw i}}};function Vx(e,n=0){let t=kl();if(t===void 0)throw new A(-203,!1);if(t===null)return Jh(e,void 0,n);{let r=Bx(n),i=t.retrieve(e,r);if(wo(i)){if(r.optional)return null;throw i}return i}}function P(e,n=0){return(Eb()||Vx)(tt(e),n)}function C(e,n){return P(e,si(n))}function si(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Bx(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Th(e){let n=[];for(let t=0;t<e.length;t++){let r=tt(e[t]);if(Array.isArray(r)){if(r.length===0)throw new A(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=Ux(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}n.push(P(i,o))}else n.push(P(r))}return n}function Ux(e){return e[jx]}function fr(e,n){let t=e.hasOwnProperty(Js);return t?e[Js]:null}function Bl(e,n){e.forEach(t=>Array.isArray(t)?Bl(t,n):n(t))}function Zh(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function ta(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Cb(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let o=i-2;e[i]=e[o],i--}e[n]=t,e[n+1]=r}}function Sb(e,n,t){let r=Co(e,n);return r>=0?e[r|1]=t:(r=~r,Cb(e,r,n,t)),r}function Ul(e,n){let t=Co(e,n);if(t>=0)return e[t|1]}function Co(e,n){return $x(e,n,1)}function $x(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}var gr={},Ot=[],So=new R(""),Qh=new R("",-1),Xh=new R(""),Zs=class{get(n,t=oi){if(t===oi){let i=Db("",-201);throw i.name="\u0275NotFound",i}return t}};function mr(e){return{\u0275providers:e}}function Ib(...e){return{\u0275providers:ep(!0,e),\u0275fromNgModule:!0}}function ep(e,...n){let t=[],r=new Set,i,o=s=>{t.push(s)};return Bl(n,s=>{let a=s;Pl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&xb(i,o),t}function xb(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];tp(i,o=>{n(o,r)})}}function Pl(e,n,t,r){if(e=tt(e),!e)return!1;let i=null,o=Sh(e),s=!o&&Gn(e);if(!o&&!s){let c=e.ngModule;if(o=Sh(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Pl(l,n,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Bl(o.imports,u=>{Pl(u,n,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&xb(l,n)}if(!a){let l=fr(i)||(()=>new i);n({provide:i,useFactory:l,deps:Ot},i),n({provide:Xh,useValue:i,multi:!0},i),n({provide:So,useValue:()=>P(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;tp(c,u=>{n(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function tp(e,n){for(let t of e)$h(t)&&(t=t.\u0275providers),Array.isArray(t)?tp(t,n):n(t)}var Hx=ue({provide:String,useValue:ue});function Tb(e){return e!==null&&typeof e=="object"&&Hx in e}function zx(e){return!!(e&&e.useExisting)}function Wx(e){return!!(e&&e.useFactory)}function ai(e){return typeof e=="function"}function Mb(e){return!!e.useClass}var na=new R(""),Nl={},gb={},Ch;function ra(){return Ch===void 0&&(Ch=new Zs),Ch}var Te=class{},ci=class extends Te{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Ah(n,s=>this.processProvider(s)),this.records.set(Qh,Do(void 0,this)),i.has("environment")&&this.records.set(Te,Do(void 0,this));let o=this.records.get(na);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Xh,Ot,{self:!0}))}retrieve(n,t){let r=si(t)||0;try{return this.get(n,oi,r)}catch(i){if(wo(i))return i;throw i}}destroy(){Ys(this),this._destroyed=!0;let n=K(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(n)}}onDestroy(n){return Ys(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Ys(this);let t=En(this),r=vt(void 0),i;try{return n()}finally{En(t),vt(r)}}get(n,t=oi,r){if(Ys(this),n.hasOwnProperty(pb))return n[pb](this);let i=si(r),o,s=En(this),a=vt(void 0);try{if(!(i&4)){let l=this.records.get(n);if(l===void 0){let u=Jx(n)&&ea(n);u&&this.injectableDefInScope(u)?l=Do(Mh(n),Nl):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l,i)}let c=i&2?ra():this.parent;return t=i&8&&t===oi?null:t,c.get(n,t)}catch(c){let l=Fx(c);throw l===-200||l===-201?new A(l,null):c}finally{vt(a),En(s)}}resolveInjectorInitializers(){let n=K(null),t=En(this),r=vt(void 0),i;try{let o=this.get(So,Ot,{self:!0});for(let s of o)s()}finally{En(t),vt(r),K(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(zn(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=tt(n);let t=ai(n)?n:tt(n&&n.provide),r=qx(n);if(!ai(n)&&n.multi===!0){let i=this.records.get(t);i||(i=Do(void 0,Nl,!0),i.factory=()=>Th(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let i=K(null);try{if(t.value===gb)throw Yh(zn(n));return t.value===Nl&&(t.value=gb,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&Yx(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{K(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=tt(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Mh(e){let n=ea(e),t=n!==null?n.factory:fr(e);if(t!==null)return t;if(e instanceof R)throw new A(204,!1);if(e instanceof Function)return Gx(e);throw new A(204,!1)}function Gx(e){if(e.length>0)throw new A(204,!1);let t=Nx(e);return t!==null?()=>t.factory(e):()=>new e}function qx(e){if(Tb(e))return Do(void 0,e.useValue);{let n=np(e);return Do(n,Nl)}}function np(e,n,t){let r;if(ai(e)){let i=tt(e);return fr(i)||Mh(i)}else if(Tb(e))r=()=>tt(e.useValue);else if(Wx(e))r=()=>e.useFactory(...Th(e.deps||[]));else if(zx(e))r=(i,o)=>P(tt(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=tt(e&&(e.useClass||e.provide));if(Kx(e))r=()=>new i(...Th(e.deps));else return fr(i)||Mh(i)}return r}function Ys(e){if(e.destroyed)throw new A(205,!1)}function Do(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Kx(e){return!!e.deps}function Yx(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Jx(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Ah(e,n){for(let t of e)Array.isArray(t)?Ah(t,n):t&&$h(t)?Ah(t.\u0275providers,n):n(t)}function $e(e,n){let t;e instanceof ci?(Ys(e),t=e):t=new xh(e);let r,i=En(t),o=vt(void 0);try{return n()}finally{En(i),vt(o)}}function Ab(){return Eb()!==void 0||kl()!=null}var nn=0,W=1,$=2,nt=3,Ut=4,$t=5,ia=6,Io=7,ft=8,yr=9,qn=10,Me=11,xo=12,rp=13,di=14,Ht=15,fi=16,hi=17,pi=18,vr=19,ip=20,Hn=21,$l=22,oa=23,Pt=24,gi=25,sa=26,rt=27,Rb=1;var br=7,aa=8,ca=9,xt=10;function Sn(e){return Array.isArray(e)&&typeof e[Rb]=="object"}function rn(e){return Array.isArray(e)&&e[Rb]===!0}function op(e){return(e.flags&4)!==0}function _r(e){return e.componentOffset>-1}function la(e){return(e.flags&1)===1}function In(e){return!!e.template}function To(e){return(e[$]&512)!==0}function mi(e){return(e[$]&256)===256}var kb="svg",Nb="math";function zt(e){for(;Array.isArray(e);)e=e[nn];return e}function sp(e,n){return zt(n[e])}function on(e,n){return zt(n[e.index])}function Hl(e,n){return e.data[n]}function ap(e,n){return e[n]}function cp(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function Wt(e,n){let t=n[e];return Sn(t)?t:t[nn]}function zl(e){return(e[$]&128)===128}function Ob(e){return rn(e[nt])}function yi(e,n){return n==null?null:e[n]}function lp(e){e[hi]=0}function up(e){e[$]&1024||(e[$]|=1024,zl(e)&&Mo(e))}function Pb(e,n){for(;e>0;)n=n[di],e--;return n}function ua(e){return!!(e[$]&9216||e[Pt]?.dirty)}function Wl(e){e[qn].changeDetectionScheduler?.notify(8),e[$]&64&&(e[$]|=1024),ua(e)&&Mo(e)}function Mo(e){e[qn].changeDetectionScheduler?.notify(0);let n=hr(e);for(;n!==null&&!(n[$]&8192||(n[$]|=8192,!zl(n)));)n=hr(n)}function dp(e,n){if(mi(e))throw new A(911,!1);e[Hn]===null&&(e[Hn]=[]),e[Hn].push(n)}function Fb(e,n){if(e[Hn]===null)return;let t=e[Hn].indexOf(n);t!==-1&&e[Hn].splice(t,1)}function hr(e){let n=e[nt];return rn(n)?n[nt]:n}function Lb(e){return e[Io]??=[]}function jb(e){return e.cleanup??=[]}var J={lFrame:Xb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Rh=!1;function Vb(){return J.lFrame.elementDepthCount}function Bb(){J.lFrame.elementDepthCount++}function fp(){J.lFrame.elementDepthCount--}function hp(){return J.bindingsEnabled}function Ub(){return J.skipHydrationRootTNode!==null}function pp(e){return J.skipHydrationRootTNode===e}function gp(){J.skipHydrationRootTNode=null}function de(){return J.lFrame.lView}function Tt(){return J.lFrame.tView}function ne(e){return J.lFrame.contextLView=e,e[ft]}function re(e){return J.lFrame.contextLView=null,e}function bt(){let e=mp();for(;e!==null&&e.type===64;)e=e.parent;return e}function mp(){return J.lFrame.currentTNode}function $b(){let e=J.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Ao(e,n){let t=J.lFrame;t.currentTNode=e,t.isParent=n}function yp(){return J.lFrame.isParent}function Hb(){J.lFrame.isParent=!1}function zb(){return J.lFrame.contextLView}function vp(){return Rh}function bp(e){let n=Rh;return Rh=e,n}function Wb(){let e=J.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Gb(){return J.lFrame.bindingIndex}function qb(e){return J.lFrame.bindingIndex=e}function da(){return J.lFrame.bindingIndex++}function _p(e){let n=J.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function Kb(){return J.lFrame.inI18n}function Yb(e,n){let t=J.lFrame;t.bindingIndex=t.bindingRootIndex=e,Gl(n)}function Jb(){return J.lFrame.currentDirectiveIndex}function Gl(e){J.lFrame.currentDirectiveIndex=e}function Zb(e){let n=J.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function wp(e){J.lFrame.currentQueryIndex=e}function Zx(e){let n=e[W];return n.type===2?n.declTNode:n.type===1?e[$t]:null}function Dp(e,n,t){if(t&4){let i=n,o=e;for(;i=i.parent,i===null&&!(t&1);)if(i=Zx(o),i===null||(o=o[di],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=J.lFrame=Qb();return r.currentTNode=n,r.lView=e,!0}function ql(e){let n=Qb(),t=e[W];J.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Qb(){let e=J.lFrame,n=e===null?null:e.child;return n===null?Xb(e):n}function Xb(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function e_(){let e=J.lFrame;return J.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Ep=e_;function Kl(){let e=e_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function t_(e){return(J.lFrame.contextLView=Pb(e,J.lFrame.contextLView))[ft]}function wr(){return J.lFrame.selectedIndex}function Dr(e){J.lFrame.selectedIndex=e}function Yl(){let e=J.lFrame;return Hl(e.tView,e.selectedIndex)}function n_(){return J.lFrame.currentNamespace}var r_=!0;function Jl(){return r_}function Zl(e){r_=e}function kh(e,n=null,t=null,r){let i=Cp(e,n,t,r);return i.resolveInjectorInitializers(),i}function Cp(e,n=null,t=null,r,i=new Set){let o=[t||Ot,Ib(e)];return r=r||(typeof e=="object"?void 0:zn(e)),new ci(o,n||ra(),r||null,i)}var St=class e{static THROW_IF_NOT_FOUND=oi;static NULL=new Zs;static create(n,t){if(Array.isArray(n))return kh({name:""},t,n,"");{let r=n.name??"";return kh({name:r},n.parent,n.providers,r)}}static \u0275prov=k({token:e,providedIn:"any",factory:()=>P(Qh)});static __NG_ELEMENT_ID__=-1},Se=new R(""),sn=(()=>{class e{static __NG_ELEMENT_ID__=Qx;static __NG_ENV_ID__=t=>t}return e})(),Nh=class extends sn{_lView;constructor(n){super(),this._lView=n}get destroyed(){return mi(this._lView)}onDestroy(n){let t=this._lView;return dp(t,n),()=>Fb(t,n)}};function Qx(){return new Nh(de())}var i_=!1,Kn=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Xe(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ee(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=k({token:e,providedIn:"root",factory:()=>new e})}return e})(),Oh=class extends Ue{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Ab()&&(this.destroyRef=C(sn,{optional:!0})??void 0,this.pendingTasks=C(Kn,{optional:!0})??void 0)}emit(n){let t=K(null);try{super.next(n)}finally{K(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&typeof n=="object"){let c=n;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return n instanceof Qe&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Oe=Oh;function Fl(...e){}function Sp(e){let n,t;function r(){e=Fl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Ip(e){return queueMicrotask(()=>e()),()=>{e=Fl}}var xp="isAngularZone",Qs=xp+"_ID",Xx=0,dt=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Oe(!1);onMicrotaskEmpty=new Oe(!1);onStable=new Oe(!1);onError=new Oe(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=i_}=n;if(typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,nT(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(xp)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new A(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,eT,Fl,Fl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},eT={};function Tp(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function tT(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){Sp(()=>{e.callbackScheduled=!1,Ph(e),e.isCheckStableRunning=!0,Tp(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Ph(e)}function nT(e){let n=()=>{tT(e)},t=Xx++;e._inner=e._inner.fork({name:"angular",properties:{[xp]:!0,[Qs]:t,[Qs+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(rT(c))return r.invokeTask(o,s,a,c);try{return mb(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),yb(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return mb(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!iT(c)&&n(),yb(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Ph(e),Tp(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Ph(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function mb(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function yb(e){e._nesting--,Tp(e)}var Xs=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Oe;onMicrotaskEmpty=new Oe;onStable=new Oe;onError=new Oe;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function rT(e){return o_(e,"__ignore_ng_zone__")}function iT(e){return o_(e,"__scheduler_tick__")}function o_(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var Cn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},an=new R("",{factory:()=>{let e=C(dt),n=C(Te),t;return r=>{e.runOutsideAngular(()=>{n.destroyed&&!t?setTimeout(()=>{throw r}):(t??=n.get(Cn),t.handleError(r))})}}}),s_={provide:So,useValue:()=>{let e=C(Cn,{optional:!0})},multi:!0};function cn(e,n){let[t,r,i]=lh(e,n?.equal),o=t,s=o[mt];return o.set=r,o.update=i,o.asReadonly=a_.bind(o),o}function a_(){let e=this[mt];if(e.readonlyFn===void 0){let n=()=>this();n[mt]=e,e.readonlyFn=n}return e.readonlyFn}var Ql=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=oT}return e})();function oT(){return new Ql(de(),bt())}var pr=class{},fa=new R("",{factory:()=>!0});var Mp=new R(""),Xl=(()=>{class e{internalPendingTasks=C(Kn);scheduler=C(pr);errorHandler=C(an);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=k({token:e,providedIn:"root",factory:()=>new e})}return e})(),Ap=(()=>{class e{static \u0275prov=k({token:e,providedIn:"root",factory:()=>new Fh})}return e})(),Fh=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[t,r]of this.queues)t===null?n||=this.flushQueue(r):n||=t.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let t=!1;for(let r of n)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},Lh=class{[mt];constructor(n){this[mt]=n}destroy(){this[mt].destroy()}};function He(e){return uh(e)}function ba(e){return{toString:e}.toString()}function hT(e){return typeof e=="function"}function F_(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var iu=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},Cr=(()=>{let e=()=>L_;return e.ngInherit=!0,e})();function L_(e){return e.type.prototype.ngOnChanges&&(e.setInput=gT),pT}function pT(){let e=V_(this),n=e?.current;if(n){let t=e.previous;if(t===gr)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function gT(e,n,t,r,i){let o=this.declaredInputs[r],s=V_(e)||mT(e,{previous:gr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new iu(l&&l.currentValue,t,c===gr),F_(e,n,i,t)}var j_="__ngSimpleChanges__";function V_(e){return e[j_]||null}function mT(e,n){return e[j_]=n}var c_=[];var fe=function(e,n=null,t){for(let r=0;r<c_.length;r++){let i=c_[r];i(e,n,t)}},ie=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(ie||{});function yT(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let s=L_(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function B_(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),l&&((e.viewHooks??=[]).push(t,l),(e.viewCheckHooks??=[]).push(t,l)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function tu(e,n,t){U_(e,n,3,t)}function nu(e,n,t,r){(e[$]&3)===t&&U_(e,n,t,r)}function Rp(e,n){let t=e[$];(t&3)===n&&(t&=16383,t+=1,e[$]=t)}function U_(e,n,t,r){let i=r!==void 0?e[hi]&65535:0,o=r??-1,s=n.length-1,a=0;for(let c=i;c<s;c++)if(typeof n[c+1]=="number"){if(a=n[c],r!=null&&a>=r)break}else n[c]<0&&(e[hi]+=65536),(a<o||o==-1)&&(vT(e,t,n,c),e[hi]=(e[hi]&4294901760)+c+2),c++}function l_(e,n){fe(ie.LifecycleHookStart,e,n);let t=K(null);try{n.call(e)}finally{K(t),fe(ie.LifecycleHookEnd,e,n)}}function vT(e,n,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=e[s];i?e[$]>>14<e[hi]>>16&&(e[$]&3)===n&&(e[$]+=16384,l_(a,o)):l_(a,o)}var ko=-1,bi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r,i){this.factory=n,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function bT(e){return(e.flags&8)!==0}function _T(e){return(e.flags&16)!==0}function wT(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{let o=i,s=t[++r];ET(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function DT(e){return e===3||e===4||e===6}function ET(e){return e.charCodeAt(0)===64}function No(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?u_(e,t,i,null,n[++r]):u_(e,t,i,null,null))}}return e}function u_(e,n,t,r,i){let o=0,s=e.length;if(n===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),i!==null&&e.splice(o++,0,i)}function $_(e){return e!==ko}function ou(e){return e&32767}function CT(e){return e>>16}function su(e,n){let t=CT(e),r=n;for(;t>0;)r=r[di],t--;return r}var $p=!0;function au(e){let n=$p;return $p=e,n}var ST=256,H_=ST-1,z_=5,IT=0,xn={};function xT(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ui)&&(r=t[ui]),r==null&&(r=t[ui]=IT++);let i=r&H_,o=1<<i;n.data[e+(i>>z_)]|=o}function cu(e,n){let t=W_(e,n);if(t!==-1)return t;let r=n[W];r.firstCreatePass&&(e.injectorIndex=n.length,kp(r.data,e),kp(n,null),kp(r.blueprint,null));let i=ig(e,n),o=e.injectorIndex;if($_(i)){let s=ou(i),a=su(i,n),c=a[W].data;for(let l=0;l<8;l++)n[o+l]=a[s+l]|c[s+l]}return n[o+8]=i,o}function kp(e,n){e.push(0,0,0,0,0,0,0,0,n)}function W_(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function ig(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=J_(i),r===null)return ko;if(t++,i=i[di],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ko}function Hp(e,n,t){xT(e,n,t)}function G_(e,n,t){if(t&8||e!==void 0)return e;Vl(n,"NodeInjector")}function q_(e,n,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=e[yr],o=vt(void 0);try{return i?i.get(n,r,t&8):Jh(n,r,t&8)}finally{vt(o)}}return G_(r,n,t)}function K_(e,n,t,r=0,i){if(e!==null){if(n[$]&2048&&!(r&2)){let s=kT(e,n,t,r,xn);if(s!==xn)return s}let o=Y_(e,n,t,r,xn);if(o!==xn)return o}return q_(n,t,r,i)}function Y_(e,n,t,r,i){let o=AT(t);if(typeof o=="function"){if(!Dp(n,e,r))return r&1?G_(i,t,r):q_(n,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Vl(t);else return s}finally{Ep()}}else if(typeof o=="number"){let s=null,a=W_(e,n),c=ko,l=r&1?n[Ht][$t]:null;for((a===-1||r&4)&&(c=a===-1?ig(e,n):n[a+8],c===ko||!f_(r,!1)?a=-1:(s=n[W],a=ou(c),n=su(c,n)));a!==-1;){let u=n[W];if(d_(o,a,u.data)){let d=TT(a,n,t,s,r,l);if(d!==xn)return d}c=n[a+8],c!==ko&&f_(r,n[W].data[a+8]===l)&&d_(o,a,n)?(s=u,a=ou(c),n=su(c,n)):a=-1}}return i}function TT(e,n,t,r,i,o){let s=n[W],a=s.data[e+8],c=r==null?_r(a)&&$p:r!=s&&(a.type&3)!==0,l=i&1&&o===a,u=MT(a,s,t,c,l);return u!==null?lu(n,s,u,a,i):xn}function MT(e,n,t,r,i){let o=e.providerIndexes,s=n.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:l;for(let f=d;f<h;f++){let p=s[f];if(f<c&&t===p||f>=c&&p.type===t)return f}if(i){let f=s[c];if(f&&In(f)&&f.type===t)return c}return null}function lu(e,n,t,r,i){let o=e[t],s=n.data;if(o instanceof bi){let a=o;if(a.resolving){let f=_b(s[t]);throw Yh(f)}let c=au(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],u,d=a.injectImpl?vt(a.injectImpl):null,h=Dp(e,r,0);try{o=e[t]=a.factory(void 0,i,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&yT(t,s[t],n)}finally{d!==null&&vt(d),au(c),a.resolving=!1,Ep()}}return o}function AT(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(ui)?e[ui]:void 0;return typeof n=="number"?n>=0?n&H_:RT:n}function d_(e,n,t){let r=1<<e;return!!(t[n+(e>>z_)]&r)}function f_(e,n){return!(e&2)&&!(e&1&&n)}var vi=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return K_(this._tNode,this._lView,n,si(r),t)}};function RT(){return new vi(bt(),de())}function Ft(e){return ba(()=>{let n=e.prototype.constructor,t=n[Js]||zp(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Js]||zp(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function zp(e){return Bh(e)?()=>{let n=zp(tt(e));return n&&n()}:fr(e)}function kT(e,n,t,r,i){let o=e,s=n;for(;o!==null&&s!==null&&s[$]&2048&&!To(s);){let a=Y_(o,s,t,r|2,xn);if(a!==xn)return a;let c=o.parent;if(!c){let l=s[ip];if(l){let u=l.get(t,xn,r);if(u!==xn)return u}c=J_(s),s=s[di]}o=c}return i}function J_(e){let n=e[W],t=n.type;return t===2?n.declTNode:t===1?e[$t]:null}function NT(){return bu(bt(),de())}function bu(e,n){return new dn(on(e,n))}var dn=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=NT}return e})();function Z_(e){return(e.flags&128)===128}var og=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(og||{}),Q_=new Map,OT=0;function PT(){return OT++}function FT(e){Q_.set(e[vr],e)}function Wp(e){Q_.delete(e[vr])}var h_="__ngContext__";function Oo(e,n){Sn(n)?(e[h_]=n[vr],FT(n)):e[h_]=n}function X_(e){return tw(e[xo])}function ew(e){return tw(e[Ut])}function tw(e){for(;e!==null&&!rn(e);)e=e[Ut];return e}var LT;function sg(e){LT=e}var _u=new R("",{factory:()=>jT}),jT="ng";var wu=new R(""),_a=new R("",{providedIn:"platform",factory:()=>"unknown"});var Du=new R("",{factory:()=>C(Se).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var nw=!1,rw=new R("",{factory:()=>nw});var ag=new R("");var VT=(e,n,t,r)=>{};function BT(e,n,t,r){VT(e,n,t,r)}function cg(e){return(e.flags&32)===32}var UT=()=>null;function iw(e,n,t=!1){return UT(e,n,t)}function ow(e,n){let t=e.contentQueries;if(t!==null){let r=K(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];wp(o),a.contentQueries(2,n[s],s)}}}finally{K(r)}}}function Gp(e,n,t){wp(0);let r=K(null);try{n(e,t)}finally{K(r)}}function sw(e,n,t){if(op(n)){let r=K(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{K(r)}}}var un=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(un||{});var qp=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jh})`}};function lg(e){return e instanceof qp?e.changingThisBreaksApplicationSecurity:e}function $T(e,n){return e.createText(n)}function HT(e,n,t){e.setValue(n,t)}function aw(e,n,t){return e.createElement(n,t)}function uu(e,n,t,r,i){e.insertBefore(n,t,r,i)}function cw(e,n,t){e.appendChild(n,t)}function p_(e,n,t,r,i){r!==null?uu(e,n,t,r,i):cw(e,n,t)}function zT(e,n,t,r){e.removeChild(null,n,t,r)}function WT(e,n,t){e.setAttribute(n,"style",t)}function GT(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function lw(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&wT(e,n,r),i!==null&&GT(e,n,i),o!==null&&WT(e,n,o)}function uw(e){return e instanceof Function?e():e}function qT(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}var dw="ng-template";function KT(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&qT(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(ug(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function ug(e){return e.type===4&&e.value!==dw}function YT(e,n,t){let r=e.type===4&&!t?dw:e.value;return n===r}function JT(e,n,t){let r=4,i=e.attrs,o=i!==null?XT(i):0,s=!1;for(let a=0;a<n.length;a++){let c=n[a];if(typeof c=="number"){if(!s&&!ln(r)&&!ln(c))return!1;if(s&&ln(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!YT(e,c,t)||c===""&&n.length===1){if(ln(r))return!1;s=!0}}else if(r&8){if(i===null||!KT(e,i,c,t)){if(ln(r))return!1;s=!0}}else{let l=n[++a],u=ZT(c,i,ug(e),t);if(u===-1){if(ln(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(ln(r))return!1;s=!0}}}}return ln(r)||s}function ln(e){return(e&1)===0}function ZT(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let s=n[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++i];for(;typeof a=="string";)a=n[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return eM(n,e)}function QT(e,n,t=!1){for(let r=0;r<n.length;r++)if(JT(e,n[r],t))return!0;return!1}function XT(e){for(let n=0;n<e.length;n++){let t=e[n];if(DT(t))return n}return e.length}function eM(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function g_(e,n){return e?":not("+n.trim()+")":n}function tM(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ln(s)&&(n+=g_(o,i),i=""),r=s,o=o||!ln(r);t++}return i!==""&&(n+=g_(o,i)),n}function nM(e){return e.map(tM).join(",")}function rM(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!ln(i))break;i=o}r++}return t.length&&n.push(1,...t),n}var fn={};function dg(e,n,t,r,i,o,s,a,c,l,u){let d=rt+r,h=d+i,f=iM(d,h),p=typeof l=="function"?l():l;return f[W]={type:e,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function iM(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:fn);return t}function oM(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=dg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function fg(e,n,t,r,i,o,s,a,c,l,u){let d=n.blueprint.slice();return d[nn]=i,d[$]=r|4|128|8|64|1024,(l!==null||e&&e[$]&2048)&&(d[$]|=2048),lp(d),d[nt]=d[di]=e,d[ft]=t,d[qn]=s||e&&e[qn],d[Me]=a||e&&e[Me],d[yr]=c||e&&e[yr]||null,d[$t]=o,d[vr]=PT(),d[ia]=u,d[ip]=l,d[Ht]=n.type==2?e[Ht]:d,d}function sM(e,n,t){let r=on(n,e),i=oM(t),o=e[qn].rendererFactory,s=hg(e,fg(e,i,null,fw(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=s}function fw(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function hw(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function hg(e,n){return e[xo]?e[rp][Ut]=n:e[xo]=n,e[rp]=n,n}function V(e=1){pw(Tt(),de(),wr()+e,!1)}function pw(e,n,t,r){if(!r)if((n[$]&3)===3){let o=e.preOrderCheckHooks;o!==null&&tu(n,o,t)}else{let o=e.preOrderHooks;o!==null&&nu(n,o,0,t)}Dr(t)}var Eu=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(Eu||{});function Kp(e,n,t,r){let i=K(null);try{let[o,s,a]=e.inputs[t],c=null;(s&Eu.SignalBased)!==0&&(c=n[o][mt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(n,r)),e.setInput!==null?e.setInput(n,c,r,t,o):F_(n,c,o,r)}finally{K(i)}}var Tn=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(Tn||{}),aM;function pg(e,n){return aM(e,n)}var Po=new Set,Cu=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(Cu||{}),Yn=new R(""),m_=new Set;function Lo(e){m_.has(e)||(m_.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var gg=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=k({token:e,providedIn:"root",factory:()=>new e})}return e})(),gw=[0,1,2,3],mw=(()=>{class e{ngZone=C(dt);scheduler=C(pr);errorHandler=C(Cn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){C(Yn,{optional:!0})}execute(){let t=this.sequences.size>0;t&&fe(ie.AfterRenderHooksStart),this.executing=!0;for(let r of gw)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&fe(ie.AfterRenderHooksEnd)}register(t){let{view:r}=t;r!==void 0?((r[gi]??=[]).push(t),Mo(r),r[$]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Cu.AFTER_NEXT_RENDER,t):t()}static \u0275prov=k({token:e,providedIn:"root",factory:()=>new e})}return e})(),du=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,i,o,s=null){this.impl=n,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[gi];n&&(this.view[gi]=n.filter(t=>t!==this))}};function wa(e,n){let t=n?.injector??C(St);return Lo("NgAfterNextRender"),lM(e,t,n,!0)}function cM(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function lM(e,n,t,r){let i=n.get(gg);i.impl??=n.get(mw);let o=n.get(Yn,null,{optional:!0}),s=t?.manualCleanup!==!0?n.get(sn):null,a=n.get(Ql,null,{optional:!0}),c=new du(i.impl,cM(e),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var uM=new R("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:C(Te)})});function yw(e,n,t){let r=e.get(uM);if(Array.isArray(n))for(let i of n)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(n),t?.detachedLeaveAnimationFns?.push(n);r.scheduler&&r.scheduler(e)}function dM(e,n){for(let[t,r]of n)yw(e,r.animateFns)}function y_(e,n,t,r){let i=e?.[sa]?.enter;n!==null&&i&&i.has(t.index)&&dM(r,i)}function Ro(e,n,t,r,i,o,s,a){if(i!=null){let c,l=!1;rn(i)?c=i:Sn(i)&&(l=!0,i=i[nn]);let u=zt(i);e===0&&r!==null?(y_(a,r,o,t),s==null?cw(n,r,u):uu(n,r,u,s||null,!0)):e===1&&r!==null?(y_(a,r,o,t),uu(n,r,u,s||null,!0)):e===2?v_(a,o,t,d=>{zT(n,u,l,d)}):e===3&&v_(a,o,t,()=>{n.destroyNode(u)}),c!=null&&CM(n,e,t,c,o,r,s)}}function fM(e,n){vw(e,n),n[nn]=null,n[$t]=null}function hM(e,n,t,r,i,o){r[nn]=i,r[$t]=n,Su(e,r,t,1,i,o)}function vw(e,n){n[qn].changeDetectionScheduler?.notify(9),Su(e,n,n[Me],2,null,null)}function pM(e){let n=e[xo];if(!n)return Np(e[W],e);for(;n;){let t=null;if(Sn(n))t=n[xo];else{let r=n[xt];r&&(t=r)}if(!t){for(;n&&!n[Ut]&&n!==e;)Sn(n)&&Np(n[W],n),n=n[nt];n===null&&(n=e),Sn(n)&&Np(n[W],n),t=n&&n[Ut]}n=t}}function mg(e,n){let t=e[ca],r=t.indexOf(n);t.splice(r,1)}function bw(e,n){if(mi(n))return;let t=n[Me];t.destroyNode&&Su(e,n,t,3,null,null),pM(n)}function Np(e,n){if(mi(n))return;let t=K(null);try{n[$]&=-129,n[$]|=256,n[Pt]&&$s(n[Pt]),yM(e,n),mM(e,n),n[W].type===1&&n[Me].destroy();let r=n[fi];if(r!==null&&rn(n[nt])){r!==n[nt]&&mg(r,n);let i=n[pi];i!==null&&i.detachView(e)}Wp(n)}finally{K(t)}}function v_(e,n,t,r){let i=e?.[sa];if(i==null||i.leave==null||!i.leave.has(n.index))return r(!1);e&&Po.add(e[vr]),yw(t,()=>{if(i.leave&&i.leave.has(n.index)){let s=i.leave.get(n.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),gM(e,r)}else e&&Po.delete(e[vr]),r(!1)},i)}function gM(e,n){let t=e[sa]?.running;if(t){t.then(()=>{e[sa].running=void 0,Po.delete(e[vr]),n(!0)});return}n(!1)}function mM(e,n){let t=e.cleanup,r=n[Io];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[Io]=null);let i=n[Hn];if(i!==null){n[Hn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=n[oa];if(o!==null){n[oa]=null;for(let s of o)s.destroy()}}function yM(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof bi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];fe(ie.LifecycleHookStart,a,c);try{c.call(a)}finally{fe(ie.LifecycleHookEnd,a,c)}}else{fe(ie.LifecycleHookStart,i,o);try{o.call(i)}finally{fe(ie.LifecycleHookEnd,i,o)}}}}}function vM(e,n,t){return bM(e,n.parent,t)}function bM(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[nn];if(_r(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===un.None||i===un.Emulated)return null}return on(r,t)}function _M(e,n,t){return DM(e,n,t)}function wM(e,n,t){return e.type&40?on(e,t):null}var DM=wM,b_;function yg(e,n,t,r){let i=vM(e,r,n),o=n[Me],s=r.parent||n[$t],a=_M(s,r,n);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)p_(o,i,t[c],a,!1);else p_(o,i,t,a,!1);b_!==void 0&&b_(o,r,n,t,i)}function pa(e,n){if(n!==null){let t=n.type;if(t&3)return on(n,e);if(t&4)return Yp(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return pa(e,r);{let i=e[n.index];return rn(i)?Yp(-1,i):zt(i)}}else{if(t&128)return pa(e,n.next);if(t&32)return pg(n,e)()||zt(e[n.index]);{let r=_w(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=hr(e[Ht]);return pa(i,r)}else return pa(e,n.next)}}}return null}function _w(e,n){if(n!==null){let r=e[Ht][$t],i=n.projection;return r.projection[i]}return null}function Yp(e,n){let t=xt+e+1;if(t<n.length){let r=n[t],i=r[W].firstChild;if(i!==null)return pa(r,i)}return n[br]}function vg(e,n,t,r,i,o,s){for(;t!=null;){let a=r[yr];if(t.type===128){t=t.next;continue}let c=r[t.index],l=t.type;if(s&&n===0&&(c&&Oo(zt(c),r),t.flags|=2),!cg(t))if(l&8)vg(e,n,t.child,r,i,o,!1),Ro(n,e,a,i,c,t,o,r);else if(l&32){let u=pg(t,r),d;for(;d=u();)Ro(n,e,a,i,d,t,o,r);Ro(n,e,a,i,c,t,o,r)}else l&16?EM(e,n,r,t,i,o):Ro(n,e,a,i,c,t,o,r);t=s?t.projectionNext:t.next}}function Su(e,n,t,r,i,o){vg(t,r,e.firstChild,n,i,o,!1)}function EM(e,n,t,r,i,o){let s=t[Ht],c=s[$t].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ro(n,e,t[yr],i,u,r,o,t)}else{let l=c,u=s[nt];Z_(r)&&(l.flags|=128),vg(e,n,l,u,i,o,!0)}}function CM(e,n,t,r,i,o,s){let a=r[br],c=zt(r);a!==c&&Ro(n,e,t,o,a,i,s);for(let l=xt;l<r.length;l++){let u=r[l];Su(u[W],u,e,n,o,a)}}function SM(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Tn.DashCase;i==null?e.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Tn.Important),e.setStyle(t,r,i,o))}}function ww(e,n,t,r,i){let o=wr(),s=r&2;try{Dr(-1),s&&n.length>rt&&pw(e,n,rt,!1);let a=s?ie.TemplateUpdateStart:ie.TemplateCreateStart;fe(a,i,t),t(r,i)}finally{Dr(o);let a=s?ie.TemplateUpdateEnd:ie.TemplateCreateEnd;fe(a,i,t)}}function bg(e,n,t){kM(e,n,t),(t.flags&64)===64&&NM(e,n,t)}function _g(e,n,t=on){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(n,e):e[s];e[i++]=a}}}function IM(e,n,t,r){let o=r.get(rw,nw)||t===un.ShadowDom||t===un.ExperimentalIsolatedShadowDom,s=e.selectRootElement(n,o);return xM(s),s}function xM(e){TM(e)}var TM=()=>null;function MM(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Dw(e,n,t,r,i,o){let s=n[W];if(wg(e,s,n,t,r)){_r(e)&&RM(n,e.index);return}e.type&3&&(t=MM(t)),AM(e,n,t,r,i,o)}function AM(e,n,t,r,i,o){if(e.type&3){let s=on(e,n);r=o!=null?o(r,e.value||"",t):r,i.setProperty(s,t,r)}else e.type&12}function RM(e,n){let t=Wt(n,e);t[$]&16||(t[$]|=64)}function kM(e,n,t){let r=t.directiveStart,i=t.directiveEnd;_r(t)&&sM(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||cu(t,n);let o=t.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],c=lu(n,e,s,t);if(Oo(c,n),o!==null&&LM(n,s-r,c,a,t,o),In(a)){let l=Wt(t.index,n);l[ft]=lu(n,e,s,t)}}}function NM(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Jb();try{Dr(o);for(let a=r;a<i;a++){let c=e.data[a],l=n[a];Gl(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&OM(c,l)}}finally{Dr(-1),Gl(s)}}function OM(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function Ew(e,n){let t=e.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];QT(n,o.selectors,!1)&&(r??=[],In(o)?r.unshift(o):r.push(o))}return r}function PM(e,n,t,r,i,o){let s=on(e,n);FM(n[Me],s,o,e.value,t,r,i)}function FM(e,n,t,r,i,o,s){if(o==null)e.removeAttribute(n,i,t);else{let a=s==null?Eo(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}function LM(e,n,t,r,i,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Kp(r,t,c,l)}}function Cw(e,n,t,r,i){let o=rt+t,s=n[W],a=i(s,n,e,r,t);n[o]=a,Ao(e,!0);let c=e.type===2;return c?(lw(n[Me],a,e),(Vb()===0||la(e))&&Oo(a,n),Bb()):Oo(a,n),Jl()&&(!c||!cg(e))&&yg(s,n,a,e),e}function Sw(e){let n=e;return yp()?Hb():(n=n.parent,Ao(n,!1)),n}function jM(e,n){let t=e[yr];if(!t)return;let r;try{r=t.get(an,null)}catch{r=null}r?.(n)}function wg(e,n,t,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=n.data[l];Kp(d,t[l],u,i),a=!0}if(o)for(let c of o){let l=t[c],u=n.data[c];Kp(u,l,r,i),a=!0}return a}function VM(e,n){let t=Wt(n,e),r=t[W];BM(r,t);let i=t[nn];i!==null&&t[ia]===null&&(t[ia]=iw(i,t[yr])),fe(ie.ComponentStart);try{Dg(r,t,t[ft])}finally{fe(ie.ComponentEnd,t[ft])}}function BM(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Dg(e,n,t){ql(n);try{let r=e.viewQuery;r!==null&&Gp(1,r,t);let i=e.template;i!==null&&ww(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[pi]?.finishViewCreation(e),e.staticContentQueries&&ow(e,n),e.staticViewQueries&&Gp(2,e.viewQuery,t);let o=e.components;o!==null&&UM(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[$]&=-5,Kl()}}function UM(e,n){for(let t=0;t<n.length;t++)VM(e,n[t])}function $M(e,n,t,r){let i=K(null);try{let o=n.tView,a=e[$]&4096?4096:16,c=fg(e,o,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[n.index];c[fi]=l;let u=e[pi];return u!==null&&(c[pi]=u.createEmbeddedView(o)),Dg(o,c,t),c}finally{K(i)}}function __(e,n){return!n||n.firstChild===null||Z_(e)}function ma(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(zt(o)),rn(o)&&Iw(o,r);let s=t.type;if(s&8)ma(e,n,t.child,r);else if(s&32){let a=pg(t,n),c;for(;c=a();)r.push(c)}else if(s&16){let a=_w(n,t);if(Array.isArray(a))r.push(...a);else{let c=hr(n[Ht]);ma(c[W],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Iw(e,n){for(let t=xt;t<e.length;t++){let r=e[t],i=r[W].firstChild;i!==null&&ma(r[W],r,i,n)}e[br]!==e[nn]&&n.push(e[br])}function xw(e){if(e[gi]!==null){for(let n of e[gi])n.impl.addSequence(n);e[gi].length=0}}var Tw=[];function HM(e){return e[Pt]??zM(e)}function zM(e){let n=Tw.pop()??Object.create(GM);return n.lView=e,n}function WM(e){e.lView[Pt]!==e&&(e.lView=null,Tw.push(e))}var GM=Y(T({},Vs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Mo(e.lView)},consumerOnSignalRead(){this.lView[Pt]=this}});function qM(e){let n=e[Pt]??Object.create(KM);return n.lView=e,n}var KM=Y(T({},Vs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=hr(e.lView);for(;n&&!Mw(n[W]);)n=hr(n);n&&up(n)},consumerOnSignalRead(){this.lView[Pt]=this}});function Mw(e){return e.type!==2}function Aw(e){if(e[oa]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[oa])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[$]&8192)}}var YM=100;function Rw(e,n=0){let r=e[qn].rendererFactory,i=!1;i||r.begin?.();try{JM(e,n)}finally{i||r.end?.()}}function JM(e,n){let t=vp();try{bp(!0),Jp(e,n);let r=0;for(;ua(e);){if(r===YM)throw new A(103,!1);r++,Jp(e,1)}}finally{bp(t)}}function ZM(e,n,t,r){if(mi(n))return;let i=n[$],o=!1,s=!1;ql(n);let a=!0,c=null,l=null;o||(Mw(e)?(l=HM(n),c=Us(l)):nl()===null?(a=!1,l=qM(n),c=Us(l)):n[Pt]&&($s(n[Pt]),n[Pt]=null));try{lp(n),qb(e.bindingStartIndex),t!==null&&ww(e,n,t,2,r);let u=(i&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&tu(n,f,null)}else{let f=e.preOrderHooks;f!==null&&nu(n,f,0,null),Rp(n,0)}if(s||QM(n),Aw(n),kw(n,0),e.contentQueries!==null&&ow(e,n),!o)if(u){let f=e.contentCheckHooks;f!==null&&tu(n,f)}else{let f=e.contentHooks;f!==null&&nu(n,f,1),Rp(n,1)}eA(e,n);let d=e.components;d!==null&&Ow(n,d,0);let h=e.viewQuery;if(h!==null&&Gp(2,h,r),!o)if(u){let f=e.viewCheckHooks;f!==null&&tu(n,f)}else{let f=e.viewHooks;f!==null&&nu(n,f,2),Rp(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[$l]){for(let f of n[$l])f();n[$l]=null}o||(xw(n),n[$]&=-73)}catch(u){throw o||Mo(n),u}finally{l!==null&&(rl(l,c),a&&WM(l)),Kl()}}function kw(e,n){for(let t=X_(e);t!==null;t=ew(t))for(let r=xt;r<t.length;r++){let i=t[r];Nw(i,n)}}function QM(e){for(let n=X_(e);n!==null;n=ew(n)){if(!(n[$]&2))continue;let t=n[ca];for(let r=0;r<t.length;r++){let i=t[r];up(i)}}}function XM(e,n,t){fe(ie.ComponentStart);let r=Wt(n,e);try{Nw(r,t)}finally{fe(ie.ComponentEnd,r[ft])}}function Nw(e,n){zl(e)&&Jp(e,n)}function Jp(e,n){let r=e[W],i=e[$],o=e[Pt],s=!!(n===0&&i&16);if(s||=!!(i&64&&n===0),s||=!!(i&1024),s||=!!(o?.dirty&&il(o)),s||=!1,o&&(o.dirty=!1),e[$]&=-9217,s)ZM(r,e,r.template,e[ft]);else if(i&8192){let a=K(null);try{Aw(e),kw(e,1);let c=r.components;c!==null&&Ow(e,c,1),xw(e)}finally{K(a)}}}function Ow(e,n,t){for(let r=0;r<n.length;r++)XM(e,n[r],t)}function eA(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Dr(~i);else{let o=i,s=t[++r],a=t[++r];Yb(s,o);let c=n[o];fe(ie.HostBindingsUpdateStart,c);try{a(2,c)}finally{fe(ie.HostBindingsUpdateEnd,c)}}}}finally{Dr(-1)}}function Eg(e,n){let t=vp()?64:1088;for(e[qn].changeDetectionScheduler?.notify(n);e;){e[$]|=t;let r=hr(e);if(To(e)&&!r)return e;e=r}return null}function Pw(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function tA(e,n,t,r=!0){let i=n[W];if(nA(i,n,e,t),r){let s=Yp(t,e),a=n[Me],c=a.parentNode(e[br]);c!==null&&hM(i,e[$t],a,n,c,s)}let o=n[ia];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Zp(e,n){if(e.length<=xt)return;let t=xt+n,r=e[t];if(r){let i=r[fi];i!==null&&i!==e&&mg(i,r),n>0&&(e[t-1][Ut]=r[Ut]);let o=ta(e,xt+n);fM(r[W],r);let s=o[pi];s!==null&&s.detachView(o[W]),r[nt]=null,r[Ut]=null,r[$]&=-129}return r}function nA(e,n,t,r){let i=xt+r,o=t.length;r>0&&(t[i-1][Ut]=n),r<o-xt?(n[Ut]=t[i],Zh(t,xt+r,n)):(t.push(n),n[Ut]=null),n[nt]=t;let s=n[fi];s!==null&&t!==s&&Fw(s,n);let a=n[pi];a!==null&&a.insertView(e),Wl(n),n[$]|=128}function Fw(e,n){let t=e[ca],r=n[nt];if(Sn(r))e[$]|=2;else{let i=r[nt][Ht];n[Ht]!==i&&(e[$]|=2)}t===null?e[ca]=[n]:t.push(n)}var Er=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,t=n[W];return ma(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t}get context(){return this._lView[ft]}set context(n){this._lView[ft]=n}get destroyed(){return mi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[nt];if(rn(n)){let t=n[aa],r=t?t.indexOf(this):-1;r>-1&&(Zp(n,r),ta(t,r))}this._attachedToViewContainer=!1}bw(this._lView[W],this._lView)}onDestroy(n){dp(this._lView,n)}markForCheck(){Eg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[$]&=-129}reattach(){Wl(this._lView),this._lView[$]|=128}detectChanges(){this._lView[$]|=1024,Rw(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=To(this._lView),t=this._lView[fi];t!==null&&!n&&mg(t,this._lView),vw(this._lView[W],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=n;let t=To(this._lView),r=this._lView[fi];r!==null&&!t&&Fw(r,this._lView),Wl(this._lView)}};var Da=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=rA;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=$M(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Er(o)}}return e})();function rA(){return iA(bt(),de())}function iA(e,n){return e.type&4?new Da(n,e,bu(e,n)):null}function Iu(e,n,t,r,i){let o=e.data[n];if(o===null)o=oA(e,n,t,r,i),Kb()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=$b();o.injectorIndex=s===null?-1:s.injectorIndex}return Ao(o,!0),o}function oA(e,n,t,r,i){let o=mp(),s=yp(),a=s?o:o&&o.parent,c=e.data[n]=aA(e,a,t,n,r,i);return sA(e,c,o,s),c}function sA(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function aA(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return Ub()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var cA=()=>null;function w_(e,n){return cA(e,n)}var Lw=class{},xu=class{},Qp=class{resolveComponentFactory(n){throw new A(917,!1)}},Ea=class{static NULL=new Qp},_i=class{},Mn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>lA()}return e})();function lA(){let e=de(),n=bt(),t=Wt(n.index,e);return(Sn(t)?t:e)[Me]}var jw=(()=>{class e{static \u0275prov=k({token:e,providedIn:"root",factory:()=>null})}return e})();var ru={},Xp=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){let i=this.injector.get(n,ru,r);return i!==ru||t===ru?i:this.parentInjector.get(n,t,r)}};function fu(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)i=Vh(i,a);else if(o==2){let c=a,l=n[++s];r=Vh(r,c+": "+l+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function F(e,n=0){let t=de();if(t===null)return P(e,n);let r=bt();return K_(r,t,tt(e),n)}function Cg(){let e="invalid";throw new Error(e)}function Vw(e,n,t,r,i){let o=r===null?null:{"":-1},s=i(e,t);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}fA(e,n,t,a,o,c,l)}o!==null&&r!==null&&uA(t,r,o)}function uA(e,n,t){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new A(-301,!1);r.push(n[i],o)}}function dA(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function fA(e,n,t,r,i,o,s){let a=r.length,c=null;for(let h=0;h<a;h++){let f=r[h];c===null&&In(f)&&(c=f,dA(e,t,h)),Hp(cu(t,n),e,f.type)}vA(t,e.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=hw(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(t.mergedAttrs=No(t.mergedAttrs,f.hostAttrs),pA(e,t,n,d,f),yA(d,f,i),s!==null&&s.has(f)){let[g,m]=s.get(f);t.directiveToIndex.set(f.type,[d,g+t.directiveStart,m+t.directiveStart])}else(o===null||!o.has(f))&&t.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let p=f.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),l=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}hA(e,t,o)}function hA(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=e.data[r];if(t===null||!t.has(i))D_(0,n,i,r),D_(1,n,i,r),C_(n,r,!1);else{let o=t.get(i);E_(0,n,o,r),E_(1,n,o,r),C_(n,r,!0)}}}function D_(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[o]??=[],s[o].push(r),Bw(n,o)}}function E_(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Bw(n,s)}}function Bw(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function C_(e,n,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!t&&i===null||t&&o===null||ug(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===n){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===n){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function pA(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=fr(i.type,!0)),s=new bi(o,In(i),F,null);e.blueprint[r]=s,t[r]=s,gA(e,n,r,hw(e,t,i.hostVars,fn),i)}function gA(e,n,t,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;mA(s)!=a&&s.push(a),s.push(t,r,o)}}function mA(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function yA(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;In(n)&&(t[""]=e)}}function vA(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function Uw(e,n,t,r,i,o,s,a){let c=n[W],l=c.consts,u=yi(l,s),d=Iu(c,e,t,r,u);return o&&Vw(c,n,d,yi(l,a),i),d.mergedAttrs=No(d.mergedAttrs,d.attrs),d.attrs!==null&&fu(d,d.attrs,!1),d.mergedAttrs!==null&&fu(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function $w(e,n){B_(e,n),op(n)&&e.queries.elementEnd(n)}function bA(e,n,t,r,i,o){let s=n.consts,a=yi(s,i),c=Iu(n,e,t,r,a);if(c.mergedAttrs=No(c.mergedAttrs,c.attrs),o!=null){let l=yi(s,o);c.localNames=[];for(let u=0;u<l.length;u+=2)c.localNames.push(l[u],-1)}return c.attrs!==null&&fu(c,c.attrs,!1),c.mergedAttrs!==null&&fu(c,c.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,c),c}function Sg(e){return zw(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function Hw(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),r;for(;!(r=t.next()).done;)n(r.value)}}function zw(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function _A(e,n,t){return e[n]=t}function wi(e,n,t){if(t===fn)return!1;let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function Ww(e,n,t,r){let i=wi(e,n,t);return wi(e,n+1,r)||i}function Op(e,n,t){return function r(i){let o=_r(e)?Wt(e.index,n):n;Eg(o,5);let s=n[ft],a=S_(n,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=S_(n,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function S_(e,n,t,r){let i=K(null);try{return fe(ie.OutputStart,n,t),t(r)!==!1}catch(o){return jM(e,o),!1}finally{fe(ie.OutputEnd,n,t),K(i)}}function wA(e,n,t,r,i,o,s,a){let c=la(e),l=!1,u=null;if(!r&&c&&(u=EA(n,t,o,e.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=on(e,t),h=r?r(d):d;BT(t,h,o,a);let f=i.listen(h,o,a);if(!DA(o)){let p=r?g=>r(zt(g[e.index])):e.index;Gw(p,n,t,o,a,f,!1)}}return l}function DA(e){return e.startsWith("animation")||e.startsWith("transition")}function EA(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=n[Io],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Gw(e,n,t,r,i,o,s){let a=n.firstCreatePass?jb(n):null,c=Lb(t),l=c.length;c.push(i,o),a&&a.push(r,e,l,(l+1)*(s?-1:1))}function I_(e,n,t,r,i,o){let s=n[t],a=n[W],l=a.data[t].outputs[r],d=s[l].subscribe(o);Gw(e.index,a,n,i,o,d,!0)}var eg=Symbol("BINDING");var hu=class extends Ea{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Gn(n);return new Di(t,this.ngModule)}};function CA(e){return Object.keys(e).map(n=>{let[t,r,i]=e[n],o={propName:t,templateName:n,isSignal:(r&Eu.SignalBased)!==0};return i&&(o.transform=i),o})}function SA(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function IA(e,n,t){let r=n instanceof Te?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Xp(t,r):t}function xA(e){let n=e.get(_i,null);if(n===null)throw new A(407,!1);let t=e.get(jw,null),r=e.get(pr,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function TA(e,n){let t=qw(e);return aw(n,t,t==="svg"?kb:t==="math"?Nb:null)}function qw(e){return(e.selectors[0][0]||"div").toLowerCase()}var Di=class extends xu{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=CA(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=SA(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=nM(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,i,o,s){fe(ie.DynamicComponentStart);let a=K(null);try{let c=this.componentDef,l=MA(r,c,s,o),u=IA(c,i||this.ngModule,n),d=xA(u),h=d.rendererFactory.createRenderer(null,c),f=r?IM(h,r,c.encapsulation,u):TA(c,h),p=s?.some(x_)||o?.some(y=>typeof y!="function"&&y.bindings.some(x_)),g=fg(null,l,null,512|fw(c),null,null,d,h,u,null,iw(f,u,!0));g[rt]=f,ql(g);let m=null;try{let y=Uw(rt,g,2,"#host",()=>l.directiveRegistry,!0,0);lw(h,f,y),Oo(f,g),bg(l,g,y),sw(l,y,g),$w(l,y),t!==void 0&&RA(y,this.ngContentSelectors,t),m=Wt(y.index,g),g[ft]=m[ft],Dg(l,g,null)}catch(y){throw m!==null&&Wp(m),Wp(g),y}finally{fe(ie.DynamicComponentEnd),Kl()}return new pu(this.componentType,g,!!p)}finally{K(a)}}};function MA(e,n,t,r){let i=e?["ng-version","21.0.8"]:rM(n.selectors[0]),o=null,s=null,a=0;if(t)for(let u of t)a+=u[eg].requiredVars,u.create&&(u.targetIdx=0,(o??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let h of d.bindings){a+=h[eg].requiredVars;let f=u+1;h.create&&(h.targetIdx=f,(o??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[n];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,h=Kh(d);c.push(h)}return dg(0,null,AA(o,s),1,a,c,null,null,null,[i],null)}function AA(e,n){return!e&&!n?null:t=>{if(t&1&&e)for(let r of e)r.create();if(t&2&&n)for(let r of n)r.update()}}function x_(e){let n=e[eg].kind;return n==="input"||n==="twoWay"}var pu=class extends Lw{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Hl(t[W],rt),this.location=bu(this._tNode,t),this.instance=Wt(this._tNode.index,t)[ft],this.hostView=this.changeDetectorRef=new Er(t,void 0),this.componentType=n}setInput(n,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let i=this._rootLView,o=wg(r,i[W],i,n,t);this.previousInputValues.set(n,t);let s=Wt(r.index,i);Eg(s,1)}get injector(){return new vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function RA(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Si=(()=>{class e{static __NG_ELEMENT_ID__=kA}return e})();function kA(){let e=bt();return OA(e,de())}var NA=Si,Kw=class extends NA{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return bu(this._hostTNode,this._hostLView)}get injector(){return new vi(this._hostTNode,this._hostLView)}get parentInjector(){let n=ig(this._hostTNode,this._hostLView);if($_(n)){let t=su(n,this._hostLView),r=ou(n),i=t[W].data[r+8];return new vi(i,t)}else return new vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=T_(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-xt}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=w_(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,__(this._hostTNode,s)),a}createComponent(n,t,r,i,o,s,a){let c=n&&!hT(n),l;if(c)l=t;else{let m=t||{};l=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef,s=m.directives,a=m.bindings}let u=c?n:new Di(Gn(n)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let y=(c?d:this.parentInjector).get(Te,null);y&&(o=y)}let h=Gn(u.componentType??{}),f=w_(this._lContainer,h?.id??null),p=f?.firstChild??null,g=u.create(d,i,p,o,s,a);return this.insertImpl(g.hostView,l,__(this._hostTNode,f)),g}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if(Ob(i)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let c=i[nt],l=new Kw(c,c[$t],c[nt]);l.detach(l.indexOf(n))}}let o=this._adjustIndex(t),s=this._lContainer;return tA(s,i,o,r),n.attachToViewContainerRef(),Zh(Pp(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=T_(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=Zp(this._lContainer,t);r&&(ta(Pp(this._lContainer),t),bw(r[W],r))}detach(n){let t=this._adjustIndex(n,-1),r=Zp(this._lContainer,t);return r&&ta(Pp(this._lContainer),t)!=null?new Er(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function T_(e){return e[aa]}function Pp(e){return e[aa]||(e[aa]=[])}function OA(e,n){let t,r=n[e.index];return rn(r)?t=r:(t=Pw(r,n,null,e),n[e.index]=t,hg(n,t)),FA(t,n,e,r),new Kw(t,e,n)}function PA(e,n){let t=e[Me],r=t.createComment(""),i=on(n,e),o=t.parentNode(i);return uu(t,o,r,t.nextSibling(i),!1),r}var FA=VA,LA=()=>!1;function jA(e,n,t){return LA(e,n,t)}function VA(e,n,t,r){if(e[br])return;let i;t.type&8?i=zt(r):i=PA(n,t),e[br]=i}var Ei=class{},Tu=class{};var gu=class extends Ei{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new hu(this);constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t;let o=qh(n);this._bootstrapComponents=uw(o.bootstrap),this._r3Injector=Cp(n,t,[{provide:Ei,useValue:this},{provide:Ea,useValue:this.componentFactoryResolver},...r],zn(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},mu=class extends Tu{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new gu(this.moduleType,n,[])}};var ya=class extends Ei{injector;componentFactoryResolver=new hu(this);instance=null;constructor(n){super();let t=new ci([...n.providers,{provide:Ei,useValue:this},{provide:Ea,useValue:this.componentFactoryResolver}],n.parent||ra(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function jo(e,n,t=null){return new ya({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var BA=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=ep(!1,t.type),i=r.length>0?jo([r],this._injector,""):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=k({token:e,providedIn:"environment",factory:()=>new e(P(Te))})}return e})();function Fe(e){return ba(()=>{let n=Yw(e),t=Y(T({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===og.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(BA).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||un.Emulated,styles:e.styles||Ot,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&Lo("NgStandalone"),Jw(t);let r=e.dependencies;return t.directiveDefs=M_(r,UA),t.pipeDefs=M_(r,bb),t.id=zA(t),t})}function UA(e){return Gn(e)||Kh(e)}function hn(e){return ba(()=>({type:e.type,bootstrap:e.bootstrap||Ot,declarations:e.declarations||Ot,imports:e.imports||Ot,exports:e.exports||Ot,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function $A(e,n){if(e==null)return gr;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Eu.None,c=null),t[o]=[r,a,c],n[o]=s}return t}function HA(e){if(e==null)return gr;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function me(e){return ba(()=>{let n=Yw(e);return Jw(n),n})}function Ig(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Yw(e){let n={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||gr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Ot,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:$A(e.inputs,n),outputs:HA(e.outputs),debugInfo:null}}function Jw(e){e.features?.forEach(n=>n(e))}function M_(e,n){return e?()=>{let t=typeof e=="function"?e():e,r=[];for(let i of t){let o=n(i);o!==null&&r.push(o)}return r}:null}function zA(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function WA(e){return Object.getPrototypeOf(e.prototype).constructor}function _t(e){let n=WA(e.type),t=!0,r=[e];for(;n;){let i;if(In(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new A(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let s=e;s.inputs=Fp(e.inputs),s.declaredInputs=Fp(e.declaredInputs),s.outputs=Fp(e.outputs);let a=i.hostBindings;a&&JA(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&KA(e,c),l&&YA(e,l),GA(e,i),vb(e.outputs,i.outputs),In(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===_t&&(t=!1)}}n=Object.getPrototypeOf(n)}qA(r)}function GA(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function qA(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=No(i.hostAttrs,t=No(t,i.hostAttrs))}}function Fp(e){return e===gr?{}:e===Ot?[]:e}function KA(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function YA(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,o)=>{n(r,i,o),t(r,i,o)}:e.contentQueries=n}function JA(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function ZA(e,n,t,r,i,o,s,a){if(t.firstCreatePass){e.mergedAttrs=No(e.mergedAttrs,e.attrs);let u=e.tView=dg(2,e,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,e),u.queries=t.queries.embeddedTView(e))}a&&(e.flags|=a),Ao(e,!1);let c=XA(t,n,e,r);Jl()&&yg(t,n,c,e),Oo(c,n);let l=Pw(c,n,c,e);n[r+rt]=l,hg(n,l),jA(l,e,n)}function QA(e,n,t,r,i,o,s,a,c,l,u){let d=t+rt,h;return n.firstCreatePass?(h=Iu(n,d,4,s||null,a||null),hp()&&Vw(n,e,h,yi(n.consts,l),Ew),B_(n,h)):h=n.data[d],ZA(h,e,n,t,r,i,o,c),la(h)&&bg(n,e,h),l!=null&&_g(e,h,u),h}function Lt(e,n,t,r,i,o,s,a){let c=de(),l=Tt(),u=yi(l.consts,o);return QA(c,l,e,n,t,r,i,u,void 0,s,a),Lt}var XA=eR;function eR(e,n,t,r){return Zl(!0),n[Me].createComment("")}var xg=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Zw(e){return typeof e=="function"&&e[mt]!==void 0}function Tg(e){return Zw(e)&&typeof e.set=="function"}var Mg=new R("");function Sr(e){return!!e&&typeof e.then=="function"}function Ag(e){return!!e&&typeof e.subscribe=="function"}var Rg=new R("");function Mu(e){return mr([{provide:Rg,multi:!0,useValue:e}])}var kg=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=C(Rg,{optional:!0})??[];injector=C(St);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=$e(this.injector,i);if(Sr(o))t.push(o);else if(Ag(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ca=new R("");function Qw(){ch(()=>{let e="";throw new A(600,e)})}function Xw(e){return e.isBoundToModule}var tR=10;var Ir=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=C(an);afterRenderManager=C(gg);zonelessEnabled=C(fa);rootEffectScheduler=C(Ap);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ue;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=C(Kn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(se(t=>!t))}constructor(){C(Yn,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=C(Te);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=St.NULL){return this._injector.get(dt).run(()=>{fe(ie.BootstrapComponentStart);let s=t instanceof xu;if(!this._injector.get(kg).done){let p="";throw new A(405,p)}let c;s?c=t:c=this._injector.get(Ea).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=Xw(c)?void 0:this._injector.get(Ei),u=r||c.selector,d=c.create(i,[],u,l),h=d.location.nativeElement,f=d.injector.get(Mg,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),ga(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),fe(ie.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){fe(ie.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Cu.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw fe(ie.ChangeDetectionEnd),new A(101,!1);let t=K(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,K(t),this.afterTick.next(),fe(ie.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(_i,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<tR;){fe(ie.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{fe(ie.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!ua(i))continue;let o=r&&!this.zonelessEnabled?0:1;Rw(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ua(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ga(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Ca,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ga(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new A(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ga(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function Ii(e,n,t,r){let i=de(),o=da();if(wi(i,o,n)){let s=Tt(),a=Yl();PM(a,i,e,n,t,r)}return Ii}var r8=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function De(e,n,t){let r=de(),i=da();if(wi(r,i,n)){let o=Tt(),s=Yl();Dw(s,r,e,n,r[Me],t)}return De}function A_(e,n,t,r,i){wg(n,e,t,i?"class":"style",r)}function x(e,n,t,r){let i=de(),o=i[W],s=e+rt,a=o.firstCreatePass?Uw(s,i,2,n,Ew,hp(),t,r):o.data[s];if(Cw(a,i,e,n,e0),la(a)){let c=i[W];bg(c,i,a),sw(c,a,i)}return r!=null&&_g(i,a),x}function I(){let e=Tt(),n=bt(),t=Sw(n);return e.firstCreatePass&&$w(e,t),pp(t)&&gp(),fp(),t.classesWithoutHost!=null&&bT(t)&&A_(e,t,de(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&_T(t)&&A_(e,t,de(),t.stylesWithoutHost,!1),I}function ht(e,n,t,r){return x(e,n,t,r),I(),ht}function Vo(e,n,t,r){let i=de(),o=i[W],s=e+rt,a=o.firstCreatePass?bA(s,o,2,n,t,r):o.data[s];return Cw(a,i,e,n,e0),r!=null&&_g(i,a),Vo}function Bo(){let e=bt(),n=Sw(e);return pp(n)&&gp(),fp(),Bo}var e0=(e,n,t,r,i)=>(Zl(!0),aw(n[Me],r,n_()));function Jn(){return de()}var ha=void 0;function nR(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&t===0?1:5}var rR=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ha,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ha,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",ha,ha,ha],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",nR],Lp={};function Au(e){let n=iR(e),t=R_(n);if(t)return t;let r=n.split("-")[0];if(t=R_(r),t)return t;if(r==="en")return rR;throw new A(701,!1)}function R_(e){return e in Lp||(Lp[e]=li.ng&&li.ng.common&&li.ng.common.locales&&li.ng.common.locales[e]),Lp[e]}var xi=(function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e})(xi||{});function iR(e){return e.toLowerCase().replace(/_/g,"-")}var Sa="en-US";var oR=Sa;function t0(e){typeof e=="string"&&(oR=e.toLowerCase().replace(/_/g,"-"))}function te(e,n,t){let r=de(),i=Tt(),o=bt();return n0(i,r,r[Me],o,e,n,t),te}function n0(e,n,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Op(r,n,o),wA(r,e,n,s,t,i,o,c)&&(a=!1)),a){let l=r.outputs?.[i],u=r.hostDirectiveOutputs?.[i];if(u&&u.length)for(let d=0;d<u.length;d+=2){let h=u[d],f=u[d+1];c??=Op(r,n,o),I_(r,n,h,f,i,c)}if(l&&l.length)for(let d of l)c??=Op(r,n,o),I_(r,n,d,i,i,c)}}function xr(e=1){return t_(e)}function Ia(e){let n=zb();return ap(n,rt+e)}function eu(e,n){return e<<17|n<<2}function Ci(e){return e>>17&32767}function sR(e){return(e&2)==2}function aR(e,n){return e&131071|n<<17}function tg(e){return e|2}function Fo(e){return(e&131068)>>2}function jp(e,n){return e&-131069|n<<2}function cR(e){return(e&1)===1}function ng(e){return e|1}function lR(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Ci(s),c=Fo(s);e[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Co(d,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let h=Ci(e[a+1]);e[r+1]=eu(h,a),h!==0&&(e[h+1]=jp(e[h+1],r)),e[a+1]=aR(e[a+1],r)}else e[r+1]=eu(a,0),a!==0&&(e[a+1]=jp(e[a+1],r)),a=r;else e[r+1]=eu(c,0),a===0?a=r:e[c+1]=jp(e[c+1],r),c=r;l&&(e[r+1]=tg(e[r+1])),k_(e,u,r,!0),k_(e,u,r,!1),uR(n,u,e,r,o),s=eu(a,c),o?n.classBindings=s:n.styleBindings=s}function uR(e,n,t,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&Co(o,n)>=0&&(t[r+1]=ng(t[r+1]))}function k_(e,n,t,r){let i=e[t+1],o=n===null,s=r?Ci(i):Fo(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];dR(c,n)&&(a=!0,e[s+1]=r?ng(l):tg(l)),s=r?Ci(l):Fo(l)}a&&(e[t+1]=r?tg(i):ng(i))}function dR(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?Co(e,n)>=0:!1}function xa(e,n){return fR(e,n,null,!0),xa}function fR(e,n,t,r){let i=de(),o=Tt(),s=_p(2);if(o.firstUpdatePass&&pR(o,e,s,r),n!==fn&&wi(i,s,n)){let a=o.data[wr()];bR(o,a,i,i[Me],e,i[s+1]=_R(n,t),r,s)}}function hR(e,n){return n>=e.expandoStartIndex}function pR(e,n,t,r){let i=e.data;if(i[t+1]===null){let o=i[wr()],s=hR(e,t);wR(o,r)&&n===null&&!s&&(n=!1),n=gR(i,o,n,r),lR(i,o,n,t,s,r)}}function gR(e,n,t,r){let i=Zb(e),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=Vp(null,e,n,t,r),t=va(t,n.attrs,r),o=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==i)if(t=Vp(i,e,n,t,r),o===null){let c=mR(e,n,r);c!==void 0&&Array.isArray(c)&&(c=Vp(null,e,n,c[1],r),c=va(c,n.attrs,r),yR(e,n,r,c))}else o=vR(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function mR(e,n,t){let r=t?n.classBindings:n.styleBindings;if(Fo(r)!==0)return e[Ci(r)]}function yR(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[Ci(i)]=r}function vR(e,n,t){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=va(r,s,t)}return va(r,n.attrs,t)}function Vp(e,n,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=n[a],r=va(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function va(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Sb(e,s,t?!0:n[++o]))}return e===void 0?null:e}function bR(e,n,t,r,i,o,s,a){if(!(n.type&3))return;let c=e.data,l=c[a+1],u=cR(l)?N_(c,n,t,i,Fo(l),s):void 0;if(!yu(u)){yu(o)||sR(l)&&(o=N_(c,null,t,i,a,s));let d=sp(wr(),t);SM(r,s,d,i,o)}}function N_(e,n,t,r,i,o){let s=n===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=t[i+1];h===fn&&(h=d?Ot:void 0);let f=d?Ul(h,r):u===r?h:void 0;if(l&&!yu(f)&&(f=Ul(c,r)),yu(f)&&(a=f,s))return a;let p=e[i+1];i=s?Ci(p):Fo(p)}if(n!==null){let c=o?n.residualClasses:n.residualStyles;c!=null&&(a=Ul(c,r))}return a}function yu(e){return e!==void 0}function _R(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=zn(lg(e)))),e}function wR(e,n){return(e.flags&(n?8:16))!==0}function M(e,n=""){let t=de(),r=Tt(),i=e+rt,o=r.firstCreatePass?Iu(r,i,1,n,null):r.data[i],s=DR(r,t,o,n,e);t[i]=s,Jl()&&yg(r,t,s,o),Ao(o,!1)}var DR=(e,n,t,r,i)=>(Zl(!0),$T(n[Me],r));function ER(e,n,t,r=""){return wi(e,da(),t)?n+Eo(t)+r:fn}function CR(e,n,t,r,i,o=""){let s=Gb(),a=Ww(e,s,t,i);return _p(2),a?n+Eo(t)+r+Eo(i)+o:fn}function Ti(e){return ze("",e),Ti}function ze(e,n,t){let r=de(),i=ER(r,e,n,t);return i!==fn&&r0(r,wr(),i),ze}function Uo(e,n,t,r,i){let o=de(),s=CR(o,e,n,t,r,i);return s!==fn&&r0(o,wr(),s),Uo}function r0(e,n,t){let r=sp(n,e);HT(e[Me],r,t)}function We(e,n,t){Tg(n)&&(n=n());let r=de(),i=da();if(wi(r,i,n)){let o=Tt(),s=Yl();Dw(s,r,e,n,r[Me],t)}return We}function it(e,n){let t=Tg(e);return t&&e.set(n),t}function Ge(e,n){let t=de(),r=Tt(),i=bt();return n0(r,t,t[Me],i,e,n),Ge}function O_(e,n,t){let r=Tt();r.firstCreatePass&&i0(n,r.data,r.blueprint,In(e),t)}function i0(e,n,t,r,i){if(e=tt(e),Array.isArray(e))for(let o=0;o<e.length;o++)i0(e[o],n,t,r,i);else{let o=Tt(),s=de(),a=bt(),c=ai(e)?e:tt(e.provide),l=np(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(ai(e)||!e.multi){let f=new bi(l,i,F,null),p=Up(c,n,i?u:u+h,d);p===-1?(Hp(cu(a,s),o,c),Bp(o,e,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{let f=Up(c,n,u+h,d),p=Up(c,n,u,u+h),g=f>=0&&t[f],m=p>=0&&t[p];if(i&&!m||!i&&!g){Hp(cu(a,s),o,c);let y=xR(i?IR:SR,t.length,i,r,l,e);!i&&m&&(t[p].providerFactory=y),Bp(o,e,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)}else{let y=o0(t[i?p:f],l,!i&&r);Bp(o,e,f>-1?f:p,y)}!i&&r&&m&&t[p].componentProviders++}}}function Bp(e,n,t,r){let i=ai(n),o=Mb(n);if(i||o){let c=(o?tt(n.useClass):n).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function o0(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Up(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function SR(e,n,t,r,i){return rg(this.multi,[])}function IR(e,n,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=lu(r,r[W],this.providerFactory.index,i);s=c.slice(0,a),rg(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],rg(o,s);return s}function rg(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function xR(e,n,t,r,i,o){let s=new bi(e,t,F,null);return s.multi=[],s.index=n,s.componentProviders=0,o0(s,i,r&&!t),s}function pn(e,n){return t=>{t.providersResolver=(r,i)=>O_(r,i?i(e):e,!1),n&&(t.viewProvidersResolver=(r,i)=>O_(r,i?i(n):n,!0))}}function TR(e,n){let t=e[n];return t===fn?void 0:t}function MR(e,n,t,r,i,o,s){let a=n+t;return Ww(e,a,i,o)?_A(e,a+2,s?r.call(s,i,o):r(i,o)):TR(e,a+2)}function Ng(e,n){let t=Tt(),r,i=e+rt;t.firstCreatePass?(r=AR(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=fr(r.type,!0)),s,a=vt(F);try{let c=au(!1),l=o();return au(c),cp(t,de(),i,l),l}finally{vt(a)}}function AR(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function Og(e,n,t,r){let i=e+rt,o=de(),s=ap(o,i);return RR(o,i)?MR(o,Wb(),n,s.transform,t,r,s):s.transform(t,r)}function RR(e,n){return e[W].data[n].pure}var vu=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},Pg=(()=>{class e{compileModuleSync(t){return new mu(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=qh(t),o=uw(i.declarations).reduce((s,a)=>{let c=Gn(a);return c&&s.push(new Di(c)),s},[]);return new vu(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var s0=(()=>{class e{applicationErrorHandler=C(an);appRef=C(Ir);taskService=C(Kn);ngZone=C(dt);zonelessEnabled=C(fa);tracing=C(Yn,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Qe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Qs):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(Mp,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Ip:Sp;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Qs+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ip(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function a0(){return[{provide:pr,useExisting:s0},{provide:dt,useClass:Xs},{provide:fa,useValue:!0}]}function kR(){return typeof $localize<"u"&&$localize.locale||Sa}var Ta=new R("",{factory:()=>C(Ta,{optional:!0,skipSelf:!0})||kR()});function $o(e,n){return ol(e,n?.equal)}var p0=Symbol("InputSignalNode#UNSET"),qR=Y(T({},sl),{transformFn:void 0,applyValueToInputSignal(e,n){Hs(e,n)}});function g0(e,n){let t=Object.create(qR);t.value=e,t.transformFn=n?.transform;function r(){if(Bs(t),t.value===p0){let i=null;throw new A(-950,i)}return t.value}return r[mt]=t,r}function c0(e,n){return g0(e,n)}function KR(e){return g0(p0,e)}var m0=(c0.required=KR,c0);var Fg=new R(""),YR=new R("");function Ma(e){return!e.moduleRef}function JR(e){let n=Ma(e)?e.r3Injector:e.moduleRef.injector,t=n.get(dt);return t.run(()=>{Ma(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(an),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Ma(e)){let o=()=>n.destroy(),s=e.platformInjector.get(Fg);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Fg);s.add(o),e.moduleRef.onDestroy(()=>{ga(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return QR(r,t,()=>{let o=n.get(Kn),s=o.add(),a=n.get(kg);return a.runInitializers(),a.donePromise.then(()=>{let c=n.get(Ta,Sa);if(t0(c||Sa),!n.get(YR,!0))return Ma(e)?n.get(Ir):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Ma(e)){let u=n.get(Ir);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return ZR?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(s))})})}var ZR;function QR(e,n,t){try{let r=t();return Sr(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e(r)),r}}var Ru=null;function XR(e=[],n){return St.create({name:n,providers:[{provide:na,useValue:"platform"},{provide:Fg,useValue:new Set([()=>Ru=null])},...e]})}function ek(e=[]){if(Ru)return Ru;let n=XR(e);return Ru=n,Qw(),tk(n),n}function tk(e){let n=e.get(wu,null);$e(e,()=>{n?.forEach(t=>t())})}var qe=(()=>{class e{static __NG_ELEMENT_ID__=nk}return e})();function nk(e){return rk(bt(),de(),(e&16)===16)}function rk(e,n,t){if(_r(e)&&!t){let r=Wt(e.index,n);return new Er(r,r)}else if(e.type&175){let r=n[Ht];return new Er(r,n)}return null}var Lg=class{constructor(){}supports(n){return Sg(n)}create(n){return new jg(n)}},ik=(e,n)=>n,jg=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||ik}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<l0(r,i,o)?t:r,a=l0(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){let f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<l&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!Sg(n))throw new A(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,Hw(n,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new Vg(t,r),o,i)),n}_verifyReinsertion(n,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,o=n._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){let i=t===null?this._itHead:t._next;return n._next=i,n._prev=t,i===null?this._itTail=n:i._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new ku),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,r=n._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ku),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Vg=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},Bg=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let t=n._prevDup,r=n._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},ku=class{map=new Map;put(n){let t=n.trackById,r=this.map.get(t);r||(r=new Bg,this.map.set(t,r)),r.add(n)}get(n,t){let r=n,i=this.map.get(r);return i?i.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function l0(e,n,t){let r=e.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function u0(){return new Ug([new Lg])}var Ug=(()=>{class e{factories;static \u0275prov=k({token:e,providedIn:"root",factory:u0});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:()=>{let r=C(e,{optional:!0,skipSelf:!0});return e.create(t,r||u0())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new A(901,!1)}}return e})();function y0(e){let{rootComponent:n,appProviders:t,platformProviders:r,platformRef:i}=e;fe(ie.BootstrapApplicationStart);try{let o=i?.injector??ek(r),s=[a0(),s_,...t||[]],a=new ya({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return JR({r3Injector:a.injector,platformInjector:o,rootComponent:n})}catch(o){return Promise.reject(o)}finally{fe(ie.BootstrapApplicationEnd)}}function Aa(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function v0(e){let n=Gn(e);if(!n)return null;let t=new Di(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var b0=null;function Gt(){return b0}function $g(e){b0??=e}var Ra=class{},Mr=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>C(_0),providedIn:"platform"})}return e})(),Hg=new R(""),_0=(()=>{class e extends Mr{_location;_history;_doc=C(Se);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gt().getBaseHref(this._doc)}onPopState(t){let r=Gt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Gt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Nu(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function w0(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function gn(e){return e&&e[0]!=="?"?`?${e}`:e}var Zn=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>C(Pu),providedIn:"root"})}return e})(),Ou=new R(""),Pu=(()=>{class e extends Zn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Nu(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+gn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+gn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+gn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(P(Mr),P(Ou,8))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ar=(()=>{class e{_subject=new Ue;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=ak(w0(D0(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+gn(r))}normalize(t){return e.stripTrailingSlash(sk(this._basePath,D0(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+gn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+gn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=gn;static joinWithSlash=Nu;static stripTrailingSlash=w0;static \u0275fac=function(r){return new(r||e)(P(Zn))};static \u0275prov=k({token:e,factory:()=>ok(),providedIn:"root"})}return e})();function ok(){return new Ar(P(Zn))}function sk(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function D0(e){return e.replace(/\/index.html$/,"")}function ak(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var qg=(()=>{class e extends Zn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Nu(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+gn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+gn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(P(Mr),P(Ou,8))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})();var Kg=(function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e})(Kg||{});var An={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ho(e,n){let t=Au(e),r=t[xi.NumberSymbols][n];if(typeof r>"u"){if(n===An.CurrencyDecimal)return t[xi.NumberSymbols][An.Decimal];if(n===An.CurrencyGroup)return t[xi.NumberSymbols][An.Group]}return r}function x0(e,n){return Au(e)[xi.NumberFormats][n]}var ck=/^(\d+)?\.((\d+)(-(\d+))?)?$/,E0=22,Fu=".",ka="0",lk=";",uk=",",zg="#";function dk(e,n,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(e))a=Ho(t,An.Infinity);else{let l=pk(e);s&&(l=hk(l));let u=n.minInt,d=n.minFrac,h=n.maxFrac;if(o){let v=o.match(ck);if(v===null)throw new A(2306,!1);let _=v[1],b=v[3],w=v[5];_!=null&&(u=Wg(_)),b!=null&&(d=Wg(b)),w!=null?h=Wg(w):b!=null&&d>h&&(h=d)}gk(l,d,h);let f=l.digits,p=l.integerLen,g=l.exponent,m=[];for(c=f.every(v=>!v);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);let y=[];for(f.length>=n.lgSize&&y.unshift(f.splice(-n.lgSize,f.length).join(""));f.length>n.gSize;)y.unshift(f.splice(-n.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(Ho(t,r)),m.length&&(a+=Ho(t,i)+m.join("")),g&&(a+=Ho(t,An.Exponential)+"+"+g)}return e<0&&!c?a=n.negPre+a+n.negSuf:a=n.posPre+a+n.posSuf,a}function T0(e,n,t){let r=x0(n,Kg.Decimal),i=fk(r,Ho(n,An.MinusSign));return dk(e,i,n,An.Group,An.Decimal,t)}function fk(e,n="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(lk),i=r[0],o=r[1],s=i.indexOf(Fu)!==-1?i.split(Fu):[i.substring(0,i.lastIndexOf(ka)+1),i.substring(i.lastIndexOf(ka)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(zg));for(let u=0;u<c.length;u++){let d=c.charAt(u);d===ka?t.minFrac=t.maxFrac=u+1:d===zg?t.maxFrac=u+1:t.posSuf+=d}let l=a.split(uk);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let u=i.length-t.posPre.length-t.posSuf.length,d=o.indexOf(zg);t.negPre=o.substring(0,d).replace(/'/g,""),t.negSuf=o.slice(d+u).replace(/'/g,"")}else t.negPre=n+t.posPre,t.negSuf=t.posSuf;return t}function hk(e){if(e.digits[0]===0)return e;let n=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(n===0?e.digits.push(0,0):n===1&&e.digits.push(0),e.integerLen+=2),e}function pk(e){let n=Math.abs(e)+"",t=0,r,i,o,s,a;for((i=n.indexOf(Fu))>-1&&(n=n.replace(Fu,"")),(o=n.search(/e/i))>0?(i<0&&(i=o),i+=+n.slice(o+1),n=n.substring(0,o)):i<0&&(i=n.length),o=0;n.charAt(o)===ka;o++);if(o===(a=n.length))r=[0],i=1;else{for(a--;n.charAt(a)===ka;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(n.charAt(o))}return i>E0&&(r=r.splice(0,E0-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function gk(e,n,t){if(n>t)throw new A(2307,!1);let r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(n,i),t),s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=n+e.integerLen,u=r.reduceRight(function(d,h,f,p){return h=h+d,p[f]=h<10?h:h-10,c&&(p[f]===0&&f>=l?p.pop():c=!1),h>=10?1:0},0);u&&(r.unshift(u),e.integerLen++)}function Wg(e){let n=parseInt(e);if(isNaN(n))throw new A(2305,!1);return n}var Gg=/\s+/,C0=[],Yg=(()=>{class e{_ngEl;_renderer;initialClasses=C0;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Gg):C0}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Gg):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Gg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(F(dn),F(Mn))};static \u0275dir=me({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Lu=class{$implicit;ngForOf;index;count;constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Rr=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Lu(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),S0(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);S0(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(F(Si),F(Da),F(Ug))};static \u0275dir=me({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function S0(e,n){e.context.$implicit=n.item}var mn=(()=>{class e{_viewContainer;_context=new ju;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){I0(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){I0(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(F(Si),F(Da))};static \u0275dir=me({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),ju=class{$implicit=null;ngIf=null};function I0(e,n){if(e&&!e.createEmbeddedView)throw new A(2020,!1)}function mk(e,n){return new A(2100,!1)}var Jg=(()=>{class e{_locale;constructor(t){this._locale=t}transform(t,r,i){if(!yk(t))return null;i||=this._locale;try{let o=vk(t);return T0(o,i,r)}catch(o){throw mk(e,o.message)}}static \u0275fac=function(r){return new(r||e)(F(Ta,16))};static \u0275pipe=Ig({name:"number",type:e,pure:!0})}return e})();function yk(e){return!(e==null||e===""||e!==e)}function vk(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new A(2309,!1);return e}var qt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=hn({type:e});static \u0275inj=Bt({})}return e})();function Na(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var Mi=class{};var M0="browser";var A0=(()=>{class e{static \u0275prov=k({token:e,providedIn:"root",factory:()=>new Zg(C(Se),window)})}return e})(),Zg=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n,t){this.window.scrollTo(Y(T({},t),{left:n[0],top:n[1]}))}scrollToAnchor(n,t){let r=bk(this.document,n);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(n){try{this.window.history.scrollRestoration=n}catch{console.warn(Wn(2400,!1))}}scrollToElement(n,t){let r=n.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(Y(T({},t),{left:i-s[0],top:o-s[1]}))}};function bk(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}var Pa=class{_doc;constructor(n){this._doc=n}manager},Vu=(()=>{class e extends Pa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(P(Se))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),$u=new R(""),tm=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Vu));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Vu);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new A(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(P($u),P(dt))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),Qg="ng-app-id";function R0(e){for(let n of e)n.remove()}function k0(e,n){let t=n.createElement("style");return t.textContent=e,t}function _k(e,n,t,r){let i=e.head?.querySelectorAll(`style[${Qg}="${n}"],link[${Qg}="${n}"]`);if(i)for(let o of i)o.removeAttribute(Qg),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function em(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var nm=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,_k(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,k0);r?.forEach(i=>this.addUsage(i,this.external,em))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(R0(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])R0(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,k0(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,em(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(P(Se),P(_u),P(Du,8),P(_a))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),Xg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},rm=/%COMP%/g;var O0="%COMP%",wk=`_nghost-${O0}`,Dk=`_ngcontent-${O0}`,Ek=!0,Ck=new R("",{factory:()=>Ek});function Sk(e){return Dk.replace(rm,e)}function Ik(e){return wk.replace(rm,e)}function P0(e,n){return n.map(t=>t.replace(rm,e))}var im=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,o,s,a,c=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.defaultRenderer=new Fa(t,s,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Uu?i.applyToHost(t):i instanceof La&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.tracingService;switch(r.encapsulation){case un.Emulated:o=new Uu(c,l,r,this.appId,u,s,a,d);break;case un.ShadowDom:return new Bu(c,t,r,s,a,this.nonce,d,l);case un.ExperimentalIsolatedShadowDom:return new Bu(c,t,r,s,a,this.nonce,d);default:o=new La(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(P(tm),P(nm),P(_u),P(Ck),P(Se),P(dt),P(Du),P(Yn,8))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),Fa=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Xg[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(N0(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(N0(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new A(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=Xg[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=Xg[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(Tn.DashCase|Tn.Important)?n.style.setProperty(t,r,i&Tn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Tn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,i){if(typeof n=="string"&&(n=Gt().getGlobalEventTarget(this.doc,n),!n))throw new A(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,i)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;n(t)===!1&&t.preventDefault()}}};function N0(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Bu=class extends Fa{hostEl;sharedStylesHost;shadowRoot;constructor(n,t,r,i,o,s,a,c){super(n,i,o,a),this.hostEl=t,this.sharedStylesHost=c,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=P0(r.id,l);for(let d of l){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=d,this.shadowRoot.appendChild(h)}let u=r.getExternalStyles?.();if(u)for(let d of u){let h=em(d,i);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},La=class extends Fa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,i,o,s,a,c){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=c?P0(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Po.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Uu=class extends La{contentAttr;hostAttr;constructor(n,t,r,i,o,s,a,c){let l=i+"-"+r.id;super(n,t,r,o,s,a,c,l),this.contentAttr=Sk(l),this.hostAttr=Ik(l)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var Hu=class e extends Ra{supportsDOMEvents=!0;static makeCurrent(){$g(new e)}onAndCancel(n,t,r,i){return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=xk();return t==null?null:Tk(t)}resetBaseElement(){ja=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Na(document.cookie,n)}},ja=null;function xk(){return ja=ja||document.head.querySelector("base"),ja?ja.getAttribute("href"):null}function Tk(e){return new URL(e,document.baseURI).pathname}var Mk=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),F0=["alt","control","meta","shift"],Ak={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rk={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},L0=(()=>{class e extends Pa{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gt().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),F0.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=Ak[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),F0.forEach(s=>{if(s!==i){let a=Rk[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(P(Se))};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})();function om(e,n,t){let r=T({rootComponent:e,platformRef:t?.platformRef},kk(n));return y0(r)}function kk(e){return{appProviders:[...Lk,...e?.providers??[]],platformProviders:Fk}}function Nk(){Hu.makeCurrent()}function Ok(){return new Cn}function Pk(){return sg(document),document}var Fk=[{provide:_a,useValue:M0},{provide:wu,useValue:Nk,multi:!0},{provide:Se,useFactory:Pk}];var Lk=[{provide:na,useValue:"root"},{provide:Cn,useFactory:Ok},{provide:$u,useClass:Vu,multi:!0},{provide:$u,useClass:L0,multi:!0},im,nm,tm,{provide:_i,useExisting:im},{provide:Mi,useClass:Mk},[]];var Ai=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,t);let i=(n.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(n,t){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(n,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var Wu=class{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}},Gu=class{encodeKey(n){return j0(n)}encodeValue(n){return j0(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function jk(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var Vk=/%(\d[a-f0-9])/gi,Bk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function j0(e){return encodeURIComponent(e).replace(Vk,(n,t)=>Bk[t]??n)}function zu(e){return`${e}`}var kr=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Gu,n.fromString){if(n.fromObject)throw new A(2805,!1);this.map=jk(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let r=n.fromObject[t],i=Array.isArray(r)?r.map(zu):[zu(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(r=>{let i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(zu(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],i=r.indexOf(zu(n.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};function Uk(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function V0(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function B0(e){return typeof Blob<"u"&&e instanceof Blob}function U0(e){return typeof FormData<"u"&&e instanceof FormData}function $k(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var $0="Content-Type",H0="Accept",z0="text/plain",W0="application/json",Hk=`${W0}, ${z0}, */*`,Va=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,t,r,i){this.url=t,this.method=n.toUpperCase();let o;if(Uk(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new A(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new Ai,this.context??=new Wu,!this.params)this.params=new kr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||V0(this.body)||B0(this.body)||U0(this.body)||$k(this.body)?this.body:this.body instanceof kr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||U0(this.body)?null:B0(this.body)?this.body.type||null:V0(this.body)?null:typeof this.body=="string"?z0:this.body instanceof kr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?W0:null}clone(n={}){let t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.keepalive??this.keepalive,s=n.priority||this.priority,a=n.cache||this.cache,c=n.mode||this.mode,l=n.redirect||this.redirect,u=n.credentials||this.credentials,d=n.referrer||this.referrer,h=n.integrity||this.integrity,f=n.referrerPolicy||this.referrerPolicy,p=n.transferCache??this.transferCache,g=n.timeout??this.timeout,m=n.body!==void 0?n.body:this.body,y=n.withCredentials??this.withCredentials,v=n.reportProgress??this.reportProgress,_=n.headers||this.headers,b=n.params||this.params,w=n.context??this.context;return n.setHeaders!==void 0&&(_=Object.keys(n.setHeaders).reduce((D,S)=>D.set(S,n.setHeaders[S]),_)),n.setParams&&(b=Object.keys(n.setParams).reduce((D,S)=>D.set(S,n.setParams[S]),b)),new e(t,r,m,{params:b,headers:_,context:w,reportProgress:v,responseType:i,withCredentials:y,transferCache:p,keepalive:o,cache:a,priority:s,timeout:g,mode:c,redirect:l,credentials:u,referrer:d,integrity:h,referrerPolicy:f})}},zo=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(zo||{}),Wo=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(n,t=200,r="OK"){this.headers=n.headers||new Ai,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.redirected=n.redirected,this.responseType=n.responseType,this.ok=this.status>=200&&this.status<300}},qu=class e extends Wo{constructor(n={}){super(n)}type=zo.ResponseHeader;clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Ku=class e extends Wo{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=zo.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0,redirected:n.redirected??this.redirected,responseType:n.responseType??this.responseType})}},Ba=class extends Wo{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},zk=200,Wk=204;var Gk=new R("");var qk=/^\)\]\}',?\n/;var am=(()=>{class e{xhrFactory;tracingService=C(Yn,{optional:!0});constructor(t){this.xhrFactory=t}maybePropagateTrace(t){return this.tracingService?.propagate?this.tracingService.propagate(t):t}handle(t){if(t.method==="JSONP")throw new A(-2800,!1);let r=this.xhrFactory;return G(null).pipe(Nt(()=>new ee(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((m,y)=>s.setRequestHeader(m,y.join(","))),t.headers.has(H0)||s.setRequestHeader(H0,Hk),!t.headers.has($0)){let m=t.detectContentTypeHeader();m!==null&&s.setRequestHeader($0,m)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let m=t.responseType.toLowerCase();s.responseType=m!=="json"?m:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let m=s.statusText||"OK",y=new Ai(s.getAllResponseHeaders()),v=s.responseURL||t.url;return c=new qu({headers:y,status:s.status,statusText:m,url:v}),c},u=this.maybePropagateTrace(()=>{let{headers:m,status:y,statusText:v,url:_}=l(),b=null;y!==Wk&&(b=typeof s.response>"u"?s.responseText:s.response),y===0&&(y=b?zk:0);let w=y>=200&&y<300;if(t.responseType==="json"&&typeof b=="string"){let D=b;b=b.replace(qk,"");try{b=b!==""?JSON.parse(b):null}catch(S){b=D,w&&(w=!1,b={error:S,text:b})}}w?(o.next(new Ku({body:b,headers:m,status:y,statusText:v,url:_||void 0})),o.complete()):o.error(new Ba({error:b,headers:m,status:y,statusText:v,url:_||void 0}))}),d=this.maybePropagateTrace(m=>{let{url:y}=l(),v=new Ba({error:m,status:s.status||0,statusText:s.statusText||"Unknown Error",url:y||void 0});o.error(v)}),h=d;t.timeout&&(h=this.maybePropagateTrace(m=>{let{url:y}=l(),v=new Ba({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:y||void 0});o.error(v)}));let f=!1,p=this.maybePropagateTrace(m=>{f||(o.next(l()),f=!0);let y={type:zo.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),t.responseType==="text"&&s.responseText&&(y.partialText=s.responseText),o.next(y)}),g=this.maybePropagateTrace(m=>{let y={type:zo.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),o.next(y)});return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",h),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),o.next({type:zo.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",h),t.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(P(Mi))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Kk(e,n){return n(e)}function Yk(e,n,t){return(r,i)=>$e(t,()=>n(r,o=>e(o,i)))}var G0=new R("",{factory:()=>[]}),Jk=new R(""),q0=new R("",{factory:()=>!0});var cm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=P(am),i},providedIn:"root"})}return e})();var Yu=(()=>{class e{backend;injector;chain=null;pendingTasks=C(Xl);contributeToStability=C(q0);constructor(t,r){this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(G0),...this.injector.get(Jk,[])]));this.chain=r.reduceRight((i,o)=>Yk(i,o,this.injector),Kk)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(qs(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(P(cm),P(Te))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),lm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=P(Yu),i},providedIn:"root"})}return e})();function sm(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var Zk=(()=>{class e{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Va)o=t;else{let c;i.headers instanceof Ai?c=i.headers:c=new Ai(i.headers);let l;i.params&&(i.params instanceof kr?l=i.params:l=new kr({fromObject:i.params})),o=new Va(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let s=G(o).pipe(dr(c=>this.handler.handle(c)));if(t instanceof Va||i.observe==="events")return s;let a=s.pipe(Ct(c=>c instanceof Ku));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(se(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new A(2806,!1);return c.body}));case"blob":return a.pipe(se(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new A(2807,!1);return c.body}));case"text":return a.pipe(se(c=>{if(c.body!==null&&typeof c.body!="string")throw new A(2808,!1);return c.body}));case"json":default:return a.pipe(se(c=>c.body))}case"response":return a;default:throw new A(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new kr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,sm(i,r))}post(t,r,i={}){return this.request("POST",t,sm(i,r))}put(t,r,i={}){return this.request("PUT",t,sm(i,r))}static \u0275fac=function(r){return new(r||e)(P(lm))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Qk=new R("",{factory:()=>!0}),Xk="XSRF-TOKEN",eN=new R("",{factory:()=>Xk}),tN="X-XSRF-TOKEN",nN=new R("",{providedIn:"root",factory:()=>tN}),rN=(()=>{class e{cookieName=C(eN);doc=C(Se);lastCookieString="";lastToken=null;parseCount=0;getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Na(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),K0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=P(rN),i},providedIn:"root"})}return e})();function iN(e,n){if(!C(Qk)||e.method==="GET"||e.method==="HEAD")return n(e);try{let i=C(Mr).href,{origin:o}=new URL(i),{origin:s}=new URL(e.url,o);if(o!==s)return n(e)}catch{return n(e)}let t=C(K0).getToken(),r=C(nN);return t!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,t)})),n(e)}function um(...e){let n=[Zk,Yu,{provide:lm,useExisting:Yu},{provide:cm,useFactory:()=>C(Gk,{optional:!0})??C(am)},{provide:G0,useValue:iN,multi:!0}];for(let t of e)n.push(...t.\u0275providers);return mr(n)}var Y0=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(P(Se))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var H="primary",Za=Symbol("RouteTitle"),gm=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Oi(e){return new gm(e)}function iD(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function td(e){return new Promise((n,t)=>{e.pipe($n()).subscribe({next:r=>n(r),error:r=>t(r)})})}function sN(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Rn(e[t],n[t]))return!1;return!0}function Rn(e,n){let t=e?mm(e):void 0,r=n?mm(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!oD(e[i],n[i]))return!1;return!0}function mm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function oD(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function sD(e){return e.length>0?e[e.length-1]:null}function Pi(e){return Il(e)?e:Sr(e)?Ce(Promise.resolve(e)):G(e)}function aD(e){return Il(e)?td(e):Promise.resolve(e)}var aN={exact:lD,subset:uD},cD={exact:cN,subset:lN,ignored:()=>!0};function J0(e,n,t){return aN[t.paths](e.root,n.root,t.matrixParams)&&cD[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function cN(e,n){return Rn(e,n)}function lD(e,n,t){if(!ki(e.segments,n.segments)||!Qu(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!lD(e.children[r],n.children[r],t))return!1;return!0}function lN(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>oD(e[t],n[t]))}function uD(e,n,t){return dD(e,n,n.segments,t)}function dD(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!ki(i,t)||n.hasChildren()||!Qu(i,t,r))}else if(e.segments.length===t.length){if(!ki(e.segments,t)||!Qu(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!uD(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!ki(e.segments,i)||!Qu(e.segments,i,r)||!e.children[H]?!1:dD(e.children[H],n,o,r)}}function Qu(e,n,t){return n.every((r,i)=>cD[t](e[i].parameters,r.parameters))}var vn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new ae([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Oi(this.queryParams),this._queryParamMap}toString(){return fN.serialize(this)}},ae=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xu(this)}},Nr=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Oi(this.parameters),this._parameterMap}toString(){return hD(this)}};function uN(e,n){return ki(e,n)&&e.every((t,r)=>Rn(t.parameters,n[r].parameters))}function ki(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function dN(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===H&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==H&&(t=t.concat(n(i,r)))}),t}var Fi=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>new Qn,providedIn:"root"})}return e})(),Qn=class{parse(n){let t=new vm(n);return new vn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${Ua(n.root,!0)}`,r=gN(n.queryParams),i=typeof n.fragment=="string"?`#${hN(n.fragment)}`:"";return`${t}${r}${i}`}},fN=new Qn;function Xu(e){return e.segments.map(n=>hD(n)).join("/")}function Ua(e,n){if(!e.hasChildren())return Xu(e);if(n){let t=e.children[H]?Ua(e.children[H],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==H&&r.push(`${i}:${Ua(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=dN(e,(r,i)=>i===H?[Ua(e.children[H],!1)]:[`${i}:${Ua(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[H]!=null?`${Xu(e)}/${t[0]}`:`${Xu(e)}/(${t.join("//")})`}}function fD(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ju(e){return fD(e).replace(/%3B/gi,";")}function hN(e){return encodeURI(e)}function ym(e){return fD(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ed(e){return decodeURIComponent(e)}function Z0(e){return ed(e.replace(/\+/g,"%20"))}function hD(e){return`${ym(e.path)}${pN(e.parameters)}`}function pN(e){return Object.entries(e).map(([n,t])=>`;${ym(n)}=${ym(t)}`).join("")}function gN(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ju(t)}=${Ju(i)}`).join("&"):`${Ju(t)}=${Ju(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var mN=/^[^\/()?;#]+/;function dm(e){let n=e.match(mN);return n?n[0]:""}var yN=/^[^\/()?;=#]+/;function vN(e){let n=e.match(yN);return n?n[0]:""}var bN=/^[^=?&#]+/;function _N(e){let n=e.match(bN);return n?n[0]:""}var wN=/^[^&#]+/;function DN(e){let n=e.match(wN);return n?n[0]:""}var vm=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ae([],{}):new ae([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[H]=new ae(n,t)),r}parseSegment(){let n=dm(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(n),new Nr(ed(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=vN(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=dm(this.remaining);i&&(r=i,this.capture(r))}n[ed(t)]=ed(r)}parseQueryParam(n){let t=_N(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=DN(this.remaining);s&&(r=s,this.capture(r))}let i=Z0(t),o=Z0(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=dm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new A(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=H);let s=this.parseChildren();t[o??H]=Object.keys(s).length===1&&s[H]?s[H]:new ae([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new A(4011,!1)}};function pD(e){return e.segments.length>0?new ae([],{[H]:e}):e}function gD(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=gD(i);if(r===H&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new ae(e.segments,n);return EN(t)}function EN(e){if(e.numberOfChildren===1&&e.children[H]){let n=e.children[H];return new ae(e.segments.concat(n.segments),n.children)}return e}function Jo(e){return e instanceof vn}function mD(e,n,t=null,r=null,i=new Qn){let o=yD(e);return vD(o,n,t,r,i)}function yD(e){let n;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new ae(o.url,s);return o===e&&(n=a),a}let r=t(e.root),i=pD(r);return n??i}function vD(e,n,t,r,i){let o=e;for(;o.parent;)o=o.parent;if(n.length===0)return fm(o,o,o,t,r,i);let s=CN(n);if(s.toRoot())return fm(o,o,new ae([],{}),t,r,i);let a=SN(s,o,e),c=a.processChildren?Ha(a.segmentGroup,a.index,s.commands):_D(a.segmentGroup,a.index,s.commands);return fm(o,a.segmentGroup,c,t,r,i)}function nd(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Wa(e){return typeof e=="object"&&e!=null&&e.outlets}function Q0(e,n,t){e||="\u0275";let r=new vn;return r.queryParams={[e]:n},t.parse(t.serialize(r)).queryParams[e]}function fm(e,n,t,r,i,o){let s={};for(let[l,u]of Object.entries(r??{}))s[l]=Array.isArray(u)?u.map(d=>Q0(l,d,o)):Q0(l,u,o);let a;e===n?a=t:a=bD(e,n,t);let c=pD(gD(a));return new vn(c,s,i)}function bD(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=bD(o,n,t)}),new ae(e.segments,r)}var rd=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&nd(r[0]))throw new A(4003,!1);let i=r.find(Wa);if(i&&i!==sD(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function CN(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new rd(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?n++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new rd(t,n,r)}var qo=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function SN(e,n,t){if(e.isAbsolute)return new qo(n,!0,0);if(!t)return new qo(n,!1,NaN);if(t.parent===null)return new qo(t,!0,0);let r=nd(e.commands[0])?0:1,i=t.segments.length-1+r;return IN(t,i,e.numberOfDoubleDots)}function IN(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new qo(r,!1,i-o)}function xN(e){return Wa(e[0])?e[0].outlets:{[H]:e}}function _D(e,n,t){if(e??=new ae([],{}),e.segments.length===0&&e.hasChildren())return Ha(e,n,t);let r=TN(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ae(e.segments.slice(0,r.pathIndex),{});return o.children[H]=new ae(e.segments.slice(r.pathIndex),e.children),Ha(o,0,i)}else return r.match&&i.length===0?new ae(e.segments,{}):r.match&&!e.hasChildren()?bm(e,n,t):r.match?Ha(e,0,i):bm(e,n,t)}function Ha(e,n,t){if(t.length===0)return new ae(e.segments,{});{let r=xN(t),i={};if(Object.keys(r).some(o=>o!==H)&&e.children[H]&&e.numberOfChildren===1&&e.children[H].segments.length===0){let o=Ha(e.children[H],n,t);return new ae(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=_D(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ae(e.segments,i)}}function TN(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let s=e.segments[i],a=t[r];if(Wa(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!eD(c,l,s))return o;r+=2}else{if(!eD(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function bm(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if(Wa(o)){let c=MN(o.outlets);return new ae(r,c)}if(i===0&&nd(t[0])){let c=e.segments[n];r.push(new Nr(c.path,X0(t[0]))),i++;continue}let s=Wa(o)?o.outlets[H]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&nd(a)?(r.push(new Nr(s,X0(a))),i+=2):(r.push(new Nr(s,{})),i++)}return new ae(r,{})}function MN(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=bm(new ae([],{}),0,r))}),n}function X0(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function eD(e,n,t){return e==t.path&&Rn(n,t.parameters)}var Ko="imperative",Le=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(Le||{}),Vt=class{id;url;constructor(n,t){this.id=n,this.url=t}},Or=class extends Vt{type=Le.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},bn=class extends Vt{urlAfterRedirects;type=Le.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},wt=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(wt||{}),Zo=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(Zo||{}),kn=class extends Vt{reason;code;type=Le.NavigationCancel;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Nn=class extends Vt{reason;code;type=Le.NavigationSkipped;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}},Qo=class extends Vt{error;target;type=Le.NavigationError;constructor(n,t,r,i){super(n,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ga=class extends Vt{urlAfterRedirects;state;type=Le.RoutesRecognized;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},id=class extends Vt{urlAfterRedirects;state;type=Le.GuardsCheckStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},od=class extends Vt{urlAfterRedirects;state;shouldActivate;type=Le.GuardsCheckEnd;constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},sd=class extends Vt{urlAfterRedirects;state;type=Le.ResolveStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ad=class extends Vt{urlAfterRedirects;state;type=Le.ResolveEnd;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cd=class{route;type=Le.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ld=class{route;type=Le.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ud=class{snapshot;type=Le.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dd=class{snapshot;type=Le.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fd=class{snapshot;type=Le.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hd=class{snapshot;type=Le.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xo=class{routerEvent;position;anchor;type=Le.Scroll;constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},qa=class{},es=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function AN(e){return!(e instanceof qa)&&!(e instanceof es)}function RN(e,n){return e.providers&&!e._injector&&(e._injector=jo(e.providers,n,`Route: ${e.path}`)),e._injector??n}function yn(e){return e.outlet||H}function kN(e,n){let t=e.filter(r=>yn(r)===n);return t.push(...e.filter(r=>yn(r)!==n)),t}function rs(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var pd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return rs(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Li(this.rootInjector)}},Li=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new pd(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(P(Te))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gd=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=_m(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=_m(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=wm(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return wm(n,this._root).map(t=>t.value)}};function _m(e,n){if(e===n.value)return n;for(let t of n.children){let r=_m(e,t);if(r)return r}return null}function wm(e,n){if(e===n.value)return[n];for(let t of n.children){let r=wm(e,t);if(r.length)return r.unshift(n),r}return[]}var jt=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function Go(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var Ka=class extends gd{snapshot;constructor(n,t){super(n),this.snapshot=t,xm(this,n)}toString(){return this.snapshot.toString()}};function wD(e){let n=NN(e),t=new Xe([new Nr("",{})]),r=new Xe({}),i=new Xe({}),o=new Xe({}),s=new Xe(""),a=new Xn(t,r,o,s,i,H,e,n.root);return a.snapshot=n.root,new Ka(new jt(a,[]),n)}function NN(e){let n={},t={},r={},o=new Ni([],n,r,"",t,H,e,null,{});return new Ya("",new jt(o,[]))}var Xn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,i,o,s,a,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(se(l=>l[Za]))??G(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(n=>Oi(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(n=>Oi(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function md(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:T(T({},n.params),e.params),data:T(T({},n.data),e.data),resolve:T(T(T(T({},e.data),n.data),i?.data),e._resolvedData)}:r={params:T({},e.params),data:T({},e.data),resolve:T(T({},e.data),e._resolvedData??{})},i&&ED(i)&&(r.resolve[Za]=i.title),r}var Ni=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Za]}constructor(n,t,r,i,o,s,a,c,l){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Oi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Oi(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Ya=class extends gd{url;constructor(n,t){super(t),this.url=n,xm(this,t)}toString(){return DD(this._root)}};function xm(e,n){n.value._routerState=e,n.children.forEach(t=>xm(e,t))}function DD(e){let n=e.children.length>0?` { ${e.children.map(DD).join(", ")} } `:"";return`${e.value}${n}`}function hm(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Rn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Rn(n.params,t.params)||e.paramsSubject.next(t.params),sN(n.url,t.url)||e.urlSubject.next(t.url),Rn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Dm(e,n){let t=Rn(e.params,n.params)&&uN(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||Dm(e.parent,n.parent))}function ED(e){return typeof e.title=="string"||e.title===null}var CD=new R(""),Qa=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=H;activateEvents=new Oe;deactivateEvents=new Oe;attachEvents=new Oe;detachEvents=new Oe;routerOutletData=m0();parentContexts=C(Li);location=C(Si);changeDetector=C(qe);inputBinder=C(Xa,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Em(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=me({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Cr]})}return e})(),Em=class{route;childContexts;parent;outletData;constructor(n,t,r,i){this.route=n,this.childContexts=t,this.parent=r,this.outletData=i}get(n,t){return n===Xn?this.route:n===Li?this.childContexts:n===CD?this.outletData:this.parent.get(n,t)}},Xa=new R(""),Tm=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Al([r.queryParams,r.params,r.data]).pipe(Nt(([o,s,a],c)=>(a=T(T(T({},o),s),a),c===0?G(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=v0(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})(),Mm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Fe({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ht(0,"router-outlet")},dependencies:[Qa],encapsulation:2})}return e})();function Am(e){let n=e.children&&e.children.map(Am),t=n?Y(T({},e),{children:n}):T({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==H&&(t.component=Mm),t}function ON(e,n,t){let r=Ja(e,n._root,t?t._root:void 0);return new Ka(r,n)}function Ja(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=PN(e,n,t);return new jt(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Ja(e,a)),s}}let r=FN(n.value),i=n.children.map(o=>Ja(e,o));return new jt(r,i)}}function PN(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ja(e,r,i);return Ja(e,r)})}function FN(e){return new Xn(new Xe(e.url),new Xe(e.params),new Xe(e.queryParams),new Xe(e.fragment),new Xe(e.data),e.outlet,e.component,e)}var ts=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},SD="ngNavigationCancelingError";function yd(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=Jo(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=ID(!1,wt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function ID(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[SD]=!0,t.cancellationCode=n,t}function LN(e){return xD(e)&&Jo(e.url)}function xD(e){return!!e&&e[SD]}var jN=(e,n,t,r)=>se(i=>(new Cm(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),Cm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),hm(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=Go(t);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Go(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Go(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=Go(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new hd(o.value.snapshot))}),n.children.length&&this.forwardEvent(new dd(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(hm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),hm(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},vd=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Yo=class{component;route;constructor(n,t){this.component=n,this.route=t}};function VN(e,n,t){let r=e._root,i=n?n._root:null;return $a(r,i,t,[r.value])}function BN(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function is(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!Uh(e)?e:n.get(e):r}function $a(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Go(n);return e.children.forEach(s=>{UN(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>za(a,t.getContext(s),i)),i}function UN(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=$N(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new vd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?$a(e,n,a?a.children:null,r,i):$a(e,n,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Yo(a.outlet.component,s))}else s&&za(n,a,i),i.canActivateChecks.push(new vd(r)),o.component?$a(e,null,a?a.children:null,r,i):$a(e,null,t,r,i);return i}function $N(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!ki(e.url,n.url);case"pathParamsOrQueryParamsChange":return!ki(e.url,n.url)||!Rn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dm(e,n)||!Rn(e.queryParams,n.queryParams);case"paramsChange":default:return!Dm(e,n)}}function za(e,n,t){let r=Go(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?n?za(s,n.children.getContext(o),t):za(s,null,t):za(s,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new Yo(n.outlet.component,i)):t.canDeactivateChecks.push(new Yo(null,i)):t.canDeactivateChecks.push(new Yo(null,i))}function ec(e){return typeof e=="function"}function HN(e){return typeof e=="boolean"}function zN(e){return e&&ec(e.canLoad)}function WN(e){return e&&ec(e.canActivate)}function GN(e){return e&&ec(e.canActivateChild)}function qN(e){return e&&ec(e.canDeactivate)}function KN(e){return e&&ec(e.canMatch)}function TD(e){return e instanceof ii||e?.name==="EmptyError"}var Zu=Symbol("INITIAL_VALUE");function ns(){return Nt(e=>Al(e.map(n=>n.pipe(Un(1),Dh(Zu)))).pipe(se(n=>{for(let t of n)if(t!==!0){if(t===Zu)return Zu;if(t===!1||YN(t))return t}return!0}),Ct(n=>n!==Zu),Un(1)))}function YN(e){return Jo(e)||e instanceof ts}function MD(e){return e.aborted?G(void 0).pipe(Un(1)):new ee(n=>{let t=()=>{n.next(),n.complete()};return e.addEventListener("abort",t),()=>e.removeEventListener("abort",t)})}function AD(e){return Ks(MD(e))}function JN(e,n){return et(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?G(Y(T({},t),{guardsResult:!0})):ZN(s,r,i,e).pipe(et(a=>a&&HN(a)?QN(r,o,e,n):G(a)),se(a=>Y(T({},t),{guardsResult:a})))})}function ZN(e,n,t,r){return Ce(e).pipe(et(i=>rO(i.component,i.route,t,n,r)),$n(i=>i!==!0,!0))}function QN(e,n,t,r){return Ce(n).pipe(dr(i=>bo(eO(i.route.parent,r),XN(i.route,r),nO(e,i.path,t),tO(e,i.route,t))),$n(i=>i!==!0,!0))}function XN(e,n){return e!==null&&n&&n(new fd(e)),G(!0)}function eO(e,n){return e!==null&&n&&n(new ud(e)),G(!0)}function tO(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(o=>Gs(()=>{let s=rs(n)??t,a=is(o,s),c=WN(a)?a.canActivate(n,e):$e(s,()=>a(n,e));return Pi(c).pipe($n())}));return G(i).pipe(ns())}function nO(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>BN(s)).filter(s=>s!==null).map(s=>Gs(()=>{let a=s.guards.map(c=>{let l=rs(s.node)??t,u=is(c,l),d=GN(u)?u.canActivateChild(r,e):$e(l,()=>u(r,e));return Pi(d).pipe($n())});return G(a).pipe(ns())}));return G(o).pipe(ns())}function rO(e,n,t,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(a=>{let c=rs(n)??i,l=is(a,c),u=qN(l)?l.canDeactivate(e,n,t,r):$e(c,()=>l(e,n,t,r));return Pi(u).pipe($n())});return G(s).pipe(ns())}function iO(e,n,t,r,i){let o=n.canLoad;if(o===void 0||o.length===0)return G(!0);let s=o.map(a=>{let c=is(a,e),l=zN(c)?c.canLoad(n,t):$e(e,()=>c(n,t)),u=Pi(l);return i?u.pipe(AD(i)):u});return G(s).pipe(ns(),RD(r))}function RD(e){return mh(yt(n=>{if(typeof n!="boolean")throw yd(e,n)}),se(n=>n===!0))}function oO(e,n,t,r,i){let o=n.canMatch;if(!o||o.length===0)return G(!0);let s=o.map(a=>{let c=is(a,e),l=KN(c)?c.canMatch(n,t):$e(e,()=>c(n,t)),u=Pi(l);return i?u.pipe(AD(i)):u});return G(s).pipe(ns(),RD(r))}var Ri=class kD extends Error{segmentGroup;constructor(n){super(),this.segmentGroup=n||null,Object.setPrototypeOf(this,kD.prototype)}},Sm=class ND extends Error{urlTree;constructor(n){super(),this.urlTree=n,Object.setPrototypeOf(this,ND.prototype)}};function sO(e){throw new A(4e3,!1)}function aO(e){throw ID(!1,wt.GuardRejected)}var cO=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}async lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[H])throw sO(`${n.redirectTo}`);i=i.children[H]}}async applyRedirectCommands(n,t,r,i,o){let s=await lO(t,i,o);if(s instanceof vn)throw new Sm(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),n,r);if(s[0]==="/")throw new Sm(a);return a}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new vn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,i)}),new ae(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}};function lO(e,n,t){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=n;return td(Pi($e(t,()=>r({params:l,data:u,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:d}))))}var Im={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uO(e,n,t,r,i,o){let s=OD(e,n,t);return s.matched?(r=RN(n,r),oO(r,n,t,i,o).pipe(se(a=>a===!0?s:T({},Im)))):G(s)}function OD(e,n,t){if(n.path==="**")return dO(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?T({},Im):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||iD)(t,e,n);if(!i)return T({},Im);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?T(T({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function dO(e){return{matched:!0,parameters:e.length>0?sD(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function tD(e,n,t,r){return t.length>0&&pO(e,t,r)?{segmentGroup:new ae(n,hO(r,new ae(t,e.children))),slicedSegments:[]}:t.length===0&&gO(e,t,r)?{segmentGroup:new ae(e.segments,fO(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new ae(e.segments,e.children),slicedSegments:t}}function fO(e,n,t,r){let i={};for(let o of t)if(_d(e,n,o)&&!r[yn(o)]){let s=new ae([],{});i[yn(o)]=s}return T(T({},r),i)}function hO(e,n){let t={};t[H]=n;for(let r of e)if(r.path===""&&yn(r)!==H){let i=new ae([],{});t[yn(r)]=i}return t}function pO(e,n,t){return t.some(r=>_d(e,n,r)&&yn(r)!==H)}function gO(e,n,t){return t.some(r=>_d(e,n,r))}function _d(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function mO(e,n,t){return n.length===0&&!e.children[t]}var yO=class{};async function vO(e,n,t,r,i,o,s="emptyOnly",a){return new _O(e,n,t,r,i,s,o,a).recognize()}var bO=31,_O=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,i,o,s,a,c){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new cO(this.urlSerializer,this.urlTree)}noMatchError(n){return new A(4002,`'${n.segmentGroup}'`)}async recognize(){let n=tD(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(n),i=new jt(r,t),o=new Ya("",i),s=mD(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(n){let t=new Ni([],Object.freeze({}),Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),H,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,n,H,t),rootSnapshot:t}}catch(r){if(r instanceof Sm)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ri?this.noMatchError(r):r}}async processSegmentGroup(n,t,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(n,t,r,o);let s=await this.processSegment(n,t,r,r.segments,i,!0,o);return s instanceof jt?[s]:[]}async processChildren(n,t,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let l=r.children[c],u=kN(t,c),d=await this.processSegmentGroup(n,u,l,c,i);s.push(...d)}let a=PD(s);return wO(a),a}async processSegment(n,t,r,i,o,s,a){for(let c of t)try{return await this.processSegmentAgainstRoute(c._injector??n,t,c,r,i,o,s,a)}catch(l){if(l instanceof Ri||TD(l))continue;throw l}if(mO(r,i,o))return new yO;throw new Ri(r)}async processSegmentAgainstRoute(n,t,r,i,o,s,a,c){if(yn(r)!==s&&(s===H||!_d(i,o,r)))throw new Ri(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(n,i,r,o,s,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s,c);throw new Ri(i)}async expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=OD(t,i,o);if(!c)throw new Ri(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>bO&&(this.allowRedirects=!1));let f=new Ni(o,l,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,nD(i),yn(i),i.component??i._loadedComponent??null,i,rD(i)),p=md(f,a,this.paramsInheritanceStrategy);if(f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let g=await this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,f,n),m=await this.applyRedirects.lineralizeSegments(i,g);return this.processSegment(n,r,t,m.concat(h),s,!1,a)}async matchSegmentAgainstRoute(n,t,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await td(uO(t,r,i,n,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new Ri(t);n=r._injector??n;let{routes:c}=await this.getChildConfig(n,r,i),l=r._loadedInjector??n,{parameters:u,consumedSegments:d,remainingSegments:h}=a,f=new Ni(d,u,Object.freeze(T({},this.urlTree.queryParams)),this.urlTree.fragment,nD(r),yn(r),r.component??r._loadedComponent??null,r,rD(r)),p=md(f,s,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let{segmentGroup:g,slicedSegments:m}=tD(t,d,h,c);if(m.length===0&&g.hasChildren()){let _=await this.processChildren(l,c,g,f);return new jt(f,_)}if(c.length===0&&m.length===0)return new jt(f,[]);let y=yn(r)===o,v=await this.processSegment(l,c,g,m,y?H:o,!0,f);return new jt(f,v instanceof jt?[v]:[])}async getChildConfig(n,t,r){if(t.children)return{routes:t.children,injector:n};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await td(iO(n,t,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(n,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,o}throw aO(t)}return{routes:[],injector:n}}};function wO(e){e.sort((n,t)=>n.value.outlet===H?-1:t.value.outlet===H?1:n.value.outlet.localeCompare(t.value.outlet))}function DO(e){let n=e.value.routeConfig;return n&&n.path===""}function PD(e){let n=[],t=new Set;for(let r of e){if(!DO(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=PD(r.children);n.push(new jt(r.value,i))}return n.filter(r=>!t.has(r))}function nD(e){return e.data||{}}function rD(e){return e.resolve||{}}var EO=new R("",{factory:()=>vO});function CO(e,n,t,r,i,o,s){let a=e.get(EO);return et(c=>G(c).pipe(Nt(l=>a(e,n,t,r,l.extractedUrl,i,o,s)),se(({state:l,tree:u})=>Y(T({},c),{targetSnapshot:l,urlAfterRedirects:u}))))}function SO(e,n){return et(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return G(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of FD(c))s.add(l);let a=0;return Ce(s).pipe(dr(c=>o.has(c)?IO(c,r,e,n):(c.data=md(c,c.parent,e).resolve,G(void 0))),yt(()=>a++),Rl(1),et(c=>a===s.size?G(t):Dt))})}function FD(e){let n=e.children.map(t=>FD(t)).flat();return[e,...n]}function IO(e,n,t,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!ED(i)&&(o[Za]=i.title),Gs(()=>(e.data=md(e,e.parent,t).resolve,xO(o,e,n,r).pipe(se(s=>(e._resolvedData=s,e.data=T(T({},e.data),s),null)))))}function xO(e,n,t,r){let i=mm(e);if(i.length===0)return G({});let o={};return Ce(i).pipe(et(s=>TO(e[s],n,t,r).pipe($n(),yt(a=>{if(a instanceof ts)throw yd(new Qn,a);o[s]=a}))),Rl(1),se(()=>o),_o(s=>TD(s)?Dt:bh(s)))}function TO(e,n,t,r){let i=rs(n)??r,o=is(e,i),s=o.resolve?o.resolve(n,t):$e(i,()=>o(n,t));return Pi(s)}function pm(e){return Nt(n=>{let t=e(n);return t?Ce(t).pipe(se(()=>n)):G(n)})}var Rm=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===H);return r}getResolvedTitleForRoute(t){return t.data[Za]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>C(LD),providedIn:"root"})}return e})(),LD=(()=>{class e extends Rm{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(P(Y0))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ji=new R("",{factory:()=>({})}),Vi=new R(""),wd=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=C(Pg);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await aD($e(t,()=>r.loadComponent())),s=await BD(VD(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await jD(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();async function jD(e,n,t,r){let i=await aD($e(t,()=>e.loadChildren())),o=await BD(VD(i)),s;o instanceof Tu||Array.isArray(o)?s=o:s=await n.compileModuleAsync(o),r&&r(e);let a,c,l=!1;return Array.isArray(s)?(c=s,l=!0):(a=s.create(t).injector,c=a.get(Vi,[],{optional:!0,self:!0}).flat()),{routes:c.map(Am),injector:a}}function MO(e){return e&&typeof e=="object"&&"default"in e}function VD(e){return MO(e)?e.default:e}async function BD(e){return e}var Dd=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>C(AO),providedIn:"root"})}return e})(),AO=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),km=new R(""),Nm=new R("");function UD(e,n,t){let r=e.get(Nm),i=e.get(Se);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),RO(e)));a.updateCallbackDone.catch(l=>{}),a.ready.catch(l=>{}),a.finished.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&$e(e,()=>c({transition:a,from:n,to:t})),s}function RO(e){return new Promise(n=>{wa({read:()=>setTimeout(n)},{injector:e})})}var kO=()=>{},Om=new R(""),Ed=(()=>{class e{currentNavigation=cn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=cn(null);events=new Ue;transitionAbortWithErrorSubject=new Ue;configLoader=C(wd);environmentInjector=C(Te);destroyRef=C(sn);urlSerializer=C(Fi);rootContexts=C(Li);location=C(Ar);inputBindingEnabled=C(Xa,{optional:!0})!==null;titleStrategy=C(Rm);options=C(ji,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=C(Dd);createViewTransition=C(km,{optional:!0});navigationErrorHandler=C(Om,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>G(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new cd(i)),r=i=>this.events.next(new ld(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;He(()=>{this.transitions?.next(Y(T({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new Xe(null),this.transitions.pipe(Ct(r=>r!==null),Nt(r=>{let i=!1,o=new AbortController;return G(r).pipe(Nt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",wt.SupersededByNewNavigation),Dt;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?Y(T({},a),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&l!=="reload")return this.events.next(new Nn(s.id,this.urlSerializer.serialize(s.rawUrl),"",Zo.IgnoredSameUrlNavigation)),s.resolve(!1),Dt;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return G(s).pipe(Nt(u=>(this.events.next(new Or(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Dt:Promise.resolve(u))),CO(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),yt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let d=new Ga(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:d,source:h,restoredState:f,extras:p}=s,g=new Or(u,this.urlSerializer.serialize(d),h,f);this.events.next(g);let m=wD(this.rootComponentType).snapshot;return this.currentTransition=r=Y(T({},s),{targetSnapshot:m,urlAfterRedirects:d,extras:Y(T({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(y=>(y.finalUrl=d,y)),G(r)}else return this.events.next(new Nn(s.id,this.urlSerializer.serialize(s.extractedUrl),"",Zo.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Dt}),yt(s=>{let a=new id(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),se(s=>(this.currentTransition=r=Y(T({},s),{guards:VN(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),JN(this.environmentInjector,s=>this.events.next(s)),yt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw yd(this.urlSerializer,s.guardsResult);let a=new od(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ct(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",wt.GuardRejected),!1)),pm(s=>{if(s.guards.canActivateChecks.length!==0)return G(s).pipe(yt(a=>{let c=new sd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Nt(a=>{let c=!1;return G(a).pipe(SO(this.paramsInheritanceStrategy,this.environmentInjector),yt({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",wt.NoDataFromResolver)}}))}),yt(a=>{let c=new ad(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),pm(s=>{let a=l=>{let u=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let d=rs(l)??this.environmentInjector;u.push(this.configLoader.loadComponent(d,l.routeConfig).then(h=>{l.component=h}))}for(let d of l.children)u.push(...a(d));return u},c=a(s.targetSnapshot.root);return c.length===0?G(s):Ce(Promise.all(c).then(()=>s))}),pm(()=>this.afterPreactivation()),Nt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?Ce(c).pipe(se(()=>r)):G(r)}),se(s=>{let a=ON(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=Y(T({},s),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),yt(()=>{this.events.next(new qa)}),jN(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Un(1),Ks(MD(o.signal).pipe(Ct(()=>!i&&!r.targetRouterState),yt(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",wt.Aborted)}))),yt({next:s=>{i=!0,this.currentNavigation.update(a=>(a.abort=kO,a)),this.lastSuccessfulNavigation.set(He(this.currentNavigation)),this.events.next(new bn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Ks(this.transitionAbortWithErrorSubject.pipe(yt(s=>{throw s}))),qs(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",wt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),_o(s=>{if(this.destroyed)return r.resolve(!1),Dt;if(i=!0,xD(s))this.events.next(new kn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),LN(s)?this.events.next(new es(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Qo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=$e(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof ts){let{message:l,cancellationCode:u}=yd(this.urlSerializer,c);this.events.next(new kn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new es(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Dt}))}))}cancelNavigationTransition(t,r,i){let o=new kn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=He(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function NO(e){return e!==Ko}var $D=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>C(OO),providedIn:"root"})}return e})(),bd=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},OO=(()=>{class e extends bd{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ft(e)))(i||e)}})();static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Pm=(()=>{class e{urlSerializer=C(Fi);options=C(ji,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=C(Ar);urlHandlingStrategy=C(Dd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new vn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof vn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=wD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:()=>C(HD),providedIn:"root"})}return e})(),HD=(()=>{class e extends Pm{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Or?this.updateStateMemento():t instanceof Nn?this.commitTransition(r):t instanceof Ga?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof qa?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof kn&&t.code!==wt.SupersededByNewNavigation&&t.code!==wt.Redirect?this.restoreHistory(r):t instanceof Qo?this.restoreHistory(r,!0):t instanceof bn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=T(T({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=T(T({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ft(e)))(i||e)}})();static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Cd(e,n){e.events.pipe(Ct(t=>t instanceof bn||t instanceof kn||t instanceof Qo||t instanceof Nn),se(t=>t instanceof bn||t instanceof Nn?0:(t instanceof kn?t.code===wt.Redirect||t.code===wt.SupersededByNewNavigation:!1)?2:1),Ct(t=>t!==2),Un(1)).subscribe(()=>{n()})}var PO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ye=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=C(xg);stateManager=C(Pm);options=C(ji,{optional:!0})||{};pendingTasks=C(Kn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=C(Ed);urlSerializer=C(Fi);location=C(Ar);urlHandlingStrategy=C(Dd);injector=C(Te);_events=new Ue;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=C($D);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=C(Vi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!C(Xa,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Qe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=He(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof kn&&r.code!==wt.Redirect&&r.code!==wt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof bn)this.navigated=!0;else if(r instanceof es){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=T({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||NO(i.source)},s);this.scheduleNavigation(a,Ko,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}AN(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ko,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=T({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(an)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return He(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Am),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=T(T({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=yD(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return vD(d,t,u,l??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Jo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ko,null,r)}navigate(t,r={skipLocationChange:!1}){return LO(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Wn(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=T({},PO):r===!1?i=T({},FO):i=r,Jo(t))return J0(this.currentUrlTree,t,i);let o=this.parseUrl(t);return J0(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});let u=this.pendingTasks.add();return Cd(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function LO(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new A(4008,!1)}var tc=class{};var zD=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ct(t=>t instanceof bn),dr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription?.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=jo(o.providers,t,""));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ce(i).pipe(vo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=Ce(this.loader.loadChildren(t,r)):i=G(null);let o=i.pipe(et(s=>s===null?G(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return Ce([o,s]).pipe(vo())}else return o})}static \u0275fac=function(r){return new(r||e)(P(Ye),P(Te),P(tc),P(wd))};static \u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),WD=new R(""),jO=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Ko;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Or?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Nn&&t.code===Zo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof Xo))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Xo(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Cg()};static \u0275prov=k({token:e,factory:e.\u0275fac})}return e})();function Lm(e,...n){return mr([{provide:Vi,multi:!0,useValue:e},[],{provide:Xn,useFactory:GD},{provide:Ca,multi:!0,useFactory:qD},n.map(t=>t.\u0275providers)])}function GD(){return C(Ye).routerState.root}function nc(e,n){return{\u0275kind:e,\u0275providers:n}}function qD(){let e=C(St);return n=>{let t=e.get(Ir);if(n!==t.components[0])return;let r=e.get(Ye),i=e.get(KD);e.get(jm)===1&&r.initialNavigation(),e.get(ZD,null,{optional:!0})?.setUpPreloading(),e.get(WD,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var KD=new R("",{factory:()=>new Ue}),jm=new R("",{factory:()=>1});function YD(){let e=[{provide:ag,useValue:!0},{provide:jm,useValue:0},Mu(()=>{let n=C(St);return n.get(Hg,Promise.resolve()).then(()=>new Promise(r=>{let i=n.get(Ye),o=n.get(KD);Cd(i,()=>{r(!0)}),n.get(Ed).afterPreactivation=()=>(r(!0),o.closed?G(void 0):o),i.initialNavigation()}))})];return nc(2,e)}function JD(){let e=[Mu(()=>{C(Ye).setUpLocationChangeListener()}),{provide:jm,useValue:2}];return nc(3,e)}var ZD=new R("");function QD(e){return nc(0,[{provide:ZD,useExisting:zD},{provide:tc,useExisting:e}])}function XD(){return nc(8,[Tm,{provide:Xa,useExisting:Tm}])}function eE(e){Lo("NgRouterViewTransitions");let n=[{provide:km,useValue:UD},{provide:Nm,useValue:T({skipNextTransition:!!e?.skipInitialTransition},e)}];return nc(9,n)}var tE=[Ar,{provide:Fi,useClass:Qn},Ye,Li,{provide:Xn,useFactory:GD},wd,[]],Vm=(()=>{class e{constructor(){}static forRoot(t,r){return{ngModule:e,providers:[tE,[],{provide:Vi,multi:!0,useValue:t},[],r?.errorHandler?{provide:Om,useValue:r.errorHandler}:[],{provide:ji,useValue:r||{}},r?.useHash?BO():UO(),VO(),r?.preloadingStrategy?QD(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?$O(r):[],r?.bindToComponentInputs?XD().\u0275providers:[],r?.enableViewTransitions?eE().\u0275providers:[],HO()]}}static forChild(t){return{ngModule:e,providers:[{provide:Vi,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=hn({type:e});static \u0275inj=Bt({})}return e})();function VO(){return{provide:WD,useFactory:()=>{let e=C(A0),n=C(dt),t=C(ji),r=C(Ed),i=C(Fi);return t.scrollOffset&&e.setOffset(t.scrollOffset),new jO(i,r,e,n,t)}}}function BO(){return{provide:Zn,useClass:qg}}function UO(){return{provide:Zn,useClass:Pu}}function $O(e){return[e.initialNavigation==="disabled"?JD().\u0275providers:[],e.initialNavigation==="enabledBlocking"?YD().\u0275providers:[]]}var Fm=new R("");function HO(){return[{provide:Fm,useFactory:qD},{provide:Ca,multi:!0,useExisting:Fm}]}var Sd=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Fe({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"content"]],template:function(t,r){t&1&&(x(0,"main")(1,"section",0),ht(2,"router-outlet"),I()())},dependencies:[Qa],encapsulation:2})};var dE=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(F(Mn),F(dn))};static \u0275dir=me({type:e})}return e})(),Od=(()=>{class e extends dE{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ft(e)))(i||e)}})();static \u0275dir=me({type:e,features:[_t]})}return e})(),uc=new R("");var WO={provide:uc,useExisting:It(()=>Fr),multi:!0};function GO(){let e=Gt()?Gt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var qO=new R(""),Fr=(()=>{class e extends dE{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!GO())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(F(Mn),F(dn),F(qO,8))};static \u0275dir=me({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&te("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[pn([WO]),_t]})}return e})();function KO(e){return e==null||fE(e)===0}function fE(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var dc=new R(""),hE=new R("");function YO(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function JO(e){return KO(e.value)?{required:!0}:null}function ZO(e){return n=>{let t=n.value?.length??fE(n.value);return t!==null&&t>e?{maxlength:{requiredLength:e,actualLength:t}}:null}}function nE(e){return null}function pE(e){return e!=null}function gE(e){return Sr(e)?Ce(e):e}function mE(e){let n={};return e.forEach(t=>{n=t!=null?T(T({},n),t):n}),Object.keys(n).length===0?null:n}function yE(e,n){return n.map(t=>t(e))}function QO(e){return!e.validate}function vE(e){return e.map(n=>QO(n)?n:t=>n.validate(t))}function XO(e){if(!e)return null;let n=e.filter(pE);return n.length==0?null:function(t){return mE(yE(t,n))}}function $m(e){return e!=null?XO(vE(e)):null}function eP(e){if(!e)return null;let n=e.filter(pE);return n.length==0?null:function(t){let r=yE(t,n).map(gE);return _h(r).pipe(se(mE))}}function Hm(e){return e!=null?eP(vE(e)):null}function rE(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function tP(e){return e._rawValidators}function nP(e){return e._rawAsyncValidators}function Bm(e){return e?Array.isArray(e)?e:[e]:[]}function xd(e,n){return Array.isArray(e)?e.includes(n):e===n}function iE(e,n){let t=Bm(n);return Bm(e).forEach(i=>{xd(t,i)||t.push(i)}),t}function oE(e,n){return Bm(n).filter(t=>!xd(e,t))}var Td=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=$m(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Hm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},as=class extends Td{name;get formDirective(){return null}get path(){return null}},lc=class extends Td{_parent=null;name=null;valueAccessor=null},Md=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var cs=(()=>{class e extends Md{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(F(lc,2))};static \u0275dir=me({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&xa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[_t]})}return e})(),ls=(()=>{class e extends Md{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(F(as,10))};static \u0275dir=me({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&xa("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[_t]})}return e})();var ic="VALID",Id="INVALID",os="PENDING",oc="DISABLED",Pr=class{},Ad=class extends Pr{value;source;constructor(n,t){super(),this.value=n,this.source=t}},ac=class extends Pr{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},cc=class extends Pr{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},ss=class extends Pr{status;source;constructor(n,t){super(),this.status=n,this.source=t}},Um=class extends Pr{source;constructor(n){super(),this.source=n}},Rd=class extends Pr{source;constructor(n){super(),this.source=n}};function bE(e){return(Pd(e)?e.validators:e)||null}function rP(e){return Array.isArray(e)?$m(e):e||null}function _E(e,n){return(Pd(n)?n.asyncValidators:e)||null}function iP(e){return Array.isArray(e)?Hm(e):e||null}function Pd(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function oP(e,n,t){let r=e.controls;if(!(n?Object.keys(r):r).length)throw new A(1e3,"");if(!r[t])throw new A(1001,"")}function sP(e,n,t){e._forEachChild((r,i)=>{if(t[i]===void 0)throw new A(1002,"")})}var kd=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return He(this.statusReactive)}set status(n){He(()=>this.statusReactive.set(n))}_status=$o(()=>this.statusReactive());statusReactive=cn(void 0);get valid(){return this.status===ic}get invalid(){return this.status===Id}get pending(){return this.status==os}get disabled(){return this.status===oc}get enabled(){return this.status!==oc}errors;get pristine(){return He(this.pristineReactive)}set pristine(n){He(()=>this.pristineReactive.set(n))}_pristine=$o(()=>this.pristineReactive());pristineReactive=cn(!0);get dirty(){return!this.pristine}get touched(){return He(this.touchedReactive)}set touched(n){He(()=>this.touchedReactive.set(n))}_touched=$o(()=>this.touchedReactive());touchedReactive=cn(!1);get untouched(){return!this.touched}_events=new Ue;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(iE(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(iE(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(oE(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(oE(n,this._rawAsyncValidators))}hasValidator(n){return xd(this._rawValidators,n)}hasAsyncValidator(n){return xd(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(Y(T({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new cc(!0,r))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new cc(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(Y(T({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new ac(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new ac(!0,r))}markAsPending(n={}){this.status=os;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new ss(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(Y(T({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=oc,this.errors=null,this._forEachChild(i=>{i.disable(Y(T({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Ad(this.value,r)),this._events.next(new ss(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Y(T({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=ic,this._forEachChild(r=>{r.enable(Y(T({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Y(T({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ic||this.status===os)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Ad(this.value,t)),this._events.next(new ss(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(Y(T({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oc:ic}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=os,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:n!==!1};let r=gE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new ss(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?oc:this.errors?Id:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(os)?os:this._anyControlsHaveStatus(Id)?Id:ic}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),i&&this._events.next(new ac(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new cc(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Pd(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=rP(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=iP(this._rawAsyncValidators)}},Nd=class extends kd{constructor(n,t,r){super(bE(t),_E(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){sP(this,!0,n),Object.keys(n).forEach(r=>{oP(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,Y(T({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Rd(this))}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var zm=new R("",{factory:()=>Wm}),Wm="always";function aP(e,n){return[...n.path,e]}function wE(e,n,t=Wm){DE(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),lP(e,n),dP(e,n),uP(e,n),cP(e,n)}function sE(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function cP(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function DE(e,n){let t=tP(e);n.validator!==null?e.setValidators(rE(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=nP(e);n.asyncValidator!==null?e.setAsyncValidators(rE(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();sE(n._rawValidators,i),sE(n._rawAsyncValidators,i)}function lP(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&EE(e,n)})}function uP(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&EE(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function EE(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function dP(e,n){let t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function fP(e,n){e==null,DE(e,n)}function hP(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function pP(e){return Object.getPrototypeOf(e.constructor)===Od}function gP(e,n){e._syncPendingControls(),n.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function mP(e,n){if(!n)return null;Array.isArray(n);let t,r,i;return n.forEach(o=>{o.constructor===Fr?t=o:pP(o)?r=o:i=o}),i||r||t||null}var yP={provide:as,useExisting:It(()=>Bi)},sc=Promise.resolve(),Bi=(()=>{class e extends as{callSetDisabledState;get submitted(){return He(this.submittedReactive)}_submitted=$o(()=>this.submittedReactive());submittedReactive=cn(!1);_directives=new Set;form;ngSubmit=new Oe;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Nd({},$m(t),Hm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){sc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),wE(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){sc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){sc.then(()=>{let r=this._findContainer(t.path),i=new Nd({});fP(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){sc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){sc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),gP(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Um(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||e)(F(dc,10),F(hE,10),F(zm,8))};static \u0275dir=me({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&te("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[pn([yP]),_t]})}return e})();function aE(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function cE(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var vP=class extends kd{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(bE(t),_E(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(cE(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Rd(this))}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){aE(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){aE(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){cE(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var bP={provide:lc,useExisting:It(()=>Ui)},lE=Promise.resolve(),Ui=(()=>{class e extends lc{_changeDetectorRef;callSetDisabledState;control=new vP;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Oe;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=mP(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),hP(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){wE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){lE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Aa(r);lE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?aP(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(F(as,9),F(dc,10),F(hE,10),F(uc,10),F(qe,8),F(zm,8))};static \u0275dir=me({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[pn([bP]),_t,Cr]})}return e})();var us=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=me({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),_P={provide:uc,useExisting:It(()=>fc),multi:!0},fc=(()=>{class e extends Od{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ft(e)))(i||e)}})();static \u0275dir=me({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&te("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[pn([_P]),_t]})}return e})();var wP={provide:uc,useExisting:It(()=>SE),multi:!0};function CE(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function DP(e){return e.split(":")[0]}var SE=(()=>{class e extends Od{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=C(Ir).injector;destroyRef=C(sn);cdr=C(qe);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,wa({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=CE(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=DP(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ft(e)))(i||e)}})();static \u0275dir=me({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&te("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[pn([wP]),_t]})}return e})(),IE=(()=>{class e{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(CE(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(F(dn),F(Mn),F(SE,9))};static \u0275dir=me({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),EP={provide:uc,useExisting:It(()=>xE),multi:!0};function uE(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function CP(e){return e.split(":")[0]}var xE=(()=>{class e extends Od{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=CP(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ft(e)))(i||e)}})();static \u0275dir=me({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&te("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[pn([EP]),_t]})}return e})(),TE=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(uE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(uE(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(F(dn),F(Mn),F(xE,9))};static \u0275dir=me({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function SP(e){return typeof e=="number"?e:parseInt(e,10)}function IP(e){return typeof e=="number"?e:parseFloat(e)}var Gm=(()=>{class e{_validator=nE;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):nE,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=me({type:e,features:[Cr]})}return e})();var xP={provide:dc,useExisting:It(()=>qm),multi:!0},qm=(()=>{class e extends Gm{min;inputName="min";normalizeInput=t=>IP(t);createValidator=t=>YO(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ft(e)))(i||e)}})();static \u0275dir=me({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ii("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[pn([xP]),_t]})}return e})(),TP={provide:dc,useExisting:It(()=>$i),multi:!0};var $i=(()=>{class e extends Gm{required;inputName="required";normalizeInput=Aa;createValidator=t=>JO;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ft(e)))(i||e)}})();static \u0275dir=me({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ii("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[pn([TP]),_t]})}return e})();var MP={provide:dc,useExisting:It(()=>Km),multi:!0},Km=(()=>{class e extends Gm{maxlength;inputName="maxlength";normalizeInput=t=>SP(t);createValidator=t=>ZO(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ft(e)))(i||e)}})();static \u0275dir=me({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ii("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[pn([MP]),_t]})}return e})();var AP=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=hn({type:e});static \u0275inj=Bt({})}return e})();var ds=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:zm,useValue:t.callSetDisabledState??Wm}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=hn({type:e});static \u0275inj=Bt({imports:[AP]})}return e})();var ME=e=>e?(...n)=>e(...n):(...n)=>fetch(...n);var fs=class extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}},hc=class extends fs{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},hs=class extends fs{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},ps=class extends fs{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},Fd=(function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e})(Fd||{});var pc=class{constructor(n,{headers:t={},customFetch:r,region:i=Fd.Any}={}){this.url=n,this.headers=t,this.region=i,this.fetch=ME(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return hl(this,arguments,void 0,function*(t,r={}){var i;let o,s;try{let{headers:a,method:c,body:l,signal:u,timeout:d}=r,h={},{region:f}=r;f||(f=this.region);let p=new URL(`${this.url}/${t}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=l):typeof l=="string"?(h["Content-Type"]="text/plain",g=l):typeof FormData<"u"&&l instanceof FormData?g=l:(h["Content-Type"]="application/json",g=JSON.stringify(l)):l&&typeof l!="string"&&!(typeof Blob<"u"&&l instanceof Blob)&&!(l instanceof ArrayBuffer)&&!(typeof FormData<"u"&&l instanceof FormData)?g=JSON.stringify(l):g=l;let m=u;d&&(s=new AbortController,o=setTimeout(()=>s.abort(),d),u?(m=s.signal,u.addEventListener("abort",()=>s.abort())):m=s.signal);let y=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:g,signal:m}).catch(w=>{throw new hc(w)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new hs(y);if(!y.ok)throw new ps(y);let _=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return _==="application/json"?b=yield y.json():_==="application/octet-stream"||_==="application/pdf"?b=yield y.blob():_==="text/event-stream"?b=y:_==="multipart/form-data"?b=yield y.formData():b=yield y.text(),{data:b,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof ps||a instanceof hs?a.context:void 0}}finally{o&&clearTimeout(o)}})}};var RE=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},RP=class{constructor(e){var n,t;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(t=e.isMaybeSingle)!==null&&t!==void 0?t:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let s=null,a=null,c=null,l=o.status,u=o.statusText;if(o.ok){var d,h;if(t.method!=="HEAD"){var f;let y=await o.text();y===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((f=t.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=y:a=JSON.parse(y))}let g=(d=t.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),m=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&m&&m.length>1&&(c=parseInt(m[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(a)&&(a.length>1?(s={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,l=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var p;let g=await o.text();try{s=JSON.parse(g),Array.isArray(s)&&o.status===404&&(a=[],s=null,l=200,u="OK")}catch{o.status===404&&g===""?(l=204,u="No Content"):s={message:g}}if(s&&t.isMaybeSingle&&(!(s==null||(p=s.details)===null||p===void 0)&&p.includes("0 rows"))&&(s=null,l=200,u="OK"),s&&t.shouldThrowOnError)throw new RE(s)}return{error:s,data:a,count:c,status:l,statusText:u}});return this.shouldThrowOnError||(i=i.catch(o=>{var s;let a="",c=o?.cause;if(c){var l,u,d,h;let p=(l=c?.message)!==null&&l!==void 0?l:"",g=(u=c?.code)!==null&&u!==void 0?u:"";a=`${(d=o?.name)!==null&&d!==void 0?d:"FetchError"}: ${o?.message}`,a+=`

Caused by: ${(h=c?.name)!==null&&h!==void 0?h:"Error"}: ${p}`,g&&(a+=` (${g})`),c?.stack&&(a+=`
${c.stack}`)}else{var f;a=(f=o?.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}},kP=class extends RP{select(e){let n=!1,t=(e??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:t,foreignTable:r,referencedTable:i=r}={}){let o=i?`${i}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${e}.${n?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:t=n}={}){let r=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,n,{foreignTable:t,referencedTable:r=t}={}){let i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:t=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var s;let a=[e?"analyze":null,n?"verbose":null,t?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}},AE=new RegExp("[,()]"),gs=class extends kP{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}regexMatch(e,n){return this.url.searchParams.append(e,`match.${n}`),this}regexIMatch(e,n){return this.url.searchParams.append(e,`imatch.${n}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}isDistinct(e,n){return this.url.searchParams.append(e,`isdistinct.${n}`),this}in(e,n){let t=Array.from(new Set(n)).map(r=>typeof r=="string"&&AE.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${t})`),this}notIn(e,n){let t=Array.from(new Set(n)).map(r=>typeof r=="string"&&AE.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${t})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:t,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");let o=t===void 0?"":`(${t})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,t])=>{this.url.searchParams.append(n,`eq.${t}`)}),this}not(e,n,t){return this.url.searchParams.append(e,`not.${n}.${t}`),this}or(e,{foreignTable:n,referencedTable:t=n}={}){let r=t?`${t}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,n,t){return this.url.searchParams.append(e,`${n}.${t}`),this}},NP=class{constructor(e,{headers:n={},schema:t,fetch:r}){this.url=e,this.headers=new Headers(n),this.schema=t,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,n){let{head:t=!1,count:r}=n??{},i=t?"HEAD":"GET",o=!1,s=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join(""),{url:a,headers:c}=this.cloneRequestState();return a.searchParams.set("select",s),r&&c.append("Prefer",`count=${r}`),new gs({method:i,url:a,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:t=!0}={}){var r;let i="POST",{url:o,headers:s}=this.cloneRequestState();if(n&&s.append("Prefer",`count=${n}`),t||s.append("Prefer","missing=default"),Array.isArray(e)){let a=e.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(a.length>0){let c=[...new Set(a)].map(l=>`"${l}"`);o.searchParams.set("columns",c.join(","))}}return new gs({method:i,url:o,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:t=!1,count:r,defaultToNull:i=!0}={}){var o;let s="POST",{url:a,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),n!==void 0&&a.searchParams.set("on_conflict",n),r&&c.append("Prefer",`count=${r}`),i||c.append("Prefer","missing=default"),Array.isArray(e)){let l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){let u=[...new Set(l)].map(d=>`"${d}"`);a.searchParams.set("columns",u.join(","))}}return new gs({method:s,url:a,headers:c,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var t;let r="PATCH",{url:i,headers:o}=this.cloneRequestState();return n&&o.append("Prefer",`count=${n}`),new gs({method:r,url:i,headers:o,schema:this.schema,body:e,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:e}={}){var n;let t="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new gs({method:t,url:r,headers:i,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},kE=class NE{constructor(n,{headers:t={},schema:r,fetch:i}={}){this.url=n,this.headers=new Headers(t),this.schemaName=r,this.fetch=i}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new NP(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new NE(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,get:i=!1,count:o}={}){var s;let a,c=new URL(`${this.url}/rpc/${n}`),l,u=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(u)),d=r&&Object.values(t).some(u);d?(a="POST",l=t):r||i?(a=r?"HEAD":"GET",Object.entries(t).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{c.searchParams.append(f,p)})):(a="POST",l=t);let h=new Headers(this.headers);return d?h.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&h.set("Prefer",`count=${o}`),new gs({method:a,url:c,headers:h,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};var Jm=class{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};let t=globalThis.process;if(t){let r=t.versions;if(r&&r.node){let i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let n=this.detectEnvironment();if(n.constructor)return n.constructor;let t=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(t+=`

Suggested solution: ${n.workaround}`),new Error(t)}static createWebSocket(n,t){let r=this.getWebSocketConstructor();return new r(n,t)}static isWebSocketSupported(){try{let n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}},Zm=Jm;var OE="2.93.2";var PE=`realtime-js/${OE}`,FE="1.0.0",Qm="2.0.0",Xm=Qm;var gc=1e4,LE=1e3,jE=100,Lr=(function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e})(Lr||{}),je=(function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e})(je||{}),Kt=(function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e})(Kt||{}),ey=(function(e){return e.websocket="websocket",e})(ey||{}),Hi=(function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e})(Hi||{});var Ld=class{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,t){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var t;return this._isArrayBuffer((t=n.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var t,r;let i=(r=(t=n.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(n){var t,r;let i=(r=(t=n.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(n,t,r){var i,o;let s=n.topic,a=(i=n.ref)!==null&&i!==void 0?i:"",c=(o=n.join_ref)!==null&&o!==void 0?o:"",l=n.payload.event,u=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);let h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+s.length+l.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+h),p=new DataView(f),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,c.length),p.setUint8(g++,a.length),p.setUint8(g++,s.length),p.setUint8(g++,l.length),p.setUint8(g++,d.length),p.setUint8(g++,t),Array.from(c,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(a,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(s,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(l,y=>p.setUint8(g++,y.charCodeAt(0))),Array.from(d,y=>p.setUint8(g++,y.charCodeAt(0)));var m=new Uint8Array(f.byteLength+r.byteLength);return m.set(new Uint8Array(f),0),m.set(new Uint8Array(r),f.byteLength),m.buffer}decode(n,t){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return t(r)}if(typeof n=="string"){let r=JSON.parse(n),[i,o,s,a,c]=r;return t({join_ref:i,ref:o,topic:s,event:a,payload:c})}return t({})}_binaryDecode(n){let t=new DataView(n),r=t.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,t,i)}}_decodeUserBroadcast(n,t,r){let i=t.getUint8(1),o=t.getUint8(2),s=t.getUint8(3),a=t.getUint8(4),c=this.HEADER_LENGTH+4,l=r.decode(n.slice(c,c+i));c=c+i;let u=r.decode(n.slice(c,c+o));c=c+o;let d=r.decode(n.slice(c,c+s));c=c+s;let h=n.slice(c,n.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,p={type:this.BROADCAST_EVENT,event:u,payload:f};return s>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(n){var t;return n instanceof ArrayBuffer||((t=n?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(n,t){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>t.includes(r)))}};var ms=class{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var be=(function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e})(be||{}),ny=(e,n,t={})=>{var r;let i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((o,s)=>(o[s]=OP(s,e,n,i),o),{}):{}},OP=(e,n,t,r)=>{let i=n.find(a=>a.name===e),o=i?.type,s=t[e];return o&&!r.includes(o)?VE(o,s):ty(s)},VE=(e,n)=>{if(e.charAt(0)==="_"){let t=e.slice(1,e.length);return jP(n,t)}switch(e){case be.bool:return PP(n);case be.float4:case be.float8:case be.int2:case be.int4:case be.int8:case be.numeric:case be.oid:return FP(n);case be.json:case be.jsonb:return LP(n);case be.timestamp:return VP(n);case be.abstime:case be.date:case be.daterange:case be.int4range:case be.int8range:case be.money:case be.reltime:case be.text:case be.time:case be.timestamptz:case be.timetz:case be.tsrange:case be.tstzrange:return ty(n);default:return ty(n)}},ty=e=>e,PP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},FP=e=>{if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return n}return e},LP=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},jP=(e,n)=>{if(typeof e!="string")return e;let t=e.length-1,r=e[t];if(e[0]==="{"&&r==="}"){let o,s=e.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>VE(n,a))}return e},VP=e=>typeof e=="string"?e.replace(" ","T"):e,jd=e=>{let n=new URL(e);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};var ys=class{constructor(n,t,r={},i=gc){this.channel=n,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var mc=class e{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,i){let o=this.cloneDeep(n),s=this.transformState(t),a={},c={};return this.map(o,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=o[l];if(d){let h=u.map(m=>m.presence_ref),f=d.map(m=>m.presence_ref),p=u.filter(m=>f.indexOf(m.presence_ref)<0),g=d.filter(m=>h.indexOf(m.presence_ref)<0);p.length>0&&(a[l]=p),g.length>0&&(c[l]=g)}else a[l]=u}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(n,t,r,i){let{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var l;let u=(l=n[a])!==null&&l!==void 0?l:[];if(n[a]=this.cloneDeep(c),u.length>0){let d=n[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);n[a].unshift(...h)}r(a,u,c)}),this.map(s,(a,c)=>{let l=n[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),n[a]=l,i(a,l,c),l.length===0&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{let i=n[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var yc=(function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e})(yc||{}),er=(function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e})(er||{});var vc=class e{constructor(n,t={config:{}},r){var i,o;if(this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ys(this,Kt.join,this.params,this.timeout),this.rejoinTimer=new ms(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new mc(this),this.broadcastEndpointURL=jd(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,t=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==je.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[yc.PRESENCE]&&this.bindings[yc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>n?.(er.CHANNEL_ERROR,f)),this._onClose(()=>n?.(er.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){n?.(er.SUBSCRIBED);return}else{let g=this.bindings.postgres_changes,m=(p=g?.length)!==null&&p!==void 0?p:0,y=[];for(let v=0;v<m;v++){let _=g[v],{filter:{event:b,schema:w,table:D,filter:S}}=_,E=f&&f[v];if(E&&E.event===b&&e.isFilterValueEqual(E.schema,w)&&e.isFilterValueEqual(E.table,D)&&e.isFilterValueEqual(E.filter,S))y.push(Object.assign(Object.assign({},_),{id:E.id}));else{this.unsubscribe(),this.state=je.errored,n?.(er.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,n&&n(er.SUBSCRIBED);return}}).receive("error",f=>{this.state=je.errored,n?.(er.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{n?.(er.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,t={}){return await this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,t,r){return this.state===je.joined&&n===yc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,t,r)}async httpSend(n,t,r={}){var i;if(t==null)return Promise.reject("Payload is required for httpSend()");let o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);let s={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:t,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{let l=await a.json();c=l.error||l.message||c}catch{}return Promise.reject(new Error(c))}async send(n,t={}){var r,i;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:o,payload:s}=n,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);let c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{let l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,c;let l=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),l.receive("ok",()=>o("ok")),l.receive("error",()=>o("error")),l.receive("timeout",()=>o("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=je.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ys(this,Kt.leave,{},n),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=je.closed,this.bindings={}}async _fetchWithTimeout(n,t,r){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),s}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ys(this,n,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>jE){let t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var i,o;let s=n.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=Kt;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var p,g,m;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(g=f.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var p,g,m,y,v,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let b=f.id,w=(p=f.filter)===null||p===void 0?void 0:p.event;return b&&((g=t.ids)===null||g===void 0?void 0:g.includes(b))&&(w==="*"||w?.toLocaleLowerCase()===((m=t.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{let b=(v=(y=f?.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return b==="*"||b===((_=t?.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let p=h.data,{schema:g,table:m,commit_timestamp:y,type:v,errors:_}=p;h=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:y,eventType:v,new:{},old:{},errors:_}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){let i=n.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,t){let r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,t))})),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let r in n)if(n[r]!==t[r])return!1;return!0}static isFilterValueEqual(n,t){return(n??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Kt.close,{},n)}_onError(n){this._on(Kt.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=ny(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=ny(n.columns,n.old_record)),t}};var ry=()=>{},Vd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},UP=[1e3,2e3,5e3,1e4],$P=1e4,HP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,bc=class{constructor(n,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gc,this.transport=null,this.heartbeatIntervalMs=Vd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ry,this.ref=0,this.reconnectTimer=null,this.vsn=Xm,this.logger=ry,this.conn=null,this.sendBuffer=[],this.serializer=new Ld,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${n}/${ey.websocket}`,this.httpEndpoint=jd(n),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Zm.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");let t=n.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){let t=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){let n=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Lr.connecting:return Hi.Connecting;case Lr.open:return Hi.Open;case Lr.closing:return Hi.Closing;default:return Hi.Closed}}isConnected(){return this.connectionState()===Hi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,t={config:{}}){let r=`realtime:${n}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new vc(`realtime:${n}`,t,this);return this.channels.push(o),o}}push(n){let{topic:t,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(LE,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Vd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply"&&t.ref&&t.ref===this.pendingHeartbeatRef){let l=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error",l)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:r,event:i,payload:o,ref:s}=t,a=s?`(${s})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${a}`.trim(),o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,o,s)),this._triggerStateCallbacks("message",t)})}_clearTimer(n){var t;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Lr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Lr.open||this.conn.readyState===Lr.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var t;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(t){this.log("error","error in heartbeat callback",t)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(Kt.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${n}${r}${i}`}_workerObjectUrl(n){let t;if(n)t=n;else{let r=new Blob([HP],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(n,t=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(n=null){let t,r=!1;if(n)t=n,r=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{let o={access_token:t,version:PE};t&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Kt.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${n}`,t)})}_triggerStateCallbacks(n,t){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${n} callback`,i)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ms(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var t,r,i,o,s,a,c,l,u,d,h,f;switch(this.transport=(t=n?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:gc,this.heartbeatIntervalMs=(i=n?.heartbeatIntervalMs)!==null&&i!==void 0?i:Vd.HEARTBEAT_INTERVAL,this.worker=(o=n?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=n?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=n?.heartbeatCallback)!==null&&a!==void 0?a:ry,this.vsn=(c=n?.vsn)!==null&&c!==void 0?c:Xm,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=n?.reconnectAfterMs)!==null&&l!==void 0?l:p=>UP[p-1]||$P,this.vsn){case FE:this.encode=(u=n?.encode)!==null&&u!==void 0?u:(p,g)=>g(JSON.stringify(p)),this.decode=(d=n?.decode)!==null&&d!==void 0?d:(p,g)=>g(JSON.parse(p));break;case Qm:this.encode=(h=n?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=n?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}};var _c=class extends Error{constructor(e,n){super(e),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function zP(e,n,t){let r=new URL(n,e);if(t)for(let[i,o]of Object.entries(t))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function WP(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function GP(e){let n=e.fetchImpl??globalThis.fetch;return{async request({method:t,path:r,query:i,body:o,headers:s}){let a=zP(e.baseUrl,r,i),c=await WP(e.auth),l=await n(a,{method:t,headers:T(T(T({},o?{"Content-Type":"application/json"}:{}),c),s),body:o?JSON.stringify(o):void 0}),u=await l.text(),d=(l.headers.get("content-type")||"").includes("application/json"),h=d&&u?JSON.parse(u):u;if(!l.ok){let f=d?h:void 0,p=f?.error;throw new _c(p?.message??`Request failed with status ${l.status}`,{status:l.status,icebergType:p?.type,icebergCode:p?.code,details:f})}return{status:l.status,headers:l.headers,data:h}}}}function Bd(e){return e.join("")}var qP=class{constructor(e,n=""){this.client=e,this.prefix=n}async listNamespaces(e){let n=e?{parent:Bd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,n){let t={namespace:e.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Bd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Bd(e.namespace)}`}),!0}catch(n){if(n instanceof _c&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(e,n){try{return await this.createNamespace(e,n)}catch(t){if(t instanceof _c&&t.status===409)return;throw t}}};function vs(e){return e.join("")}var KP=class{constructor(e,n="",t){this.client=e,this.prefix=n,this.accessDelegation=t}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vs(e.namespace)}/tables`})).data.identifiers}async createTable(e,n){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vs(e.namespace)}/tables`,body:n,headers:t})).data.metadata}async updateTable(e,n){let t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vs(e.namespace)}/tables/${e.name}`,body:n});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(e,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vs(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(e){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vs(e.namespace)}/tables/${e.name}`,headers:n})).data.metadata}async tableExists(e){let n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vs(e.namespace)}/tables/${e.name}`,headers:n}),!0}catch(t){if(t instanceof _c&&t.status===404)return!1;throw t}}async createTableIfNotExists(e,n){try{return await this.createTable(e,n)}catch(t){if(t instanceof _c&&t.status===409)return await this.loadTable({namespace:e.namespace,name:n.name});throw t}}},BE=class{constructor(e){let n="v1";e.catalogName&&(n+=`/${e.catalogName}`);let t=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=GP({baseUrl:t,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new qP(this.client,n),this.tableOps=new KP(this.client,n,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,n){return this.namespaceOps.createNamespace(e,n)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,n){return this.tableOps.createTable(e,n)}async updateTable(e,n){return this.tableOps.updateTable(e,n)}async dropTable(e,n){await this.tableOps.dropTable(e,n)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,n){return this.namespaceOps.createNamespaceIfNotExists(e,n)}async createTableIfNotExists(e,n){return this.tableOps.createTableIfNotExists(e,n)}};var $d=class extends Error{constructor(e,n="storage",t,r){super(e),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=t,this.statusCode=r}};function Hd(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Ud=class extends $d{constructor(e,n,t,r="storage"){super(e,r,n,t),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},zE=class extends $d{constructor(e,n,t="storage"){super(e,t),this.name=t==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};var YP=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),JP=e=>{if(typeof e!="object"||e===null)return!1;let n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},iy=e=>{if(Array.isArray(e))return e.map(t=>iy(t));if(typeof e=="function"||e!==Object(e))return e;let n={};return Object.entries(e).forEach(([t,r])=>{let i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=iy(r)}),n},ZP=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Dc(e)}function QP(e,n){if(Dc(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n||"default");if(Dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function XP(e){var n=QP(e,"string");return Dc(n)=="symbol"?n:n+""}function e1(e,n,t){return(n=XP(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function UE(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function B(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?UE(Object(t),!0).forEach(function(r){e1(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):UE(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var $E=e=>{var n;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(n=e.error)===null||n===void 0?void 0:n.message)||JSON.stringify(e)},t1=async(e,n,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!t?.noResolveJson){let i=e,o=i.status||500;if(typeof i.json=="function")i.json().then(s=>{let a=s?.statusCode||s?.code||o+"";n(new Ud($E(s),o,a,r))}).catch(()=>{if(r==="vectors"){let s=o+"";n(new Ud(i.statusText||`HTTP ${o} error`,o,s,r))}else{let s=o+"";n(new Ud(i.statusText||`HTTP ${o} error`,o,s,r))}});else{let s=o+"";n(new Ud(i.statusText||`HTTP ${o} error`,o,s,r))}}else n(new zE($E(e),e,r))},n1=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"||e==="HEAD"||!r?B(B({},i),t):(JP(r)?(i.headers=B({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r)):i.body=r,n?.duplex&&(i.duplex=n.duplex),B(B({},i),t))};async function wc(e,n,t,r,i,o,s){return new Promise((a,c)=>{e(t,n1(n,r,i,o)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;if(s==="vectors"){let u=l.headers.get("content-type");if(!u||!u.includes("application/json"))return{}}return l.json()}).then(l=>a(l)).catch(l=>t1(l,c,r,s))})}function r1(e="storage"){return{get:async(n,t,r,i)=>wc(n,"GET",t,r,i,void 0,e),post:async(n,t,r,i,o)=>wc(n,"POST",t,i,o,r,e),put:async(n,t,r,i,o)=>wc(n,"PUT",t,i,o,r,e),head:async(n,t,r,i)=>wc(n,"HEAD",t,B(B({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(n,t,r,i,o)=>wc(n,"DELETE",t,i,o,r,e)}}var i1=r1("storage"),{get:Ec,post:Ee,put:oy,head:o1,remove:sy}=i1,bs=class{constructor(e,n={},t,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.fetch=YP(t),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var n=this;try{return{data:await e(),error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Hd(t))return{data:null,error:t};throw t}}},s1=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Hd(n))return{data:null,error:n};throw n}}},WE;WE=Symbol.toStringTag;var a1=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[WE]="BlobDownloadBuilder",this.promise=null}asStream(){return new s1(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Hd(n))return{data:null,error:n};throw n}}},c1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},HE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},l1=class extends bs{constructor(e,n={},t,r){super(e,n,r,"storage"),this.bucketId=t}async uploadOrUpdate(e,n,t,r){var i=this;return i.handleOperation(async()=>{let o,s=B(B({},HE),r),a=B(B({},i.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&t instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",i.encodeMetadata(c)),o.append("",t)):typeof FormData<"u"&&t instanceof FormData?(o=t,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),c&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(c))):(o=t,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),r?.headers&&(a=B(B({},a),r.headers));let l=i._removeEmptyFolders(n),u=i._getFinalPath(l),d=await(e=="PUT"?oy:Ee)(i.fetch,`${i.url}/object/${u}`,o,B({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{path:l,id:d.Id,fullPath:d.Key}})}async upload(e,n,t){return this.uploadOrUpdate("POST",e,n,t)}async uploadToSignedUrl(e,n,t,r){var i=this;let o=i._removeEmptyFolders(e),s=i._getFinalPath(o),a=new URL(i.url+`/object/upload/sign/${s}`);return a.searchParams.set("token",n),i.handleOperation(async()=>{let c,l=B({upsert:HE.upsert},r),u=B(B({},i.headers),{"x-upsert":String(l.upsert)});return typeof Blob<"u"&&t instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",t)):typeof FormData<"u"&&t instanceof FormData?(c=t,c.append("cacheControl",l.cacheControl)):(c=t,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType),{path:o,fullPath:(await oy(i.fetch,a.toString(),c,{headers:u})).Key}})}async createSignedUploadUrl(e,n){var t=this;return t.handleOperation(async()=>{let r=t._getFinalPath(e),i=B({},t.headers);n?.upsert&&(i["x-upsert"]="true");let o=await Ee(t.fetch,`${t.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(t.url+o.url),a=s.searchParams.get("token");if(!a)throw new $d("No token returned by API");return{signedUrl:s.toString(),path:e,token:a}})}async update(e,n,t){return this.uploadOrUpdate("PUT",e,n,t)}async move(e,n,t){var r=this;return r.handleOperation(async()=>await Ee(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:n,destinationBucket:t?.destinationBucket},{headers:r.headers}))}async copy(e,n,t){var r=this;return r.handleOperation(async()=>({path:(await Ee(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:n,destinationBucket:t?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,n,t){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),o=await Ee(r.fetch,`${r.url}/object/sign/${i}`,B({expiresIn:n},t?.transform?{transform:t.transform}:{}),{headers:r.headers}),s=t?.download?`&download=${t.download===!0?"":t.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${s}`)}})}async createSignedUrls(e,n,t){var r=this;return r.handleOperation(async()=>{let i=await Ee(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:n,paths:e},{headers:r.headers}),o=t?.download?`&download=${t.download===!0?"":t.download}`:"";return i.map(s=>B(B({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${o}`):null}))})}download(e,n){let t=typeof n?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(n?.transform||{}),i=r?`?${r}`:"",o=this._getFinalPath(e),s=()=>Ec(this.fetch,`${this.url}/${t}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new a1(s,this.shouldThrowOnError)}async info(e){var n=this;let t=n._getFinalPath(e);return n.handleOperation(async()=>iy(await Ec(n.fetch,`${n.url}/object/info/${t}`,{headers:n.headers})))}async exists(e){var n=this;let t=n._getFinalPath(e);try{return await o1(n.fetch,`${n.url}/object/${t}`,{headers:n.headers}),{data:!0,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Hd(r)&&r instanceof zE){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,n){let t=this._getFinalPath(e),r=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&r.push(i);let o=typeof n?.transform<"u"?"render/image":"object",s=this.transformOptsToQueryString(n?.transform||{});s!==""&&r.push(s);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${t}${a}`)}}}async remove(e){var n=this;return n.handleOperation(async()=>await sy(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:e},{headers:n.headers}))}async list(e,n,t){var r=this;return r.handleOperation(async()=>{let i=B(B(B({},c1),n),{},{prefix:e||""});return await Ee(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},t)})}async listV2(e,n){var t=this;return t.handleOperation(async()=>{let r=B({},e);return await Ee(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,r,{headers:t.headers},n)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}},u1="2.93.2",Cc={"X-Client-Info":`storage-js/${u1}`},d1=class extends bs{constructor(e,n={},t,r){let i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));let o=i.href.replace(/\/$/,""),s=B(B({},Cc),n);super(o,s,t,"storage")}async listBuckets(e){var n=this;return n.handleOperation(async()=>{let t=n.listBucketOptionsToQueryString(e);return await Ec(n.fetch,`${n.url}/bucket${t}`,{headers:n.headers})})}async getBucket(e){var n=this;return n.handleOperation(async()=>await Ec(n.fetch,`${n.url}/bucket/${e}`,{headers:n.headers}))}async createBucket(e,n={public:!1}){var t=this;return t.handleOperation(async()=>await Ee(t.fetch,`${t.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:t.headers}))}async updateBucket(e,n){var t=this;return t.handleOperation(async()=>await oy(t.fetch,`${t.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:t.headers}))}async emptyBucket(e){var n=this;return n.handleOperation(async()=>await Ee(n.fetch,`${n.url}/bucket/${e}/empty`,{},{headers:n.headers}))}async deleteBucket(e){var n=this;return n.handleOperation(async()=>await sy(n.fetch,`${n.url}/bucket/${e}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(e){let n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},f1=class extends bs{constructor(e,n={},t){let r=e.replace(/\/$/,""),i=B(B({},Cc),n);super(r,i,t,"storage")}async createBucket(e){var n=this;return n.handleOperation(async()=>await Ee(n.fetch,`${n.url}/bucket`,{name:e},{headers:n.headers}))}async listBuckets(e){var n=this;return n.handleOperation(async()=>{let t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);let r=t.toString(),i=r?`${n.url}/bucket?${r}`:`${n.url}/bucket`;return await Ec(n.fetch,i,{headers:n.headers})})}async deleteBucket(e){var n=this;return n.handleOperation(async()=>await sy(n.fetch,`${n.url}/bucket/${e}`,{},{headers:n.headers}))}from(e){var n=this;if(!ZP(e))throw new $d("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let t=new BE({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(t,{get(i,o){let s=i[o];return typeof s!="function"?s:async(...a)=>{try{return{data:await s.apply(i,a),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}},h1=class extends bs{constructor(e,n={},t){let r=e.replace(/\/$/,""),i=B(B({},Cc),{},{"Content-Type":"application/json"},n);super(r,i,t,"vectors")}async createIndex(e){var n=this;return n.handleOperation(async()=>await Ee(n.fetch,`${n.url}/CreateIndex`,e,{headers:n.headers})||{})}async getIndex(e,n){var t=this;return t.handleOperation(async()=>await Ee(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:t.headers}))}async listIndexes(e){var n=this;return n.handleOperation(async()=>await Ee(n.fetch,`${n.url}/ListIndexes`,e,{headers:n.headers}))}async deleteIndex(e,n){var t=this;return t.handleOperation(async()=>await Ee(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:t.headers})||{})}},p1=class extends bs{constructor(e,n={},t){let r=e.replace(/\/$/,""),i=B(B({},Cc),{},{"Content-Type":"application/json"},n);super(r,i,t,"vectors")}async putVectors(e){var n=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Ee(n.fetch,`${n.url}/PutVectors`,e,{headers:n.headers})||{})}async getVectors(e){var n=this;return n.handleOperation(async()=>await Ee(n.fetch,`${n.url}/GetVectors`,e,{headers:n.headers}))}async listVectors(e){var n=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return n.handleOperation(async()=>await Ee(n.fetch,`${n.url}/ListVectors`,e,{headers:n.headers}))}async queryVectors(e){var n=this;return n.handleOperation(async()=>await Ee(n.fetch,`${n.url}/QueryVectors`,e,{headers:n.headers}))}async deleteVectors(e){var n=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Ee(n.fetch,`${n.url}/DeleteVectors`,e,{headers:n.headers})||{})}},g1=class extends bs{constructor(e,n={},t){let r=e.replace(/\/$/,""),i=B(B({},Cc),{},{"Content-Type":"application/json"},n);super(r,i,t,"vectors")}async createBucket(e){var n=this;return n.handleOperation(async()=>await Ee(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:n.headers})||{})}async getBucket(e){var n=this;return n.handleOperation(async()=>await Ee(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:e},{headers:n.headers}))}async listBuckets(e={}){var n=this;return n.handleOperation(async()=>await Ee(n.fetch,`${n.url}/ListVectorBuckets`,e,{headers:n.headers}))}async deleteBucket(e){var n=this;return n.handleOperation(async()=>await Ee(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:n.headers})||{})}},m1=class extends g1{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new y1(this.url,this.headers,e,this.fetch)}async createBucket(e){var n=()=>super.createBucket,t=this;return n().call(t,e)}async getBucket(e){var n=()=>super.getBucket,t=this;return n().call(t,e)}async listBuckets(e={}){var n=()=>super.listBuckets,t=this;return n().call(t,e)}async deleteBucket(e){var n=()=>super.deleteBucket,t=this;return n().call(t,e)}},y1=class extends h1{constructor(e,n,t,r){super(e,n,r),this.vectorBucketName=t}async createIndex(e){var n=()=>super.createIndex,t=this;return n().call(t,B(B({},e),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(e={}){var n=()=>super.listIndexes,t=this;return n().call(t,B(B({},e),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(e){var n=()=>super.getIndex,t=this;return n().call(t,t.vectorBucketName,e)}async deleteIndex(e){var n=()=>super.deleteIndex,t=this;return n().call(t,t.vectorBucketName,e)}index(e){return new v1(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},v1=class extends p1{constructor(e,n,t,r,i){super(e,n,i),this.vectorBucketName=t,this.indexName=r}async putVectors(e){var n=()=>super.putVectors,t=this;return n().call(t,B(B({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(e){var n=()=>super.getVectors,t=this;return n().call(t,B(B({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(e={}){var n=()=>super.listVectors,t=this;return n().call(t,B(B({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(e){var n=()=>super.queryVectors,t=this;return n().call(t,B(B({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(e){var n=()=>super.deleteVectors,t=this;return n().call(t,B(B({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},GE=class extends d1{constructor(e,n={},t,r){super(e,n,t,r)}from(e){return new l1(this.url,this.headers,e,this.fetch)}get vectors(){return new m1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new f1(this.url+"/iceberg",this.headers,this.fetch)}};var zd="2.93.2";var zi=30*1e3,Wd=3,Gd=Wd*zi,qE="http://localhost:9999",KE="supabase.auth.token";var YE={"X-Client-Info":`gotrue-js/${zd}`};var Sc="X-Supabase-Api-Version",ay={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},JE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ZE=600*1e3;var jr=class extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function O(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var qd=class extends jr{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function QE(e){return O(e)&&e.name==="AuthApiError"}var Yt=class extends jr{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}},_n=class extends jr{constructor(n,t,r,i){super(n,r,i),this.name=t,this.status=r}},ot=class extends _n{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Yd(e){return O(e)&&e.name==="AuthSessionMissingError"}var tr=class extends _n{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Wi=class extends _n{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},Gi=class extends _n{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function XE(e){return O(e)&&e.name==="AuthImplicitGrantRedirectError"}var Ic=class extends _n{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Kd=class extends _n{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}};var _s=class extends _n{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}};function Jd(e){return O(e)&&e.name==="AuthRetryableFetchError"}var xc=class extends _n{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var qi=class extends _n{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};var Zd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),eC=` 	
\r=`.split(""),b1=(()=>{let e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<eC.length;n+=1)e[eC[n].charCodeAt(0)]=-2;for(let n=0;n<Zd.length;n+=1)e[Zd[n].charCodeAt(0)]=n;return e})();function tC(e,n,t){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(Zd[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(Zd[r]),n.queuedBits-=6}}function nC(e,n,t){let r=b1[e];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)t(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function cy(e){let n=[],t=s=>{n.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{D1(s,r,t)};for(let s=0;s<e.length;s+=1)nC(e.charCodeAt(s),i,o);return n.join("")}function _1(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function w1(e,n){for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}_1(r,n)}}function D1(e,n,t){if(n.utf8seq===0){if(e<=127){t(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&t(n.codepoint)}}function Vr(e){let n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};for(let i=0;i<e.length;i+=1)nC(e.charCodeAt(i),t,r);return new Uint8Array(n)}function rC(e){let n=[];return w1(e,t=>n.push(t)),new Uint8Array(n)}function nr(e){let n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};return e.forEach(i=>tC(i,t,r)),tC(null,t,r),n.join("")}function iC(e){return Math.round(Date.now()/1e3)+e}function oC(){return Symbol("auth-callback")}var Ve=()=>typeof window<"u"&&typeof document<"u",Ki={tested:!1,writable:!1},Qd=()=>{if(!Ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ki.tested)return Ki.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ki.tested=!0,Ki.writable=!0}catch{Ki.tested=!0,Ki.writable=!1}return Ki.writable};function sC(e){let n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{n[i]=r}),n}var Xd=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),aC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Yi=async(e,n,t)=>{await e.setItem(n,JSON.stringify(t))},Br=async(e,n)=>{let t=await e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Je=async(e,n)=>{await e.removeItem(n)},Tc=class e{constructor(){this.promise=new e.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}};Tc.promiseConstructor=Promise;function Mc(e){let n=e.split(".");if(n.length!==3)throw new qi("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!JE.test(n[r]))throw new qi("JWT not in base64url format");return{header:JSON.parse(cy(n[0])),payload:JSON.parse(cy(n[1])),signature:Vr(n[2]),raw:{header:n[0],payload:n[1]}}}async function cC(e){return await new Promise(n=>{setTimeout(()=>n(null),e)})}function lC(e,n){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{let s=await e(o);if(!n(o,null,s)){r(s);return}}catch(s){if(!n(o,s)){i(s);return}}})()})}function E1(e){return("0"+e.toString(16)).substr(-2)}function C1(){let n=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,E1).join("")}async function S1(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function I1(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=await S1(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ji(e,n,t=!1){let r=C1(),i=r;t&&(i+="/PASSWORD_RECOVERY"),await Yi(e,`${n}-code-verifier`,i);let o=await I1(r);return[o,r===o?"plain":"s256"]}var x1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uC(e){let n=e.headers.get(Sc);if(!n||!n.match(x1))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function dC(e){if(!e)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function fC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var T1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zi(e){if(!T1.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ef(){let e={};return new Proxy(e,{get:(n,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){let r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hC(e,n){return new Proxy(e,{get:(t,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,i)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(t,r,i)}})}function ly(e){return JSON.parse(JSON.stringify(e))}var Qi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),M1=[502,503,504];async function pC(e){var n;if(!aC(e))throw new _s(Qi(e),0);if(M1.includes(e.status))throw new _s(Qi(e),e.status);let t;try{t=await e.json()}catch(o){throw new Yt(Qi(o),o)}let r,i=uC(e);if(i&&i.getTime()>=ay["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new xc(Qi(t),e.status,((n=t.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new ot}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new xc(Qi(t),e.status,t.weak_password.reasons);throw new qd(Qi(t),e.status||500,r)}var A1=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function L(e,n,t,r){var i;let o=Object.assign({},r?.headers);o[Sc]||(o[Sc]=ay["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await R1(e,n,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function R1(e,n,t,r,i,o){let s=A1(n,r,i,o),a;try{a=await e(t,Object.assign({},s))}catch(c){throw console.error(c),new _s(Qi(c),0)}if(a.ok||await pC(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await pC(c)}}function Jt(e){var n;let t=null;k1(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=iC(e.expires_in)));let r=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:r},error:null}}function uy(e){let n=Jt(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(n.data.weak_password=e.weak_password),n}function On(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function gC(e){return{data:e,error:null}}function mC(e){let{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=e,s=ri(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function dy(e){return e}function k1(e){return e.access_token&&e.refresh_token&&e.expires_in}var tf=["global","local","others"];var ws=class{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=Xd(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,t=tf[0]){if(tf.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${tf.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(O(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,t={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:On})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{let{options:t}=n,r=ri(n,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:mC,redirectTo:t?.redirectTo})}catch(t){if(O(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(n){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:On})}catch(t){if(O(t))return{data:{user:null},error:t};throw t}}async listUsers(n){var t,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:dy});if(u.error)throw u.error;let d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);l[`${m}Page`]=g}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(O(l))return{data:{users:[]},error:l};throw l}}async getUserById(n){Zi(n);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:On})}catch(t){if(O(t))return{data:{user:null},error:t};throw t}}async updateUserById(n,t){Zi(n);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:On})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,t=!1){Zi(n);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:On})}catch(r){if(O(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){Zi(n.userId);try{let{data:t,error:r}=await L(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(O(t))return{data:null,error:t};throw t}}async _deleteFactor(n){Zi(n.userId),Zi(n.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(O(t))return{data:null,error:t};throw t}}async _listOAuthClients(n){var t,r,i,o,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=await L(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:dy});if(u.error)throw u.error;let d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);l[`${m}Page`]=g}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(O(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(n){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(O(t))return{data:null,error:t};throw t}}async _getOAuthClient(n){try{return await L(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(O(t))return{data:null,error:t};throw t}}async _updateOAuthClient(n,t){try{return await L(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(O(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await L(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(O(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(n){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(O(t))return{data:null,error:t};throw t}}};function fy(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}var Xi={debug:!!(globalThis&&Qd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ac=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},nf=class extends Ac{};async function hy(e,n,t){Xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Xi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await t()}finally{Xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(n===0)throw Xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new nf(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xi.debug)try{let o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function yC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function py(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function vC(e){return parseInt(e,16)}function bC(e){let n=new TextEncoder().encode(e);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function _C(e){var n;let{chainId:t,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:c,resources:l,scheme:u,uri:d,version:h}=e;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((n=e.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let f=py(e.address),p=u?`${u}://${r}`:r,g=e.statement?`${e.statement}
`:"",m=`${p} wants you to sign in with your Ethereum account:
${f}

${g}`,y=`URI: ${d}
Version: ${h}
Chain ID: ${t}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),c&&(y+=`
Request ID: ${c}`),l){let v=`
Resources:`;for(let _ of l){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);v+=`
- ${_}`}y+=v}return`${m}
${y}`}var Ie=class extends Error{constructor({message:n,code:t,cause:r,name:i}){var o;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}},eo=class extends Ie{constructor(n,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:n}),this.name="WebAuthnUnknownError",this.originalError=t}};function wC({error:e,options:n}){var t,r,i;let{publicKey:o}=n;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ie({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Ie({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(n.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ie({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ie({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ie({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ie({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Ie({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ie({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let s=window.location.hostname;if(gy(s)){if(o.rp.id!==s)return new Ie({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ie({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function DC({error:e,options:n}){let{publicKey:t}=n;if(!t)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Ie({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ie({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(gy(r)){if(t.rpId!==r)return new Ie({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var my=class{createNewAbortSignal(){if(this.controller){let t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}let n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){let n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}},N1=new my;function CC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:n,user:t,excludeCredentials:r}=e,i=ri(e,["challenge","user","excludeCredentials"]),o=Vr(n).buffer,s=Object.assign(Object.assign({},t),{id:Vr(t.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:Vr(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function SC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:n,allowCredentials:t}=e,r=ri(e,["challenge","allowCredentials"]),i=Vr(n).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let s=0;s<t.length;s++){let a=t[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Vr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function IC(e){var n;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let t=e;return{id:e.id,rawId:e.id,response:{attestationObject:nr(new Uint8Array(e.response.attestationObject)),clientDataJSON:nr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(n=t.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function xC(e){var n;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let t=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:nr(new Uint8Array(i.authenticatorData)),clientDataJSON:nr(new Uint8Array(i.clientDataJSON)),signature:nr(new Uint8Array(i.signature)),userHandle:i.userHandle?nr(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=t.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function gy(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function EC(){var e,n;return!!(Ve()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function O1(e){try{let n=await navigator.credentials.create(e);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new eo("Browser returned unexpected credential type",n)}:{data:null,error:new eo("Empty credential response",n)}}catch(n){return{data:null,error:wC({error:n,options:e})}}}async function P1(e){try{let n=await navigator.credentials.get(e);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new eo("Browser returned unexpected credential type",n)}:{data:null,error:new eo("Empty credential response",n)}}catch(n){return{data:null,error:DC({error:n,options:e})}}}var F1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},L1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function rf(...e){let n=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of e)if(i)for(let o in i){let s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(t(s))r[o]=s;else if(n(s)){let a=r[o];n(a)?r[o]=rf(a,s):r[o]=rf(s)}else r[o]=s}return r}function j1(e,n){return rf(F1,e,n||{})}function V1(e,n){return rf(L1,e,n||{})}var of=class{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:t,friendlyName:r,signal:i},o){try{let{data:s,error:a}=await this.client.mfa.challenge({factorId:n,webauthn:t});if(!s)return{data:null,error:a};let c=i??N1.createNewAbortSignal();if(s.webauthn.type==="create"){let{user:l}=s.webauthn.credential_options.publicKey;l.name||(l.name=`${l.id}:${r}`),l.displayName||(l.displayName=l.name)}switch(s.webauthn.type){case"create":{let l=j1(s.webauthn.credential_options.publicKey,o?.create),{data:u,error:d}=await O1({publicKey:l,signal:c});return u?{data:{factorId:n,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{let l=V1(s.webauthn.credential_options.publicKey,o?.request),{data:u,error:d}=await P1(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:l,signal:c}));return u?{data:{factorId:n,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(s){return O(s)?{data:null,error:s}:{data:null,error:new Yt("Unexpected error in challenge",s)}}}async _verify({challengeId:n,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new jr("rpId is required for WebAuthn authentication")};try{if(!EC())return{data:null,error:new Yt("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this.challenge({factorId:n,webauthn:{rpId:t,rpOrigins:r},signal:i},{request:o});if(!s)return{data:null,error:a};let{webauthn:c}=s;return this._verify({factorId:n,challengeId:s.challengeId,webauthn:{type:c.type,rpId:t,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return O(s)?{data:null,error:s}:{data:null,error:new Yt("Unexpected error in authenticate",s)}}}async _register({friendlyName:n,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!t)return{data:null,error:new jr("rpId is required for WebAuthn registration")};try{if(!EC())return{data:null,error:new Yt("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this._enroll({friendlyName:n});if(!s)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===n&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};let{data:c,error:l}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:i},{create:o});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:t,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:l}}catch(s){return O(s)?{data:null,error:s}:{data:null,error:new Yt("Unexpected error in register",s)}}}};yC();var B1={url:qE,storageKey:KE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:YE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function TC(e,n,t){return await t()}var Ds={},U1=(()=>{class e{get jwks(){var t,r;return(r=(t=Ds[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ds[this.storageKey]=Object.assign(Object.assign({},Ds[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ds[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ds[this.storageKey]=Object.assign(Object.assign({},Ds[this.storageKey]),{cachedAt:t})}constructor(t){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},B1),t);if(this.storageKey=s.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Ve()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ws({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Xd(s.fetch),this.lock=s.lock||TC,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Ve()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=hy:this.lock=TC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new of(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Qd()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fy(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=fy(this.memoryStorage)),Ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zd}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},i="none";if(Ve()&&(r=sC(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),Ve()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:s}=await this._getSessionFromURL(r,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),XE(s)){let l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}let{session:a,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return O(r)?this._returnResult({error:r}):this._returnResult({error:new Yt("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,i,o;try{let s=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Jt}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,i,o;try{let s;if("email"in t){let{email:d,password:h,options:f}=t,p=null,g=null;this.flowType==="pkce"&&([p,g]=await Ji(this.storage,this.storageKey)),s=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:g},xform:Jt})}else if("phone"in t){let{phone:d,password:h,options:f}=t;s=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Jt})}else throw new Wi("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return await Je(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});let l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(await Je(this.storage,`${this.storageKey}-code-verifier`),O(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){let{email:s,password:a,options:c}=t;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:uy})}else if("phone"in t){let{phone:s,password:a,options:c}=t;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:uy})}else throw new Wi("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let s=new tr;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,i,o,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){let{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,i,o,s,a,c,l,u,d,h,f;let p,g;if("message"in t)p=t.message,g=t.signature;else{let{chain:m,wallet:y,statement:v,options:_}=t,b;if(Ve())if(typeof y=="object")b=y;else{let j=window;if("ethereum"in j&&typeof j.ethereum=="object"&&"request"in j.ethereum&&typeof j.ethereum.request=="function")b=j.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}let w=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href),D=await b.request({method:"eth_requestAccounts"}).then(j=>j).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let S=py(D[0]),E=(i=_?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!E){let j=await b.request({method:"eth_chainId"});E=vC(j)}let N={domain:w.host,address:S,statement:v,uri:w.href,version:"1",chainId:E,nonce:(o=_?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(a=(s=_?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=_?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=_?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=_?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=_?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=_C(N),g=await b.request({method:"personal_sign",params:[bC(p),S]})}try{let{data:m,error:y}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Jt});if(y)throw y;if(!m||!m.session||!m.user){let v=new tr;return this._returnResult({data:{user:null,session:null},error:v})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:y})}catch(m){if(O(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,i,o,s,a,c,l,u,d,h,f,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{let{chain:y,wallet:v,statement:_,options:b}=t,w;if(Ve())if(typeof v=="object")w=v;else{let S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))w=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}let D=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){let S=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),_?{statement:_}:null)),E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),m=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${D.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(o=(i=b?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=b?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((c=b?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(d=b?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);let S=await w.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{let{data:y,error:v}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:nr(m)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Jt});if(v)throw v;if(!y||!y.session||!y.user){let _=new tr;return this._returnResult({data:{user:null,session:null},error:_})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(O(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){let r=await Br(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new Kd;let{data:s,error:a}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Jt});if(await Je(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let c=new tr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:a})}catch(s){if(await Je(this.storage,`${this.storageKey}-code-verifier`),O(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=t,c=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Jt}),{data:l,error:u}=c;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){let d=new tr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,i,o,s,a;try{if("email"in t){let{email:c,options:l}=t,u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ji(this.storage,this.storageKey));let{error:h}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){let{phone:c,options:l}=t,{data:u,error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new Wi("You must provide either an email or phone number.")}catch(c){if(await Je(this.storage,`${this.storageKey}-code-verifier`),O(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var r,i;try{let o,s;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(i=t.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Jt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(O(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var r,i,o,s,a;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=await Ji(this.storage,this.storageKey));let u=await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:gC});return!((s=u.data)===null||s===void 0)&&s.url&&Ve()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(c){if(await Je(this.storage,`${this.storageKey}-code-verifier`),O(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{let{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new ot;let{error:o}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(O(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{let r=`${this.url}/resend`;if("email"in t){let{email:i,type:o,options:s}=t,{error:a}=await L(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){let{phone:i,type:o,options:s}=t,{data:a,error:c}=await L(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new Wi("You must provide either an email or phone number and a type")}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){let o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=await Br(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};let i=t.expires_at?t.expires_at*1e3-Date.now()<Gd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){let a=await Br(this.userStorage,this.storageKey+"-user");a?.user?t.user=a.user:t.user=ef()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};t.user=hC(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}let{data:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;let r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:On}):await this._useSession(async r=>{var i,o,s;let{data:a,error:c}=r;if(c)throw c;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ot}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=a.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:On})})}catch(r){if(O(r))return Yd(r)&&(await this._removeSession(),await Je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async i=>{let{data:o,error:s}=i;if(s)throw s;if(!o.session)throw new ot;let a=o.session,c=null,l=null;this.flowType==="pkce"&&t.email!=null&&([c,l]=await Ji(this.storage,this.storageKey));let{data:u,error:d}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:l}),jwt:a.access_token,xform:On});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(i){if(await Je(this.storage,`${this.storageKey}-code-verifier`),O(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ot;let r=Date.now()/1e3,i=r,o=!0,s=null,{payload:a}=Mc(t.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{data:c,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(O(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var i;if(!t){let{data:a,error:c}=r;if(c)throw c;t=(i=a.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new ot;let{data:o,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(O(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ve())throw new Gi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Gi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ic("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gi("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ic("No code detected.");let{data:_,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;let w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:_.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=t;if(!s||!c||!a||!u)throw new Gi("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;l&&(f=parseInt(l));let p=f-d;p*1e3<=zi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);let g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);let{data:m,error:y}=await this._getUser(s);if(y)throw y;let v={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(i){if(O(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){let r=await Br(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s&&!Yd(s))return this._returnResult({error:s});let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=await this.admin.signOut(a,t);if(c&&!(QE(c)&&(c.status===404||c.status===401||c.status===403)||Yd(c)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await Je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){let r=oC(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async r=>{var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Ji(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Je(this.storage,`${this.storageKey}-code-verifier`),O(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{let{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{let{data:i,error:o}=await this._useSession(async s=>{var a,c,l,u,d;let{data:h,error:f}=s;if(f)throw f;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(o)throw o;return Ve()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(O(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var i;try{let{error:o,data:{session:s}}=r;if(o)throw o;let{options:a,provider:c,token:l,access_token:u,nonce:d}=t,h=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Jt}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new tr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(o){if(await Je(this.storage,`${this.storageKey}-code-verifier`),O(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)throw a;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return await lC(async o=>(o>0&&await cC(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Jt})),(o,s)=>{let a=200*Math.pow(2,o);return s&&Jd(s)&&Date.now()+a-i<zi})}catch(i){if(this._debug(r,"error",i),O(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){let i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),Ve()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=await Br(this.storage,this.storageKey);if(o&&this.userStorage){let a=await Br(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:o.user},await Yi(this.userStorage,this.storageKey+"-user",a)),o.user=(t=a?.user)!==null&&t!==void 0?t:ef()}else if(o&&!o.user&&!o.user){let a=await Br(this.storage,this.storageKey+"-user");a&&a?.user?(o.user=a.user,await Je(this.storage,this.storageKey+"-user"),await Yi(this.storage,this.storageKey,o)):o.user=ef()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}let s=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Gd;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${Gd}s`),s){if(this.autoRefreshToken&&o.refresh_token){let{error:a}=await this._callRefreshToken(o.refresh_token);a&&(console.error(a),Jd(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=await this._getUser(o.access_token);!c&&a?.user?(o.user=a.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var r,i;if(!t)throw new ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Tc;let{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new ot;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(o,"error",s),O(s)){let a={data:null,error:s};return Jd(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,i=!0){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Je(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Yi(this.userStorage,this.storageKey+"-user",{user:r.user});let o=Object.assign({},r);delete o.user;let s=ly(o);await Yi(this.storage,this.storageKey,s)}else{let o=ly(r);await Yi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Je(this.storage,this.storageKey),await Je(this.storage,this.storageKey+"-code-verifier"),await Je(this.storage,this.storageKey+"-user"),this.userStorage&&await Je(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ve()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),zi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);let r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);let r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let t=Date.now();try{return await this._useSession(async r=>{let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-t)/zi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${zi}ms, refresh threshold is ${Wd} ticks`),o<=Wd&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ac)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ve()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,i){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[s,a]=await Ji(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});o.push(c.toString())}if(i?.queryParams){let s=new URLSearchParams(i.queryParams);o.push(s.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;return s?this._returnResult({data:null,error:s}):await L(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var i,o;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await L(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?IC(t.webauthn.credential_response):xC(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:l}=await L(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=await L(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:CC(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:SC(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){let{data:r,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;let{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let s of(t=r?.factors)!==null&&t!==void 0?t:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,i,o,s;if(t)try{let{payload:p}=Mc(t),g=null;p.aal&&(g=p.aal);let m=g,{data:{user:y},error:v}=await this.getUser(t);if(v)return this._returnResult({data:null,error:v});((i=(r=y?.factors)===null||r===void 0?void 0:r.filter(w=>w.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");let b=p.amr||[];return{data:{currentLevel:g,nextLevel:m,currentAuthenticationMethods:b},error:null}}catch(p){if(O(p))return this._returnResult({data:null,error:p});throw p}let{data:{session:a},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:l}=Mc(a.access_token),u=null;l.aal&&(u=l.aal);let d=u;((s=(o=a.user.factors)===null||o===void 0?void 0:o.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");let f=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await L(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ot})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async i=>{let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new ot});let a=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Ve()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(i){if(O(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,r){try{return await this._useSession(async i=>{let{data:{session:o},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!o)return this._returnResult({data:null,error:new ot});let a=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&Ve()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(i){if(O(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{let{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?await L(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new ot})})}catch(t){if(O(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(await L(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ot})})}catch(r){if(O(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let i=r.keys.find(c=>c.kid===t);if(i)return i;let o=Date.now();if(i=this.jwks.keys.find(c=>c.kid===t),i&&this.jwks_cached_at+ZE>o)return i;let{data:s,error:a}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=o,i=s.keys.find(c=>c.kid===t),!i)?null:i}async getClaims(t,r={}){try{let i=t;if(!i){let{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});i=p.session.access_token}let{header:o,payload:s,signature:a,raw:{header:c,payload:l}}=Mc(i);r?.allowExpired||dC(s.exp);let u=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){let{error:p}=await this.getUser(i);if(p)throw p;return{data:{claims:s,header:o,signature:a},error:null}}let d=fC(o.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,rC(`${c}.${l}`)))throw new qi("Invalid JWT signature");return{data:{claims:s,header:o,signature:a},error:null}}catch(i){if(O(i))return this._returnResult({data:null,error:i});throw i}}}return e.nextInstanceID={},e})(),yy=U1;var $1=yy,vy=$1;var H1="2.93.2",Rc="";typeof Deno<"u"?Rc="deno":typeof document<"u"?Rc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rc="react-native":Rc="node";var z1={"X-Client-Info":`supabase-js-${Rc}/${H1}`},W1={headers:z1},G1={schema:"public"},q1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},K1={};function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},kc(e)}function Y1(e,n){if(kc(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n||"default");if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function J1(e){var n=Y1(e,"string");return kc(n)=="symbol"?n:n+""}function Z1(e,n,t){return(n=J1(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function MC(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function Ae(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?MC(Object(t),!0).forEach(function(r){Z1(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):MC(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var Q1=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),X1=()=>Headers,eF=(e,n,t)=>{let r=Q1(t),i=X1();return async(o,s)=>{var a;let c=(a=await n())!==null&&a!==void 0?a:e,l=new i(s?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,Ae(Ae({},s),{},{headers:l}))}};function tF(e){return e.endsWith("/")?e:e+"/"}function nF(e,n){var t,r;let{db:i,auth:o,realtime:s,global:a}=e,{db:c,auth:l,realtime:u,global:d}=n,h={db:Ae(Ae({},c),i),auth:Ae(Ae({},l),o),realtime:Ae(Ae({},u),s),storage:{},global:Ae(Ae(Ae({},d),a),{},{headers:Ae(Ae({},(t=d?.headers)!==null&&t!==void 0?t:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function rF(e){let n=e?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(tF(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var iF=class extends vy{constructor(e){super(e)}},oF=class{constructor(e,n,t){var r,i;this.supabaseUrl=e,this.supabaseKey=n;let o=rF(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);let s=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:G1,realtime:K1,auth:Ae(Ae({},q1),{},{storageKey:s}),global:W1},c=nF(t??{},a);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(u,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var l;this.auth=this._initSupabaseAuthClient((l=c.auth)!==null&&l!==void 0?l:{},this.headers,c.global.fetch)}this.fetch=eF(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Ae({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new kE(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new GE(this.storageUrl.href,this.headers,this.fetch,t?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new pc(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,t)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,n,t;if(e.accessToken)return await e.accessToken();let{data:r}=await e.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:t,storage:r,userStorage:i,storageKey:o,flowType:s,lock:a,debug:c,throwOnError:l},u,d){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iF({url:this.authUrl.href,headers:Ae(Ae({},h),u),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:t,storage:r,userStorage:i,flowType:s,lock:a,debug:c,throwOnError:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new bc(this.realtimeUrl.href,Ae(Ae({},e),{},{params:Ae(Ae({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,n)=>{this._handleTokenChanged(e,"CLIENT",n?.access_token)})}_handleTokenChanged(e,n,t){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}},AC=(e,n,t)=>new oF(e,n,t);function sF(){if(typeof window<"u")return!1;let e=globalThis.process;if(!e)return!1;let n=e.version;if(n==null)return!1;let t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}sF()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var pt=AC("https://kmbhzpfwhzxpobhjbyvt.supabase.co","sb_publishable_hu-YJAvolnoKaMh2dvPC1w_Ou_W19Av");function aF(e,n){if(e&1&&(x(0,"div",20),M(1),I()),e&2){let t=xr();V(),ze(" ",t.errorMessage," ")}}var sf=class e{constructor(n,t){this.router=n;this.cdr=t}username="";password="";errorMessage="";loading=!1;showPassword=!1;async login(){this.errorMessage="",this.loading=!0;let[n,t]=await Promise.all([pt.from("users").select("id").eq("username",this.username).eq("password",this.password).limit(1).maybeSingle(),pt.from("nutritionists").select("id").eq("username",this.username).eq("password",this.password).limit(1).maybeSingle()]);if(this.loading=!1,n.data){if(n.data){localStorage.setItem("user_id",n.data.id),this.router.navigate(["/user-dashboard"]);return}return}if(t.data){localStorage.setItem("nutri_id",t.data.id),this.router.navigate(["/nutri-dashboard"]);return}this.errorMessage="Invalid username or password",this.cdr.detectChanges()}goToSignUp(){this.router.navigate(["/sign-up"])}static \u0275fac=function(t){return new(t||e)(F(Ye),F(qe))};static \u0275cmp=Fe({type:e,selectors:[["app-home"]],decls:27,vars:6,consts:[["form","ngForm"],[1,"page-bg"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],[1,"navbar-brand"],[1,"container","vh-100","d-flex","align-items-center","justify-content-center"],[1,"row","shadow","rounded","overflow-hidden",2,"max-width","900px","width","100%"],[1,"col-md-6","p-0","d-none","d-md-block"],["src","https://lipsum.app/random/640x880/","alt","Loading...",1,"img-fluid","h-100","w-100",2,"object-fit","cover"],[1,"col-md-6","bg-white","p-5","d-flex","flex-column","justify-content-center"],[1,"mb-4","text-center"],[3,"ngSubmit"],["type","email","placeholder","Email","name","username","required","",1,"form-control","mb-3",3,"ngModelChange","ngModel"],[1,"input-group","mb-3"],["placeholder","Password","name","password","required","",1,"form-control",3,"ngModelChange","type","ngModel"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"btn","btn-primary","w-100","mb-3",3,"disabled"],["class","text-danger text-center mb-2",4,"ngIf"],[1,"text-center"],["role","button",3,"click"],[1,"text-danger","text-center","mb-2"]],template:function(t,r){if(t&1){let i=Jn();x(0,"div",1)(1,"nav",2)(2,"div",3)(3,"a",4),M(4,"CalTrack"),I()()(),x(5,"div",5)(6,"div",6)(7,"div",7),ht(8,"img",8),I(),x(9,"div",9)(10,"h3",10),M(11,"Sign In"),I(),x(12,"form",11,0),te("ngSubmit",function(){return ne(i),re(r.login())}),x(14,"input",12),Ge("ngModelChange",function(s){return ne(i),it(r.username,s)||(r.username=s),re(s)}),I(),x(15,"div",13)(16,"input",14),Ge("ngModelChange",function(s){return ne(i),it(r.password,s)||(r.password=s),re(s)}),I(),x(17,"button",15),te("click",function(){return ne(i),re(r.showPassword=!r.showPassword)}),M(18," \u{1F441} "),I()(),x(19,"button",16),M(20),I()(),Lt(21,aF,2,1,"div",17),x(22,"div",18)(23,"small"),M(24," Don\u2019t have an account? "),x(25,"a",19),te("click",function(){return ne(i),re(r.goToSignUp())}),M(26,"Sign up"),I()()()()()()()}if(t&2){let i=Ia(13);V(14),We("ngModel",r.username),V(2),De("type",r.showPassword?"text":"password"),We("ngModel",r.password),V(3),De("disabled",i.invalid||r.loading),V(),ze(" ",r.loading?"Checking...":"Log In"," "),V(),De("ngIf",r.errorMessage)}},dependencies:[qt,mn,ds,us,Fr,cs,ls,$i,Ui,Bi],styles:[".page-bg[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#498d8d,#e6f6f4,#eefcff)}"]})};function Pc(e){return e+.5|0}var Ur=(e,n,t)=>Math.max(Math.min(e,t),n);function Nc(e){return Ur(Pc(e*2.55),0,255)}function $r(e){return Ur(Pc(e*255),0,255)}function rr(e){return Ur(Pc(e/2.55)/100,0,1)}function RC(e){return Ur(Pc(e*100),0,100)}var Zt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_y=[..."0123456789ABCDEF"],cF=e=>_y[e&15],lF=e=>_y[(e&240)>>4]+_y[e&15],af=e=>(e&240)>>4===(e&15),uF=e=>af(e.r)&&af(e.g)&&af(e.b)&&af(e.a);function dF(e){var n=e.length,t;return e[0]==="#"&&(n===4||n===5?t={r:255&Zt[e[1]]*17,g:255&Zt[e[2]]*17,b:255&Zt[e[3]]*17,a:n===5?Zt[e[4]]*17:255}:(n===7||n===9)&&(t={r:Zt[e[1]]<<4|Zt[e[2]],g:Zt[e[3]]<<4|Zt[e[4]],b:Zt[e[5]]<<4|Zt[e[6]],a:n===9?Zt[e[7]]<<4|Zt[e[8]]:255})),t}var fF=(e,n)=>e<255?n(e):"";function hF(e){var n=uF(e)?cF:lF;return e?"#"+n(e.r)+n(e.g)+n(e.b)+fF(e.a,n):void 0}var pF=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function PC(e,n,t){let r=n*Math.min(t,1-t),i=(o,s=(o+e/30)%12)=>t-r*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function gF(e,n,t){let r=(i,o=(i+e/60)%6)=>t-t*n*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function mF(e,n,t){let r=PC(e,1,.5),i;for(n+t>1&&(i=1/(n+t),n*=i,t*=i),i=0;i<3;i++)r[i]*=1-n-t,r[i]+=n;return r}function yF(e,n,t,r,i){return e===i?(n-t)/r+(n<t?6:0):n===i?(t-e)/r+2:(e-n)/r+4}function wy(e){let t=e.r/255,r=e.g/255,i=e.b/255,o=Math.max(t,r,i),s=Math.min(t,r,i),a=(o+s)/2,c,l,u;return o!==s&&(u=o-s,l=a>.5?u/(2-o-s):u/(o+s),c=yF(t,r,i,u,o),c=c*60+.5),[c|0,l||0,a]}function Dy(e,n,t,r){return(Array.isArray(n)?e(n[0],n[1],n[2]):e(n,t,r)).map($r)}function Ey(e,n,t){return Dy(PC,e,n,t)}function vF(e,n,t){return Dy(mF,e,n,t)}function bF(e,n,t){return Dy(gF,e,n,t)}function FC(e){return(e%360+360)%360}function _F(e){let n=pF.exec(e),t=255,r;if(!n)return;n[5]!==r&&(t=n[6]?Nc(+n[5]):$r(+n[5]));let i=FC(+n[2]),o=+n[3]/100,s=+n[4]/100;return n[1]==="hwb"?r=vF(i,o,s):n[1]==="hsv"?r=bF(i,o,s):r=Ey(i,o,s),{r:r[0],g:r[1],b:r[2],a:t}}function wF(e,n){var t=wy(e);t[0]=FC(t[0]+n),t=Ey(t),e.r=t[0],e.g=t[1],e.b=t[2]}function DF(e){if(!e)return;let n=wy(e),t=n[0],r=RC(n[1]),i=RC(n[2]);return e.a<255?`hsla(${t}, ${r}%, ${i}%, ${rr(e.a)})`:`hsl(${t}, ${r}%, ${i}%)`}var kC={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},NC={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function EF(){let e={},n=Object.keys(NC),t=Object.keys(kC),r,i,o,s,a;for(r=0;r<n.length;r++){for(s=a=n[r],i=0;i<t.length;i++)o=t[i],a=a.replace(o,kC[o]);o=parseInt(NC[s],16),e[a]=[o>>16&255,o>>8&255,o&255]}return e}var cf;function CF(e){cf||(cf=EF(),cf.transparent=[0,0,0,0]);let n=cf[e.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:n.length===4?n[3]:255}}var SF=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function IF(e){let n=SF.exec(e),t=255,r,i,o;if(n){if(n[7]!==r){let s=+n[7];t=n[8]?Nc(s):Ur(s*255,0,255)}return r=+n[1],i=+n[3],o=+n[5],r=255&(n[2]?Nc(r):Ur(r,0,255)),i=255&(n[4]?Nc(i):Ur(i,0,255)),o=255&(n[6]?Nc(o):Ur(o,0,255)),{r,g:i,b:o,a:t}}}function xF(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${rr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}var by=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Es=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function TF(e,n,t){let r=Es(rr(e.r)),i=Es(rr(e.g)),o=Es(rr(e.b));return{r:$r(by(r+t*(Es(rr(n.r))-r))),g:$r(by(i+t*(Es(rr(n.g))-i))),b:$r(by(o+t*(Es(rr(n.b))-o))),a:e.a+t*(n.a-e.a)}}function lf(e,n,t){if(e){let r=wy(e);r[n]=Math.max(0,Math.min(r[n]+r[n]*t,n===0?360:1)),r=Ey(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function LC(e,n){return e&&Object.assign(n||{},e)}function OC(e){var n={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(n={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(n.a=$r(e[3]))):(n=LC(e,{r:0,g:0,b:0,a:1}),n.a=$r(n.a)),n}function MF(e){return e.charAt(0)==="r"?IF(e):_F(e)}var Oc=class e{constructor(n){if(n instanceof e)return n;let t=typeof n,r;t==="object"?r=OC(n):t==="string"&&(r=dF(n)||CF(n)||MF(n)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var n=LC(this._rgb);return n&&(n.a=rr(n.a)),n}set rgb(n){this._rgb=OC(n)}rgbString(){return this._valid?xF(this._rgb):void 0}hexString(){return this._valid?hF(this._rgb):void 0}hslString(){return this._valid?DF(this._rgb):void 0}mix(n,t){if(n){let r=this.rgb,i=n.rgb,o,s=t===o?.5:t,a=2*s-1,c=r.a-i.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;o=1-l,r.r=255&l*r.r+o*i.r+.5,r.g=255&l*r.g+o*i.g+.5,r.b=255&l*r.b+o*i.b+.5,r.a=s*r.a+(1-s)*i.a,this.rgb=r}return this}interpolate(n,t){return n&&(this._rgb=TF(this._rgb,n._rgb,t)),this}clone(){return new e(this.rgb)}alpha(n){return this._rgb.a=$r(n),this}clearer(n){let t=this._rgb;return t.a*=1-n,this}greyscale(){let n=this._rgb,t=Pc(n.r*.3+n.g*.59+n.b*.11);return n.r=n.g=n.b=t,this}opaquer(n){let t=this._rgb;return t.a*=1+n,this}negate(){let n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return lf(this._rgb,2,n),this}darken(n){return lf(this._rgb,2,-n),this}saturate(n){return lf(this._rgb,1,n),this}desaturate(n){return lf(this._rgb,1,-n),this}rotate(n){return wF(this._rgb,n),this}};function Ln(){}var KC=(()=>{let e=0;return()=>e++})();function Z(e){return e==null}function ye(e){if(Array.isArray&&Array.isArray(e))return!0;let n=Object.prototype.toString.call(e);return n.slice(0,7)==="[object"&&n.slice(-6)==="Array]"}function Q(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function xe(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Mt(e,n){return xe(e)?e:n}function U(e,n){return typeof e>"u"?n:e}var YC=(e,n)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/n,xy=(e,n)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*n:+e;function ge(e,n,t){if(e&&typeof e.call=="function")return e.apply(t,n)}function he(e,n,t,r){let i,o,s;if(ye(e))if(o=e.length,r)for(i=o-1;i>=0;i--)n.call(t,e[i],i);else for(i=0;i<o;i++)n.call(t,e[i],i);else if(Q(e))for(s=Object.keys(e),o=s.length,i=0;i<o;i++)n.call(t,e[s[i]],s[i])}function jc(e,n){let t,r,i,o;if(!e||!n||e.length!==n.length)return!1;for(t=0,r=e.length;t<r;++t)if(i=e[t],o=n[t],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function hf(e){if(ye(e))return e.map(hf);if(Q(e)){let n=Object.create(null),t=Object.keys(e),r=t.length,i=0;for(;i<r;++i)n[t[i]]=hf(e[t[i]]);return n}return e}function JC(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function AF(e,n,t,r){if(!JC(e))return;let i=n[e],o=t[e];Q(i)&&Q(o)?Ss(i,o,r):n[e]=hf(o)}function Ss(e,n,t){let r=ye(n)?n:[n],i=r.length;if(!Q(e))return e;t=t||{};let o=t.merger||AF,s;for(let a=0;a<i;++a){if(s=r[a],!Q(s))continue;let c=Object.keys(s);for(let l=0,u=c.length;l<u;++l)o(c[l],e,s,t)}return e}function xs(e,n){return Ss(e,n,{merger:RF})}function RF(e,n,t){if(!JC(e))return;let r=n[e],i=t[e];Q(r)&&Q(i)?xs(r,i):Object.prototype.hasOwnProperty.call(n,e)||(n[e]=hf(i))}var jC={"":e=>e,x:e=>e.x,y:e=>e.y};function kF(e){let n=e.split("."),t=[],r="";for(let i of n)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function NF(e){let n=kF(e);return t=>{for(let r of n){if(r==="")break;t=t&&t[r]}return t}}function sr(e,n){return(jC[n]||(jC[n]=NF(n)))(e)}function yf(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Ts=e=>typeof e<"u",ir=e=>typeof e=="function",Ty=(e,n)=>{if(e.size!==n.size)return!1;for(let t of e)if(!n.has(t))return!1;return!0};function ZC(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}var oe=Math.PI,ve=2*oe,OF=ve+oe,pf=Number.POSITIVE_INFINITY,PF=oe/180,Re=oe/2,to=oe/4,VC=oe*2/3,or=Math.log10,wn=Math.sign;function Ms(e,n,t){return Math.abs(e-n)<t}function My(e){let n=Math.round(e);e=Ms(e,n,e/1e3)?n:e;let t=Math.pow(10,Math.floor(or(e))),r=e/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function QC(e){let n=[],t=Math.sqrt(e),r;for(r=1;r<t;r++)e%r===0&&(n.push(r),n.push(e/r));return t===(t|0)&&n.push(t),n.sort((i,o)=>i-o).pop(),n}function FF(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function io(e){return!FF(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function XC(e,n){let t=Math.round(e);return t-n<=e&&t+n>=e}function Ay(e,n,t){let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r][t],isNaN(o)||(n.min=Math.min(n.min,o),n.max=Math.max(n.max,o))}function Qt(e){return e*(oe/180)}function vf(e){return e*(180/oe)}function Ry(e){if(!xe(e))return;let n=1,t=0;for(;Math.round(e*n)/n!==e;)n*=10,t++;return t}function ky(e,n){let t=n.x-e.x,r=n.y-e.y,i=Math.sqrt(t*t+r*r),o=Math.atan2(r,t);return o<-.5*oe&&(o+=ve),{angle:o,distance:i}}function gf(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function LF(e,n){return(e-n+OF)%ve-oe}function st(e){return(e%ve+ve)%ve}function As(e,n,t,r){let i=st(e),o=st(n),s=st(t),a=st(o-i),c=st(s-i),l=st(i-o),u=st(i-s);return i===o||i===s||r&&o===s||a>c&&l<u}function Be(e,n,t){return Math.max(n,Math.min(t,e))}function eS(e){return Be(e,-32768,32767)}function jn(e,n,t,r=1e-6){return e>=Math.min(n,t)-r&&e<=Math.max(n,t)+r}function bf(e,n,t){t=t||(s=>e[s]<n);let r=e.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,t(o)?i=o:r=o;return{lo:i,hi:r}}var Pn=(e,n,t,r)=>bf(e,t,r?i=>{let o=e[i][n];return o<t||o===t&&e[i+1][n]===t}:i=>e[i][n]<t),tS=(e,n,t)=>bf(e,t,r=>e[r][n]>=t);function nS(e,n,t){let r=0,i=e.length;for(;r<i&&e[r]<n;)r++;for(;i>r&&e[i-1]>t;)i--;return r>0||i<e.length?e.slice(r,i):e}var rS=["push","pop","shift","splice","unshift"];function iS(e,n){if(e._chartjs){e._chartjs.listeners.push(n);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),rS.forEach(t=>{let r="_onData"+yf(t),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...o){let s=i.apply(this,o);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...o)}),s}})})}function Ny(e,n){let t=e._chartjs;if(!t)return;let r=t.listeners,i=r.indexOf(n);i!==-1&&r.splice(i,1),!(r.length>0)&&(rS.forEach(o=>{delete e[o]}),delete e._chartjs)}function Oy(e){let n=new Set(e);return n.size===e.length?e:Array.from(n)}var Py=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function Fy(e,n){let t=[],r=!1;return function(...i){t=i,r||(r=!0,Py.call(window,()=>{r=!1,e.apply(n,t)}))}}function oS(e,n){let t;return function(...r){return n?(clearTimeout(t),t=setTimeout(e,n,r)):e.apply(this,r),n}}var _f=e=>e==="start"?"left":e==="end"?"right":"center",at=(e,n,t)=>e==="start"?n:e==="end"?t:(n+t)/2,sS=(e,n,t,r)=>e===(r?"left":"right")?t:e==="center"?(n+t)/2:n;function Ly(e,n,t){let r=n.length,i=0,o=r;if(e._sorted){let{iScale:s,vScale:a,_parsed:c}=e,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=s.axis,{min:d,max:h,minDefined:f,maxDefined:p}=s.getUserBounds();if(f){if(i=Math.min(Pn(c,u,d).lo,t?r:Pn(n,u,s.getPixelForValue(d)).lo),l){let g=c.slice(0,i+1).reverse().findIndex(m=>!Z(m[a.axis]));i-=Math.max(0,g)}i=Be(i,0,r-1)}if(p){let g=Math.max(Pn(c,s.axis,h,!0).hi+1,t?0:Pn(n,u,s.getPixelForValue(h),!0).hi+1);if(l){let m=c.slice(g-1).findIndex(y=>!Z(y[a.axis]));g+=Math.max(0,m)}o=Be(g,i,r)-i}else o=r-i}return{start:i,count:o}}function jy(e){let{xScale:n,yScale:t,_scaleRanges:r}=e,i={xmin:n.min,xmax:n.max,ymin:t.min,ymax:t.max};if(!r)return e._scaleRanges=i,!0;let o=r.xmin!==n.min||r.xmax!==n.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),o}var uf=e=>e===0||e===1,BC=(e,n,t)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-n)*ve/t)),UC=(e,n,t)=>Math.pow(2,-10*e)*Math.sin((e-n)*ve/t)+1,Cs={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Re)+1,easeOutSine:e=>Math.sin(e*Re),easeInOutSine:e=>-.5*(Math.cos(oe*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>uf(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>uf(e)?e:BC(e,.075,.3),easeOutElastic:e=>uf(e)?e:UC(e,.075,.3),easeInOutElastic(e){return uf(e)?e:e<.5?.5*BC(e*2,.1125,.45):.5+.5*UC(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let n=1.70158;return(e/=.5)<1?.5*(e*e*(((n*=1.525)+1)*e-n)):.5*((e-=2)*e*(((n*=1.525)+1)*e+n)+2)},easeInBounce:e=>1-Cs.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Cs.easeInBounce(e*2)*.5:Cs.easeOutBounce(e*2-1)*.5+.5};function Vy(e){if(e&&typeof e=="object"){let n=e.toString();return n==="[object CanvasPattern]"||n==="[object CanvasGradient]"}return!1}function By(e){return Vy(e)?e:new Oc(e)}function Cy(e){return Vy(e)?e:new Oc(e).saturate(.5).darken(.1).hexString()}var jF=["x","y","borderWidth","radius","tension"],VF=["color","borderColor","backgroundColor"];function BF(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"}),e.set("animations",{colors:{type:"color",properties:VF},numbers:{type:"number",properties:jF}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}})}function UF(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var $C=new Map;function $F(e,n){n=n||{};let t=e+JSON.stringify(n),r=$C.get(t);return r||(r=new Intl.NumberFormat(e,n),$C.set(t,r)),r}function Rs(e,n,t){return $F(n,t).format(e)}var aS={values(e){return ye(e)?e:""+e},numeric(e,n,t){if(e===0)return"0";let r=this.chart.options.locale,i,o=e;if(t.length>1){let l=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(l<1e-4||l>1e15)&&(i="scientific"),o=HF(e,t)}let s=or(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Rs(e,r,c)},logarithmic(e,n,t){if(e===0)return"0";let r=t[n].significand||e/Math.pow(10,Math.floor(or(e)));return[1,2,3,5,10,15].includes(r)||n>.8*t.length?aS.numeric.call(this,e,n,t):""}};function HF(e,n){let t=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(t)>=1&&e!==Math.floor(e)&&(t=e-Math.floor(e)),t}var Vc={formatters:aS};function zF(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Vc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"&&n!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"})}var Wr=Object.create(null),wf=Object.create(null);function Fc(e,n){if(!n)return e;let t=n.split(".");for(let r=0,i=t.length;r<i;++r){let o=t[r];e=e[o]||(e[o]=Object.create(null))}return e}function Sy(e,n,t){return typeof n=="string"?Ss(Fc(e,n),t):Ss(Fc(e,""),n)}var Iy=class{constructor(n,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Cy(i.backgroundColor),this.hoverBorderColor=(r,i)=>Cy(i.borderColor),this.hoverColor=(r,i)=>Cy(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n),this.apply(t)}set(n,t){return Sy(this,n,t)}get(n){return Fc(this,n)}describe(n,t){return Sy(wf,n,t)}override(n,t){return Sy(Wr,n,t)}route(n,t,r,i){let o=Fc(this,n),s=Fc(this,r),a="_"+t;Object.defineProperties(o,{[a]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){let c=this[a],l=s[i];return Q(c)?Object.assign({},l,c):U(c,l)},set(c){this[a]=c}}})}apply(n){n.forEach(t=>t(this))}},_e=new Iy({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[BF,UF,zF]);function WF(e){return!e||Z(e.size)||Z(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Lc(e,n,t,r,i){let o=n[i];return o||(o=n[i]=e.measureText(i).width,t.push(i)),o>r&&(r=o),r}function cS(e,n,t,r){r=r||{};let i=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==n&&(i=r.data={},o=r.garbageCollect=[],r.font=n),e.save(),e.font=n;let s=0,a=t.length,c,l,u,d,h;for(c=0;c<a;c++)if(d=t[c],d!=null&&!ye(d))s=Lc(e,i,o,s,d);else if(ye(d))for(l=0,u=d.length;l<u;l++)h=d[l],h!=null&&!ye(h)&&(s=Lc(e,i,o,s,h));e.restore();let f=o.length/2;if(f>t.length){for(c=0;c<f;c++)delete i[o[c]];o.splice(0,f)}return s}function Gr(e,n,t){let r=e.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((n-i)*r)/r+i}function Uy(e,n){!n&&!e||(n=n||e.getContext("2d"),n.save(),n.resetTransform(),n.clearRect(0,0,e.width,e.height),n.restore())}function Df(e,n,t,r){$y(e,n,t,r,null)}function $y(e,n,t,r,i){let o,s,a,c,l,u,d,h,f=n.pointStyle,p=n.rotation,g=n.radius,m=(p||0)*PF;if(f&&typeof f=="object"&&(o=f.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(t,r),e.rotate(m),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),f){default:i?e.ellipse(t,r,i/2,g,0,0,ve):e.arc(t,r,g,0,ve),e.closePath();break;case"triangle":u=i?i/2:g,e.moveTo(t+Math.sin(m)*u,r-Math.cos(m)*g),m+=VC,e.lineTo(t+Math.sin(m)*u,r-Math.cos(m)*g),m+=VC,e.lineTo(t+Math.sin(m)*u,r-Math.cos(m)*g),e.closePath();break;case"rectRounded":l=g*.516,c=g-l,s=Math.cos(m+to)*c,d=Math.cos(m+to)*(i?i/2-l:c),a=Math.sin(m+to)*c,h=Math.sin(m+to)*(i?i/2-l:c),e.arc(t-d,r-a,l,m-oe,m-Re),e.arc(t+h,r-s,l,m-Re,m),e.arc(t+d,r+a,l,m,m+Re),e.arc(t-h,r+s,l,m+Re,m+oe),e.closePath();break;case"rect":if(!p){c=Math.SQRT1_2*g,u=i?i/2:c,e.rect(t-u,r-c,2*u,2*c);break}m+=to;case"rectRot":d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),e.moveTo(t-d,r-a),e.lineTo(t+h,r-s),e.lineTo(t+d,r+a),e.lineTo(t-h,r+s),e.closePath();break;case"crossRot":m+=to;case"cross":d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),e.moveTo(t-d,r-a),e.lineTo(t+d,r+a),e.moveTo(t+h,r-s),e.lineTo(t-h,r+s);break;case"star":d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),e.moveTo(t-d,r-a),e.lineTo(t+d,r+a),e.moveTo(t+h,r-s),e.lineTo(t-h,r+s),m+=to,d=Math.cos(m)*(i?i/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(i?i/2:g),e.moveTo(t-d,r-a),e.lineTo(t+d,r+a),e.moveTo(t+h,r-s),e.lineTo(t-h,r+s);break;case"line":s=i?i/2:Math.cos(m)*g,a=Math.sin(m)*g,e.moveTo(t-s,r-a),e.lineTo(t+s,r+a);break;case"dash":e.moveTo(t,r),e.lineTo(t+Math.cos(m)*(i?i/2:g),r+Math.sin(m)*g);break;case!1:e.closePath();break}e.fill(),n.borderWidth>0&&e.stroke()}}function Fn(e,n,t){return t=t||.5,!n||e&&e.x>n.left-t&&e.x<n.right+t&&e.y>n.top-t&&e.y<n.bottom+t}function Bc(e,n){e.save(),e.beginPath(),e.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),e.clip()}function Uc(e){e.restore()}function lS(e,n,t,r,i){if(!n)return e.lineTo(t.x,t.y);if(i==="middle"){let o=(n.x+t.x)/2;e.lineTo(o,n.y),e.lineTo(o,t.y)}else i==="after"!=!!r?e.lineTo(n.x,t.y):e.lineTo(t.x,n.y);e.lineTo(t.x,t.y)}function uS(e,n,t,r){if(!n)return e.lineTo(t.x,t.y);e.bezierCurveTo(r?n.cp1x:n.cp2x,r?n.cp1y:n.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function GF(e,n){n.translation&&e.translate(n.translation[0],n.translation[1]),Z(n.rotation)||e.rotate(n.rotation),n.color&&(e.fillStyle=n.color),n.textAlign&&(e.textAlign=n.textAlign),n.textBaseline&&(e.textBaseline=n.textBaseline)}function qF(e,n,t,r,i){if(i.strikethrough||i.underline){let o=e.measureText(r),s=n-o.actualBoundingBoxLeft,a=n+o.actualBoundingBoxRight,c=t-o.actualBoundingBoxAscent,l=t+o.actualBoundingBoxDescent,u=i.strikethrough?(c+l)/2:l;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(s,u),e.lineTo(a,u),e.stroke()}}function KF(e,n){let t=e.fillStyle;e.fillStyle=n.color,e.fillRect(n.left,n.top,n.width,n.height),e.fillStyle=t}function qr(e,n,t,r,i,o={}){let s=ye(n)?n:[n],a=o.strokeWidth>0&&o.strokeColor!=="",c,l;for(e.save(),e.font=i.string,GF(e,o),c=0;c<s.length;++c)l=s[c],o.backdrop&&KF(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),Z(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(l,t,r,o.maxWidth)),e.fillText(l,t,r,o.maxWidth),qF(e,t,r,l,o),r+=Number(i.lineHeight);e.restore()}function ks(e,n){let{x:t,y:r,w:i,h:o,radius:s}=n;e.arc(t+s.topLeft,r+s.topLeft,s.topLeft,1.5*oe,oe,!0),e.lineTo(t,r+o-s.bottomLeft),e.arc(t+s.bottomLeft,r+o-s.bottomLeft,s.bottomLeft,oe,Re,!0),e.lineTo(t+i-s.bottomRight,r+o),e.arc(t+i-s.bottomRight,r+o-s.bottomRight,s.bottomRight,Re,0,!0),e.lineTo(t+i,r+s.topRight),e.arc(t+i-s.topRight,r+s.topRight,s.topRight,0,-Re,!0),e.lineTo(t+s.topLeft,r)}var YF=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,JF=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ZF(e,n){let t=(""+e).match(YF);if(!t||t[1]==="normal")return n*1.2;switch(e=+t[2],t[3]){case"px":return e;case"%":e/=100;break}return n*e}var QF=e=>+e||0;function Ef(e,n){let t={},r=Q(n),i=r?Object.keys(n):n,o=Q(e)?r?s=>U(e[s],e[n[s]]):s=>e[s]:()=>e;for(let s of i)t[s]=QF(o(s));return t}function Hy(e){return Ef(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Kr(e){return Ef(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ct(e){let n=Hy(e);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function Pe(e,n){e=e||{},n=n||_e.font;let t=U(e.size,n.size);typeof t=="string"&&(t=parseInt(t,10));let r=U(e.style,n.style);r&&!(""+r).match(JF)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);let i={family:U(e.family,n.family),lineHeight:ZF(U(e.lineHeight,n.lineHeight),t),size:t,style:r,weight:U(e.weight,n.weight),string:""};return i.string=WF(i),i}function Ns(e,n,t,r){let i=!0,o,s,a;for(o=0,s=e.length;o<s;++o)if(a=e[o],a!==void 0&&(n!==void 0&&typeof a=="function"&&(a=a(n),i=!1),t!==void 0&&ye(a)&&(a=a[t%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function dS(e,n,t){let{min:r,max:i}=e,o=xy(n,(i-r)/2),s=(a,c)=>t&&a===0?0:a+c;return{min:s(r,-Math.abs(o)),max:s(i,o)}}function ar(e,n){return Object.assign(Object.create(e),n)}function Cf(e,n=[""],t,r,i=()=>e[0]){let o=t||e;typeof r>"u"&&(r=pS("_fallback",e));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:r,_getTarget:i,override:a=>Cf([a,...e],n,o,r)};return new Proxy(s,{deleteProperty(a,c){return delete a[c],delete a._keys,delete e[0][c],!0},get(a,c){return fS(a,c,()=>sL(c,n,e,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,c){return zC(a).includes(c)},ownKeys(a){return zC(a)},set(a,c,l){let u=a._storage||(a._storage=i());return a[c]=u[c]=l,delete a._keys,!0}})}function ro(e,n,t,r){let i={_cacheable:!1,_proxy:e,_context:n,_subProxy:t,_stack:new Set,_descriptors:zy(e,r),setContext:o=>ro(e,o,t,r),override:o=>ro(e.override(o),n,t,r)};return new Proxy(i,{deleteProperty(o,s){return delete o[s],delete e[s],!0},get(o,s,a){return fS(o,s,()=>eL(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,s){return Reflect.has(e,s)},ownKeys(){return Reflect.ownKeys(e)},set(o,s,a){return e[s]=a,delete o[s],!0}})}function zy(e,n={scriptable:!0,indexable:!0}){let{_scriptable:t=n.scriptable,_indexable:r=n.indexable,_allKeys:i=n.allKeys}=e;return{allKeys:i,scriptable:t,indexable:r,isScriptable:ir(t)?t:()=>t,isIndexable:ir(r)?r:()=>r}}var XF=(e,n)=>e?e+yf(n):n,Wy=(e,n)=>Q(n)&&e!=="adapters"&&(Object.getPrototypeOf(n)===null||n.constructor===Object);function fS(e,n,t){if(Object.prototype.hasOwnProperty.call(e,n)||n==="constructor")return e[n];let r=t();return e[n]=r,r}function eL(e,n,t){let{_proxy:r,_context:i,_subProxy:o,_descriptors:s}=e,a=r[n];return ir(a)&&s.isScriptable(n)&&(a=tL(n,a,e,t)),ye(a)&&a.length&&(a=nL(n,a,e,s.isIndexable)),Wy(n,a)&&(a=ro(a,i,o&&o[n],s)),a}function tL(e,n,t,r){let{_proxy:i,_context:o,_subProxy:s,_stack:a}=t;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let c=n(o,s||r);return a.delete(e),Wy(e,c)&&(c=Gy(i._scopes,i,e,c)),c}function nL(e,n,t,r){let{_proxy:i,_context:o,_subProxy:s,_descriptors:a}=t;if(typeof o.index<"u"&&r(e))return n[o.index%n.length];if(Q(n[0])){let c=n,l=i._scopes.filter(u=>u!==c);n=[];for(let u of c){let d=Gy(l,i,e,u);n.push(ro(d,o,s&&s[e],a))}}return n}function hS(e,n,t){return ir(e)?e(n,t):e}var rL=(e,n)=>e===!0?n:typeof e=="string"?sr(n,e):void 0;function iL(e,n,t,r,i){for(let o of n){let s=rL(t,o);if(s){e.add(s);let a=hS(s._fallback,t,i);if(typeof a<"u"&&a!==t&&a!==r)return a}else if(s===!1&&typeof r<"u"&&t!==r)return null}return!1}function Gy(e,n,t,r){let i=n._rootScopes,o=hS(n._fallback,t,r),s=[...e,...i],a=new Set;a.add(r);let c=HC(a,s,t,o||t,r);return c===null||typeof o<"u"&&o!==t&&(c=HC(a,s,o,c,r),c===null)?!1:Cf(Array.from(a),[""],i,o,()=>oL(n,t,r))}function HC(e,n,t,r,i){for(;t;)t=iL(e,n,t,r,i);return t}function oL(e,n,t){let r=e._getTarget();n in r||(r[n]={});let i=r[n];return ye(i)&&Q(t)?t:i||{}}function sL(e,n,t,r){let i;for(let o of n)if(i=pS(XF(o,e),t),typeof i<"u")return Wy(e,i)?Gy(t,r,e,i):i}function pS(e,n){for(let t of n){if(!t)continue;let r=t[e];if(typeof r<"u")return r}}function zC(e){let n=e._keys;return n||(n=e._keys=aL(e._scopes)),n}function aL(e){let n=new Set;for(let t of e)for(let r of Object.keys(t).filter(i=>!i.startsWith("_")))n.add(r);return Array.from(n)}function qy(e,n,t,r){let{iScale:i}=e,{key:o="r"}=this._parsing,s=new Array(r),a,c,l,u;for(a=0,c=r;a<c;++a)l=a+t,u=n[l],s[a]={r:i.parse(sr(u,o),l)};return s}var cL=Number.EPSILON||1e-14,Is=(e,n)=>n<e.length&&!e[n].skip&&e[n],gS=e=>e==="x"?"y":"x";function lL(e,n,t,r){let i=e.skip?n:e,o=n,s=t.skip?n:t,a=gf(o,i),c=gf(s,o),l=a/(a+c),u=c/(a+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;let d=r*l,h=r*u;return{previous:{x:o.x-d*(s.x-i.x),y:o.y-d*(s.y-i.y)},next:{x:o.x+h*(s.x-i.x),y:o.y+h*(s.y-i.y)}}}function uL(e,n,t){let r=e.length,i,o,s,a,c,l=Is(e,0);for(let u=0;u<r-1;++u)if(c=l,l=Is(e,u+1),!(!c||!l)){if(Ms(n[u],0,cL)){t[u]=t[u+1]=0;continue}i=t[u]/n[u],o=t[u+1]/n[u],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),t[u]=i*s*n[u],t[u+1]=o*s*n[u])}}function dL(e,n,t="x"){let r=gS(t),i=e.length,o,s,a,c=Is(e,0);for(let l=0;l<i;++l){if(s=a,a=c,c=Is(e,l+1),!a)continue;let u=a[t],d=a[r];s&&(o=(u-s[t])/3,a[`cp1${t}`]=u-o,a[`cp1${r}`]=d-o*n[l]),c&&(o=(c[t]-u)/3,a[`cp2${t}`]=u+o,a[`cp2${r}`]=d+o*n[l])}}function fL(e,n="x"){let t=gS(n),r=e.length,i=Array(r).fill(0),o=Array(r),s,a,c,l=Is(e,0);for(s=0;s<r;++s)if(a=c,c=l,l=Is(e,s+1),!!c){if(l){let u=l[n]-c[n];i[s]=u!==0?(l[t]-c[t])/u:0}o[s]=a?l?wn(i[s-1])!==wn(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}uL(e,i,o),dL(e,o,n)}function df(e,n,t){return Math.max(Math.min(e,t),n)}function hL(e,n){let t,r,i,o,s,a=Fn(e[0],n);for(t=0,r=e.length;t<r;++t)s=o,o=a,a=t<r-1&&Fn(e[t+1],n),o&&(i=e[t],s&&(i.cp1x=df(i.cp1x,n.left,n.right),i.cp1y=df(i.cp1y,n.top,n.bottom)),a&&(i.cp2x=df(i.cp2x,n.left,n.right),i.cp2y=df(i.cp2y,n.top,n.bottom)))}function mS(e,n,t,r,i){let o,s,a,c;if(n.spanGaps&&(e=e.filter(l=>!l.skip)),n.cubicInterpolationMode==="monotone")fL(e,i);else{let l=r?e[e.length-1]:e[0];for(o=0,s=e.length;o<s;++o)a=e[o],c=lL(l,a,e[Math.min(o+1,s-(r?0:1))%s],n.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}n.capBezierPoints&&hL(e,t)}function Sf(){return typeof window<"u"&&typeof document<"u"}function If(e){let n=e.parentNode;return n&&n.toString()==="[object ShadowRoot]"&&(n=n.host),n}function mf(e,n,t){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*n.parentNode[t])):r=e,r}var xf=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function pL(e,n){return xf(e).getPropertyValue(n)}var gL=["top","right","bottom","left"];function no(e,n,t){let r={};t=t?"-"+t:"";for(let i=0;i<4;i++){let o=gL[i];r[o]=parseFloat(e[n+"-"+o+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var mL=(e,n,t)=>(e>0||n>0)&&(!t||!t.shadowRoot);function yL(e,n){let t=e.touches,r=t&&t.length?t[0]:e,{offsetX:i,offsetY:o}=r,s=!1,a,c;if(mL(i,o,e.target))a=i,c=o;else{let l=n.getBoundingClientRect();a=r.clientX-l.left,c=r.clientY-l.top,s=!0}return{x:a,y:c,box:s}}function Yr(e,n){if("native"in e)return e;let{canvas:t,currentDevicePixelRatio:r}=n,i=xf(t),o=i.boxSizing==="border-box",s=no(i,"padding"),a=no(i,"border","width"),{x:c,y:l,box:u}=yL(e,t),d=s.left+(u&&a.left),h=s.top+(u&&a.top),{width:f,height:p}=n;return o&&(f-=s.width+a.width,p-=s.height+a.height),{x:Math.round((c-d)/f*t.width/r),y:Math.round((l-h)/p*t.height/r)}}function vL(e,n,t){let r,i;if(n===void 0||t===void 0){let o=e&&If(e);if(!o)n=e.clientWidth,t=e.clientHeight;else{let s=o.getBoundingClientRect(),a=xf(o),c=no(a,"border","width"),l=no(a,"padding");n=s.width-l.width-c.width,t=s.height-l.height-c.height,r=mf(a.maxWidth,o,"clientWidth"),i=mf(a.maxHeight,o,"clientHeight")}}return{width:n,height:t,maxWidth:r||pf,maxHeight:i||pf}}var zr=e=>Math.round(e*10)/10;function yS(e,n,t,r){let i=xf(e),o=no(i,"margin"),s=mf(i.maxWidth,e,"clientWidth")||pf,a=mf(i.maxHeight,e,"clientHeight")||pf,c=vL(e,n,t),{width:l,height:u}=c;if(i.boxSizing==="content-box"){let h=no(i,"border","width"),f=no(i,"padding");l-=f.width+h.width,u-=f.height+h.height}return l=Math.max(0,l-o.width),u=Math.max(0,r?l/r:u-o.height),l=zr(Math.min(l,s,c.maxWidth)),u=zr(Math.min(u,a,c.maxHeight)),l&&!u&&(u=zr(l/2)),(n!==void 0||t!==void 0)&&r&&c.height&&u>c.height&&(u=c.height,l=zr(Math.floor(u*r))),{width:l,height:u}}function Ky(e,n,t){let r=n||1,i=zr(e.height*r),o=zr(e.width*r);e.height=zr(e.height),e.width=zr(e.width);let s=e.canvas;return s.style&&(t||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||s.height!==i||s.width!==o?(e.currentDevicePixelRatio=r,s.height=i,s.width=o,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}var vS=(function(){let e=!1;try{let n={get passive(){return e=!0,!1}};Sf()&&(window.addEventListener("test",null,n),window.removeEventListener("test",null,n))}catch{}return e})();function Yy(e,n){let t=pL(e,n),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Hr(e,n,t,r){return{x:e.x+t*(n.x-e.x),y:e.y+t*(n.y-e.y)}}function bS(e,n,t,r){return{x:e.x+t*(n.x-e.x),y:r==="middle"?t<.5?e.y:n.y:r==="after"?t<1?e.y:n.y:t>0?n.y:e.y}}function _S(e,n,t,r){let i={x:e.cp2x,y:e.cp2y},o={x:n.cp1x,y:n.cp1y},s=Hr(e,i,t),a=Hr(i,o,t),c=Hr(o,n,t),l=Hr(s,a,t),u=Hr(a,c,t);return Hr(l,u,t)}var bL=function(e,n){return{x(t){return e+e+n-t},setWidth(t){n=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},_L=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,n){return e+n},leftForLtr(e,n){return e}}};function oo(e,n,t){return e?bL(n,t):_L()}function Jy(e,n){let t,r;(n==="ltr"||n==="rtl")&&(t=e.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",n,"important"),e.prevTextDirection=r)}function Zy(e,n){n!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",n[0],n[1]))}function wS(e){return e==="angle"?{between:As,compare:LF,normalize:st}:{between:jn,compare:(n,t)=>n-t,normalize:n=>n}}function WC({start:e,end:n,count:t,loop:r,style:i}){return{start:e%t,end:n%t,loop:r&&(n-e+1)%t===0,style:i}}function wL(e,n,t){let{property:r,start:i,end:o}=t,{between:s,normalize:a}=wS(r),c=n.length,{start:l,end:u,loop:d}=e,h,f;if(d){for(l+=c,u+=c,h=0,f=c;h<f&&s(a(n[l%c][r]),i,o);++h)l--,u--;l%=c,u%=c}return u<l&&(u+=c),{start:l,end:u,loop:d,style:e.style}}function Qy(e,n,t){if(!t)return[e];let{property:r,start:i,end:o}=t,s=n.length,{compare:a,between:c,normalize:l}=wS(r),{start:u,end:d,loop:h,style:f}=wL(e,n,t),p=[],g=!1,m=null,y,v,_,b=()=>c(i,_,y)&&a(i,_)!==0,w=()=>a(o,y)===0||c(o,_,y),D=()=>g||b(),S=()=>!g||w();for(let E=u,N=u;E<=d;++E)v=n[E%s],!v.skip&&(y=l(v[r]),y!==_&&(g=c(y,i,o),m===null&&D()&&(m=a(y,i)===0?E:N),m!==null&&S()&&(p.push(WC({start:m,end:E,loop:h,count:s,style:f})),m=null),N=E,_=y));return m!==null&&p.push(WC({start:m,end:d,loop:h,count:s,style:f})),p}function Xy(e,n){let t=[],r=e.segments;for(let i=0;i<r.length;i++){let o=Qy(r[i],e.points,n);o.length&&t.push(...o)}return t}function DL(e,n,t,r){let i=0,o=n-1;if(t&&!r)for(;i<n&&!e[i].skip;)i++;for(;i<n&&e[i].skip;)i++;for(i%=n,t&&(o+=i);o>i&&e[o%n].skip;)o--;return o%=n,{start:i,end:o}}function EL(e,n,t,r){let i=e.length,o=[],s=n,a=e[n],c;for(c=n+1;c<=t;++c){let l=e[c%i];l.skip||l.stop?a.skip||(r=!1,o.push({start:n%i,end:(c-1)%i,loop:r}),n=s=l.stop?c:null):(s=c,a.skip&&(n=c)),a=l}return s!==null&&o.push({start:n%i,end:s%i,loop:r}),o}function DS(e,n){let t=e.points,r=e.options.spanGaps,i=t.length;if(!i)return[];let o=!!e._loop,{start:s,end:a}=DL(t,i,o,r);if(r===!0)return GC(e,[{start:s,end:a,loop:o}],t,n);let c=a<s?a+i:a,l=!!e._fullLoop&&s===0&&a===i-1;return GC(e,EL(t,s,c,l),t,n)}function GC(e,n,t,r){return!r||!r.setContext||!t?n:CL(e,n,t,r)}function CL(e,n,t,r){let i=e._chart.getContext(),o=qC(e.options),{_datasetIndex:s,options:{spanGaps:a}}=e,c=t.length,l=[],u=o,d=n[0].start,h=d;function f(p,g,m,y){let v=a?-1:1;if(p!==g){for(p+=c;t[p%c].skip;)p-=v;for(;t[g%c].skip;)g+=v;p%c!==g%c&&(l.push({start:p%c,end:g%c,loop:m,style:y}),u=y,d=g%c)}}for(let p of n){d=a?d:p.start;let g=t[d%c],m;for(h=d+1;h<=p.end;h++){let y=t[h%c];m=qC(r.setContext(ar(i,{type:"segment",p0:g,p1:y,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:s}))),SL(m,u)&&f(d,h-1,p.loop,u),g=y,u=m}d<h-1&&f(d,h-1,p.loop,u)}return l}function qC(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function SL(e,n){if(!n)return!1;let t=[],r=function(i,o){return Vy(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(e,r)!==JSON.stringify(n,r)}function ff(e,n,t){return e.options.clip?e[t]:n[t]}function IL(e,n){let{xScale:t,yScale:r}=e;return t&&r?{left:ff(t,n,"left"),right:ff(t,n,"right"),top:ff(r,n,"top"),bottom:ff(r,n,"bottom")}:n}function ev(e,n){let t=n._clip;if(t.disabled)return!1;let r=IL(n,e.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?e.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?e.height:r.bottom+(t.bottom===!0?0:t.bottom)}}var fv=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,t,r,i){let o=t.listeners[i],s=t.duration;o.forEach(a=>a({chart:n,initial:t.initial,numSteps:s,currentStep:Math.min(r-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=Py.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;let o=r.items,s=o.length-1,a=!1,c;for(;s>=0;--s)c=o[s],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(n),a=!0):(o[s]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,r,n,"progress")),o.length||(r.running=!1,this._notify(i,r,n,"complete"),r.initial=!1),t+=o.length}),this._lastDate=n,t===0&&(this._running=!1)}_getAnims(n){let t=this._charts,r=t.get(n);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(n,r)),r}listen(n,t,r){this._getAnims(n).listeners[t].push(r)}add(n,t){!t||!t.length||this._getAnims(n).items.push(...t)}has(n){return this._getAnims(n).items.length>0}start(n){let t=this._charts.get(n);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(n){if(!this._running)return!1;let t=this._charts.get(n);return!(!t||!t.running||!t.items.length)}stop(n){let t=this._charts.get(n);if(!t||!t.items.length)return;let r=t.items,i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(n,t,Date.now(),"complete")}remove(n){return this._charts.delete(n)}},cr=new fv,ES="transparent",xL={boolean(e,n,t){return t>.5?n:e},color(e,n,t){let r=By(e||ES),i=r.valid&&By(n||ES);return i&&i.valid?i.mix(r,t).hexString():n},number(e,n,t){return e+(n-e)*t}},hv=class{constructor(n,t,r,i){let o=t[r];i=Ns([n.to,i,o,n.from]);let s=Ns([n.from,o,i]);this._active=!0,this._fn=n.fn||xL[n.type||typeof s],this._easing=Cs[n.easing]||Cs.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=t,this._prop=r,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(n,t,r){if(this._active){this._notify(!1);let i=this._target[this._prop],o=r-this._start,s=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(s,n.duration)),this._total+=o,this._loop=!!n.loop,this._to=Ns([n.to,t,i,n.from]),this._from=Ns([n.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){let t=n-this._start,r=this._duration,i=this._prop,o=this._from,s=this._loop,a=this._to,c;if(this._active=o!==a&&(s||t<r),!this._active){this._target[i]=a,this._notify(!0);return}if(t<0){this._target[i]=o;return}c=t/r%2,c=s&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(o,a,c)}wait(){let n=this._promises||(this._promises=[]);return new Promise((t,r)=>{n.push({res:t,rej:r})})}_notify(n){let t=n?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}},Ff=class{constructor(n,t){this._chart=n,this._properties=new Map,this.configure(t)}configure(n){if(!Q(n))return;let t=Object.keys(_e.animation),r=this._properties;Object.getOwnPropertyNames(n).forEach(i=>{let o=n[i];if(!Q(o))return;let s={};for(let a of t)s[a]=o[a];(ye(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,s)})})}_animateOptions(n,t){let r=t.options,i=ML(n,r);if(!i)return[];let o=this._createAnimations(i,r);return r.$shared&&TL(n.options.$animations,r).then(()=>{n.options=r},()=>{}),o}_createAnimations(n,t){let r=this._properties,i=[],o=n.$animations||(n.$animations={}),s=Object.keys(t),a=Date.now(),c;for(c=s.length-1;c>=0;--c){let l=s[c];if(l.charAt(0)==="$")continue;if(l==="options"){i.push(...this._animateOptions(n,t));continue}let u=t[l],d=o[l],h=r.get(l);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){n[l]=u;continue}o[l]=d=new hv(h,n,l,u),i.push(d)}return i}update(n,t){if(this._properties.size===0){Object.assign(n,t);return}let r=this._createAnimations(n,t);if(r.length)return cr.add(this._chart,r),!0}};function TL(e,n){let t=[],r=Object.keys(n);for(let i=0;i<r.length;i++){let o=e[r[i]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function ML(e,n){if(!n)return;let t=e.options;if(!t){e.options=n;return}return t.$shared&&(e.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function CS(e,n){let t=e&&e.options||{},r=t.reverse,i=t.min===void 0?n:0,o=t.max===void 0?n:0;return{start:r?o:i,end:r?i:o}}function AL(e,n,t){if(t===!1)return!1;let r=CS(e,t),i=CS(n,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function RL(e){let n,t,r,i;return Q(e)?(n=e.top,t=e.right,r=e.bottom,i=e.left):n=t=r=i=e,{top:n,right:t,bottom:r,left:i,disabled:e===!1}}function EI(e,n){let t=[],r=e._getSortedDatasetMetas(n),i,o;for(i=0,o=r.length;i<o;++i)t.push(r[i].index);return t}function SS(e,n,t,r={}){let i=e.keys,o=r.mode==="single",s,a,c,l;if(n===null)return;let u=!1;for(s=0,a=i.length;s<a;++s){if(c=+i[s],c===t){if(u=!0,r.all)continue;break}l=e.values[c],xe(l)&&(o||n===0||wn(n)===wn(l))&&(n+=l)}return!u&&!r.all?0:n}function kL(e,n){let{iScale:t,vScale:r}=n,i=t.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",s=Object.keys(e),a=new Array(s.length),c,l,u;for(c=0,l=s.length;c<l;++c)u=s[c],a[c]={[i]:u,[o]:e[u]};return a}function tv(e,n){let t=e&&e.options.stacked;return t||t===void 0&&n.stack!==void 0}function NL(e,n,t){return`${e.id}.${n.id}.${t.stack||t.type}`}function OL(e){let{min:n,max:t,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?n:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function PL(e,n,t){let r=e[n]||(e[n]={});return r[t]||(r[t]={})}function IS(e,n,t,r){for(let i of n.getMatchingVisibleMetas(r).reverse()){let o=e[i.index];if(t&&o>0||!t&&o<0)return i.index}return null}function xS(e,n){let{chart:t,_cachedMeta:r}=e,i=t._stacks||(t._stacks={}),{iScale:o,vScale:s,index:a}=r,c=o.axis,l=s.axis,u=NL(o,s,r),d=n.length,h;for(let f=0;f<d;++f){let p=n[f],{[c]:g,[l]:m}=p,y=p._stacks||(p._stacks={});h=y[l]=PL(i,u,g),h[a]=m,h._top=IS(h,s,!0,r.type),h._bottom=IS(h,s,!1,r.type);let v=h._visualValues||(h._visualValues={});v[a]=m}}function nv(e,n){let t=e.scales;return Object.keys(t).filter(r=>t[r].axis===n).shift()}function FL(e,n){return ar(e,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}function LL(e,n,t){return ar(e,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:t,index:n,mode:"default",type:"data"})}function $c(e,n){let t=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){n=n||e._parsed;for(let i of n){let o=i._stacks;if(!o||o[r]===void 0||o[r][t]===void 0)return;delete o[r][t],o[r]._visualValues!==void 0&&o[r]._visualValues[t]!==void 0&&delete o[r]._visualValues[t]}}}var rv=e=>e==="reset"||e==="none",TS=(e,n)=>n?e:Object.assign({},e),jL=(e,n,t)=>e&&!n.hidden&&n._stacked&&{keys:EI(t,!0),values:null},Zr=(()=>{class e{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=tv(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&$c(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,r=this._cachedMeta,i=this.getDataset(),o=(h,f,p,g)=>h==="x"?f:h==="r"?g:p,s=r.xAxisID=U(i.xAxisID,nv(t,"x")),a=r.yAxisID=U(i.yAxisID,nv(t,"y")),c=r.rAxisID=U(i.rAxisID,nv(t,"r")),l=r.indexAxis,u=r.iAxisID=o(l,s,a,c),d=r.vAxisID=o(l,a,s,c);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(c),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&Ny(this._data,this),t._stacked&&$c(t)}_dataCheck(){let t=this.getDataset(),r=t.data||(t.data=[]),i=this._data;if(Q(r)){let o=this._cachedMeta;this._data=kL(r,o)}else if(i!==r){if(i){Ny(i,this);let o=this._cachedMeta;$c(o),o._parsed=[]}r&&Object.isExtensible(r)&&iS(r,this),this._syncList=[],this._data=r}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let r=this._cachedMeta,i=this.getDataset(),o=!1;this._dataCheck();let s=r._stacked;r._stacked=tv(r.vScale,r),r.stack!==i.stack&&(o=!0,$c(r),r.stack=i.stack),this._resyncElements(t),(o||s!==r._stacked)&&(xS(this,r._parsed),r._stacked=tv(r.vScale,r))}configure(){let t=this.chart.config,r=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){let{_cachedMeta:i,_data:o}=this,{iScale:s,_stacked:a}=i,c=s.axis,l=t===0&&r===o.length?!0:i._sorted,u=t>0&&i._parsed[t-1],d,h,f;if(this._parsing===!1)i._parsed=o,i._sorted=!0,f=o;else{ye(o[t])?f=this.parseArrayData(i,o,t,r):Q(o[t])?f=this.parseObjectData(i,o,t,r):f=this.parsePrimitiveData(i,o,t,r);let p=()=>h[c]===null||u&&h[c]<u[c];for(d=0;d<r;++d)i._parsed[d+t]=h=f[d],l&&(p()&&(l=!1),u=h);i._sorted=l}a&&xS(this,f)}parsePrimitiveData(t,r,i,o){let{iScale:s,vScale:a}=t,c=s.axis,l=a.axis,u=s.getLabels(),d=s===a,h=new Array(o),f,p,g;for(f=0,p=o;f<p;++f)g=f+i,h[f]={[c]:d||s.parse(u[g],g),[l]:a.parse(r[g],g)};return h}parseArrayData(t,r,i,o){let{xScale:s,yScale:a}=t,c=new Array(o),l,u,d,h;for(l=0,u=o;l<u;++l)d=l+i,h=r[d],c[l]={x:s.parse(h[0],d),y:a.parse(h[1],d)};return c}parseObjectData(t,r,i,o){let{xScale:s,yScale:a}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=new Array(o),d,h,f,p;for(d=0,h=o;d<h;++d)f=d+i,p=r[f],u[d]={x:s.parse(sr(p,c),f),y:a.parse(sr(p,l),f)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,i){let o=this.chart,s=this._cachedMeta,a=r[t.axis],c={keys:EI(o,!0),values:r._stacks[t.axis]._visualValues};return SS(c,a,s.index,{mode:i})}updateRangeFromParsed(t,r,i,o){let s=i[r.axis],a=s===null?NaN:s,c=o&&i._stacks[r.axis];o&&c&&(o.values=c,a=SS(o,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,r){let i=this._cachedMeta,o=i._parsed,s=i._sorted&&t===i.iScale,a=o.length,c=this._getOtherScale(t),l=jL(r,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=OL(c),f,p;function g(){p=o[f];let m=p[c.axis];return!xe(p[t.axis])||d>m||h<m}for(f=0;f<a&&!(!g()&&(this.updateRangeFromParsed(u,t,p,l),s));++f);if(s){for(f=a-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(u,t,p,l);break}}return u}getAllParsedValues(t){let r=this._cachedMeta._parsed,i=[],o,s,a;for(o=0,s=r.length;o<s;++o)a=r[o][t.axis],xe(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){let r=this._cachedMeta,i=r.iScale,o=r.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(t){let r=this._cachedMeta;this.update(t||"default"),r._clip=RL(U(this.options.clip,AL(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,r=this.chart,i=this._cachedMeta,o=i.data||[],s=r.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||o.length-c,u=this.options.drawActiveElementsOnTop,d;for(i.dataset&&i.dataset.draw(t,s,c,l),d=c;d<c+l;++d){let h=o[d];h.hidden||(h.active&&u?a.push(h):h.draw(t,s))}for(d=0;d<a.length;++d)a[d].draw(t,s)}getStyle(t,r){let i=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,r,i){let o=this.getDataset(),s;if(t>=0&&t<this._cachedMeta.data.length){let a=this._cachedMeta.data[t];s=a.$context||(a.$context=LL(this.getContext(),t,a)),s.parsed=this.getParsed(t),s.raw=o.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=FL(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",i){let o=r==="active",s=this._cachedDataOpts,a=t+"-"+r,c=s[a],l=this.enableOptionSharing&&Ts(i);if(c)return TS(c,l);let u=this.chart.config,d=u.datasetElementScopeKeys(this._type,t),h=o?[`${t}Hover`,"hover",t,""]:[t,""],f=u.getOptionScopes(this.getDataset(),d),p=Object.keys(_e.elements[t]),g=()=>this.getContext(i,o,r),m=u.resolveNamedOptions(f,p,g,h);return m.$shared&&(m.$shared=l,s[a]=Object.freeze(TS(m,l))),m}_resolveAnimations(t,r,i){let o=this.chart,s=this._cachedDataOpts,a=`animation-${r}`,c=s[a];if(c)return c;let l;if(o.options.animation!==!1){let d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,r),f=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(f,this.getContext(t,i,r))}let u=new Ff(o,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||rv(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){let i=this.resolveDataElementOptions(t,r),o=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(r,s)||s!==o;return this.updateSharedOptions(s,r,i),{sharedOptions:s,includeOptions:a}}updateElement(t,r,i,o){rv(o)?Object.assign(t,i):this._resolveAnimations(r,o).update(t,i)}updateSharedOptions(t,r,i){t&&!rv(r)&&this._resolveAnimations(void 0,r).update(t,i)}_setStyle(t,r,i,o){t.active=o;let s=this.getStyle(r,o);this._resolveAnimations(r,i,o).update(t,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(t,r,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,r,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let r=this._data,i=this._cachedMeta.data;for(let[c,l,u]of this._syncList)this[c](l,u);this._syncList=[];let o=i.length,s=r.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,t):s<o&&this._removeElements(s,o-s)}_insertElements(t,r,i=!0){let o=this._cachedMeta,s=o.data,a=t+r,c,l=u=>{for(u.length+=r,c=u.length-1;c>=a;c--)u[c]=u[c-r]};for(l(s),c=t;c<a;++c)s[c]=new this.dataElementType;this._parsing&&l(o._parsed),this.parse(t,r),i&&this.updateElements(s,t,r,"reset")}updateElements(t,r,i,o){}_removeElements(t,r){let i=this._cachedMeta;if(this._parsing){let o=i._parsed.splice(t,r);i._stacked&&$c(i,o)}i.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[r,i,o]=t;this[r](i,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);let i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return e})();function VL(e,n){if(!e._cache.$bar){let t=e.getMatchingVisibleMetas(n),r=[];for(let i=0,o=t.length;i<o;i++)r=r.concat(t[i].controller.getAllParsedValues(e));e._cache.$bar=Oy(r.sort((i,o)=>i-o))}return e._cache.$bar}function BL(e){let n=e.iScale,t=VL(n,e.type),r=n._length,i,o,s,a,c=()=>{s===32767||s===-32768||(Ts(a)&&(r=Math.min(r,Math.abs(s-a)||r)),a=s)};for(i=0,o=t.length;i<o;++i)s=n.getPixelForValue(t[i]),c();for(a=void 0,i=0,o=n.ticks.length;i<o;++i)s=n.getPixelForTick(i),c();return r}function UL(e,n,t,r){let i=t.barThickness,o,s;return Z(i)?(o=n.min*t.categoryPercentage,s=t.barPercentage):(o=i*r,s=1),{chunk:o/r,ratio:s,start:n.pixels[e]-o/2}}function $L(e,n,t,r){let i=n.pixels,o=i[e],s=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null,c=t.categoryPercentage;s===null&&(s=o-(a===null?n.end-n.start:a-o)),a===null&&(a=o+o-s);let l=o-(o-Math.min(s,a))/2*c;return{chunk:Math.abs(a-s)/2*c/r,ratio:t.barPercentage,start:l}}function HL(e,n,t,r){let i=t.parse(e[0],r),o=t.parse(e[1],r),s=Math.min(i,o),a=Math.max(i,o),c=s,l=a;Math.abs(s)>Math.abs(a)&&(c=a,l=s),n[t.axis]=l,n._custom={barStart:c,barEnd:l,start:i,end:o,min:s,max:a}}function CI(e,n,t,r){return ye(e)?HL(e,n,t,r):n[t.axis]=t.parse(e,r),n}function MS(e,n,t,r){let i=e.iScale,o=e.vScale,s=i.getLabels(),a=i===o,c=[],l,u,d,h;for(l=t,u=t+r;l<u;++l)h=n[l],d={},d[i.axis]=a||i.parse(s[l],l),c.push(CI(h,d,o,l));return c}function iv(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function zL(e,n,t){return e!==0?wn(e):(n.isHorizontal()?1:-1)*(n.min>=t?1:-1)}function WL(e){let n,t,r,i,o;return e.horizontal?(n=e.base>e.x,t="left",r="right"):(n=e.base<e.y,t="bottom",r="top"),n?(i="end",o="start"):(i="start",o="end"),{start:t,end:r,reverse:n,top:i,bottom:o}}function GL(e,n,t,r){let i=n.borderSkipped,o={};if(!i){e.borderSkipped=o;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:c,top:l,bottom:u}=WL(e);i==="middle"&&t&&(e.enableBorderRadius=!0,(t._top||0)===r?i=l:(t._bottom||0)===r?i=u:(o[AS(u,s,a,c)]=!0,i=l)),o[AS(i,s,a,c)]=!0,e.borderSkipped=o}function AS(e,n,t,r){return r?(e=qL(e,n,t),e=RS(e,t,n)):e=RS(e,n,t),e}function qL(e,n,t){return e===n?t:e===t?n:e}function RS(e,n,t){return e==="start"?n:e==="end"?t:e}function KL(e,{inflateAmount:n},t){e.inflateAmount=n==="auto"?t===1?.33:0:n}var YL=(()=>{class e extends Zr{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,r,i,o){return MS(t,r,i,o)}parseArrayData(t,r,i,o){return MS(t,r,i,o)}parseObjectData(t,r,i,o){let{iScale:s,vScale:a}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?c:l,d=a.axis==="x"?c:l,h=[],f,p,g,m;for(f=i,p=i+o;f<p;++f)m=r[f],g={},g[s.axis]=s.parse(sr(m,u),f),h.push(CI(sr(m,d),g,a,f));return h}updateRangeFromParsed(t,r,i,o){super.updateRangeFromParsed(t,r,i,o);let s=i._custom;s&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let r=this._cachedMeta,{iScale:i,vScale:o}=r,s=this.getParsed(t),a=s._custom,c=iv(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,i,o){let s=o==="reset",{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),u=c.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(r,o);for(let p=r;p<r+i;p++){let g=this.getParsed(p),m=s||Z(g[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,d),v=(g._stacks||{})[c.axis],_={horizontal:u,base:m.base,enableBorderRadius:!v||iv(g._custom)||a===v._top||a===v._bottom,x:u?m.head:y.center,y:u?y.center:m.head,height:u?y.size:Math.abs(m.size),width:u?Math.abs(m.size):y.size};f&&(_.options=h||this.resolveDataElementOptions(p,t[p].active?"active":o));let b=_.options||t[p].options;GL(_,b,v,a),KL(_,b,d.ratio),this.updateElement(t[p],p,_,o)}}_getStacks(t,r){let{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=i.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(r),l=c&&c[i.axis],u=d=>{let h=d._parsed.find(p=>p[i.axis]===l),f=h&&h[d.vScale.axis];if(Z(f)||isNaN(f))return!0};for(let d of o)if(!(r!==void 0&&u(d))&&((s===!1||a.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let t=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===r).shift()}_getAxis(){let t={},r=this.getFirstScaleIdForIndexAxis();for(let i of this.chart.data.datasets)t[U(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,r)]=!0;return Object.keys(t)}_getStackIndex(t,r,i){let o=this._getStacks(t,i),s=r!==void 0?o.indexOf(r):-1;return s===-1?o.length-1:s}_getRuler(){let t=this.options,r=this._cachedMeta,i=r.iScale,o=[],s,a;for(s=0,a=r.data.length;s<a;++s)o.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));let c=t.barThickness;return{min:c||BL(r),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:r,_stacked:i,index:o},options:{base:s,minBarLength:a}}=this,c=s||0,l=this.getParsed(t),u=l._custom,d=iv(u),h=l[r.axis],f=0,p=i?this.applyStack(r,l,i):h,g,m;p!==h&&(f=p-h,p=h),d&&(h=u.barStart,p=u.barEnd-u.barStart,h!==0&&wn(h)!==wn(u.barEnd)&&(f=0),f+=h);let y=!Z(s)&&!d?s:f,v=r.getPixelForValue(y);if(this.chart.getDataVisibility(t)?g=r.getPixelForValue(f+p):g=v,m=g-v,Math.abs(m)<a){m=zL(m,r,c)*a,h===c&&(v-=m/2);let _=r.getPixelForDecimal(0),b=r.getPixelForDecimal(1),w=Math.min(_,b),D=Math.max(_,b);v=Math.max(Math.min(v,D),w),g=v+m,i&&!d&&(l._stacks[r.axis]._visualValues[o]=r.getValueForPixel(g)-r.getValueForPixel(v))}if(v===r.getPixelForValue(c)){let _=wn(m)*r.getLineWidthForValue(c)/2;v+=_,m-=_}return{size:m,base:v,head:g,center:g+m/2}}_calculateBarIndexPixels(t,r){let i=r.scale,o=this.options,s=o.skipNull,a=U(o.maxBarThickness,1/0),c,l,u=this._getAxisCount();if(r.grouped){let d=s?this._getStackCount(t):r.stackCount,h=o.barThickness==="flex"?$L(t,r,o,d*u):UL(t,r,o,d*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(U(f,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+p;c=h.start+h.chunk*g+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(a,r.min*r.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){let t=this._cachedMeta,r=t.vScale,i=t.data,o=i.length,s=0;for(;s<o;++s)this.getParsed(s)[r.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}return e})(),JL=(()=>{class e extends Zr{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,r,i,o){let s=super.parsePrimitiveData(t,r,i,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+i).radius;return s}parseArrayData(t,r,i,o){let s=super.parseArrayData(t,r,i,o);for(let a=0;a<s.length;a++){let c=r[i+a];s[a]._custom=U(c[2],this.resolveDataElementOptions(a+i).radius)}return s}parseObjectData(t,r,i,o){let s=super.parseObjectData(t,r,i,o);for(let a=0;a<s.length;a++){let c=r[i+a];s[a]._custom=U(c&&c.r&&+c.r,this.resolveDataElementOptions(a+i).radius)}return s}getMaxOverflow(){let t=this._cachedMeta.data,r=0;for(let i=t.length-1;i>=0;--i)r=Math.max(r,t[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=r,a=this.getParsed(t),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y),u=a._custom;return{label:i[t]||"",value:"("+c+", "+l+(u?", "+u:"")+")"}}update(t){let r=this._cachedMeta.data;this.updateElements(r,0,r.length,t)}updateElements(t,r,i,o){let s=o==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(r,o),d=a.axis,h=c.axis;for(let f=r;f<r+i;f++){let p=t[f],g=!s&&this.getParsed(f),m={},y=m[d]=s?a.getPixelForDecimal(.5):a.getPixelForValue(g[d]),v=m[h]=s?c.getBasePixel():c.getPixelForValue(g[h]);m.skip=isNaN(y)||isNaN(v),u&&(m.options=l||this.resolveDataElementOptions(f,p.active?"active":o),s&&(m.options.radius=0)),this.updateElement(p,f,m,o)}}resolveDataElementOptions(t,r){let i=this.getParsed(t),o=super.resolveDataElementOptions(t,r);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let s=o.radius;return r!=="active"&&(o.radius=0),o.radius+=U(i&&i._custom,s),o}}return e})();function ZL(e,n,t){let r=1,i=1,o=0,s=0;if(n<ve){let a=e,c=a+n,l=Math.cos(a),u=Math.sin(a),d=Math.cos(c),h=Math.sin(c),f=(_,b,w)=>As(_,a,c,!0)?1:Math.max(b,b*t,w,w*t),p=(_,b,w)=>As(_,a,c,!0)?-1:Math.min(b,b*t,w,w*t),g=f(0,l,d),m=f(Re,u,h),y=p(oe,l,d),v=p(oe+Re,u,h);r=(g-y)/2,i=(m-v)/2,o=-(g+y)/2,s=-(m+v)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:s}}var Nv=(()=>{class e extends Zr{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let r=t.data,{labels:{pointStyle:i,textAlign:o,color:s,useBorderRadius:a,borderRadius:c}}=t.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((l,u)=>{let h=t.getDatasetMeta(0).controller.getStyle(u);return{text:l,fillStyle:h.backgroundColor,fontColor:s,hidden:!t.getDataVisibility(u),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:o,pointStyle:i,borderRadius:a&&(c||h.borderRadius),index:u}}):[]}},onClick(t,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}};constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){let i=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=i;else{let s=l=>+i[l];if(Q(i[t])){let{key:l="value"}=this._parsing;s=u=>+sr(i[u],l)}let a,c;for(a=t,c=t+r;a<c;++a)o._parsed[a]=s(a)}}_getRotation(){return Qt(this.options.rotation-90)}_getCircumference(){return Qt(this.options.circumference)}_getRotationExtents(){let t=ve,r=-ve;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let o=this.chart.getDatasetMeta(i).controller,s=o._getRotation(),a=o._getCircumference();t=Math.min(t,s),r=Math.max(r,s+a)}return{rotation:t,circumference:r-t}}update(t){let r=this.chart,{chartArea:i}=r,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-a)/2,0),l=Math.min(YC(this.options.cutout,c),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=ZL(h,d,l),y=(i.width-a)/f,v=(i.height-a)/p,_=Math.max(Math.min(y,v)/2,0),b=xy(this.options.radius,_),w=Math.max(b*l,0),D=(b-w)/this._getVisibleDatasetWeightTotal();this.offsetX=g*b,this.offsetY=m*b,o.total=this.calculateTotal(),this.outerRadius=b-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*u,0),this.updateElements(s,0,s.length,t)}_circumference(t,r){let i=this.options,o=this._cachedMeta,s=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||o._parsed[t]===null||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*s/ve)}updateElements(t,r,i,o){let s=o==="reset",a=this.chart,c=a.chartArea,u=a.options.animation,d=(c.left+c.right)/2,h=(c.top+c.bottom)/2,f=s&&u.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(r,o),v=this._getRotation(),_;for(_=0;_<r;++_)v+=this._circumference(_,s);for(_=r;_<r+i;++_){let b=this._circumference(_,s),w=t[_],D={x:d+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+b,circumference:b,outerRadius:g,innerRadius:p};y&&(D.options=m||this.resolveDataElementOptions(_,w.active?"active":o)),v+=b,this.updateElement(w,_,D,o)}}calculateTotal(){let t=this._cachedMeta,r=t.data,i=0,o;for(o=0;o<r.length;o++){let s=t._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!r[o].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){let r=this._cachedMeta.total;return r>0&&!isNaN(t)?ve*(Math.abs(t)/r):0}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=Rs(r._parsed[t],i.options.locale);return{label:o[t]||"",value:s}}getMaxBorderWidth(t){let r=0,i=this.chart,o,s,a,c,l;if(!t){for(o=0,s=i.data.datasets.length;o<s;++o)if(i.isDatasetVisible(o)){a=i.getDatasetMeta(o),t=a.data,c=a.controller;break}}if(!t)return 0;for(o=0,s=t.length;o<s;++o)l=c.resolveDataElementOptions(o),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let i=0,o=t.length;i<o;++i){let s=this.resolveDataElementOptions(i);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(t){return Math.max(U(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return e})(),QL=(()=>{class e extends Zr{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let r=this._cachedMeta,{dataset:i,data:o=[],_dataset:s}=r,a=this.chart._animationsDisabled,{start:c,count:l}=Ly(r,o,a);this._drawStart=c,this._drawCount=l,jy(r)&&(c=0,l=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=o;let u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:u},t),this.updateElements(o,c,l,t)}updateElements(t,r,i,o){let s=o==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(r,o),f=a.axis,p=c.axis,{spanGaps:g,segment:m}=this.options,y=io(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||o==="none",_=r+i,b=t.length,w=r>0&&this.getParsed(r-1);for(let D=0;D<b;++D){let S=t[D],E=v?S:{};if(D<r||D>=_){E.skip=!0;continue}let N=this.getParsed(D),j=Z(N[p]),q=E[f]=a.getPixelForValue(N[f],D),X=E[p]=s||j?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,N,l):N[p],D);E.skip=isNaN(q)||isNaN(X)||j,E.stop=D>0&&Math.abs(N[f]-w[f])>y,m&&(E.parsed=N,E.raw=u.data[D]),h&&(E.options=d||this.resolveDataElementOptions(D,S.active?"active":o)),v||this.updateElement(S,D,E,o),w=N}}getMaxOverflow(){let t=this._cachedMeta,r=t.dataset,i=r.options&&r.options.borderWidth||0,o=t.data||[];if(!o.length)return i;let s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,s,a)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return e})(),SI=(()=>{class e extends Zr{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let r=t.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:i,color:o}}=t.legend.options;return r.labels.map((s,a)=>{let l=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=Rs(r._parsed[t].r,i.options.locale);return{label:o[t]||"",value:s}}parseObjectData(t,r,i,o){return qy.bind(this)(t,r,i,o)}update(t){let r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){let t=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,o)=>{let s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){let t=this.chart,r=t.chartArea,i=t.options,o=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(o/2,0),a=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),c=(s-a)/t.getVisibleDatasetCount();this.outerRadius=s-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,r,i,o){let s=o==="reset",a=this.chart,l=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,h=u.yCenter,f=u.getIndexAngle(0)-.5*oe,p=f,g,m=360/this.countVisibleElements();for(g=0;g<r;++g)p+=this._computeAngle(g,o,m);for(g=r;g<r+i;g++){let y=t[g],v=p,_=p+this._computeAngle(g,o,m),b=a.getDataVisibility(g)?u.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=_,s&&(l.animateScale&&(b=0),l.animateRotate&&(v=_=f));let w={x:d,y:h,innerRadius:0,outerRadius:b,startAngle:v,endAngle:_,options:this.resolveDataElementOptions(g,y.active?"active":o)};this.updateElement(y,g,w,o)}}countVisibleElements(){let t=this._cachedMeta,r=0;return t.data.forEach((i,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&r++}),r}_computeAngle(t,r,i){return this.chart.getDataVisibility(t)?Qt(this.resolveDataElementOptions(t,r).angle||i):0}}return e})(),XL=(()=>{class e extends Nv{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return e})(),ej=(()=>{class e extends Zr{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){let r=this._cachedMeta.vScale,i=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(t,r,i,o){return qy.bind(this)(t,r,i,o)}update(t){let r=this._cachedMeta,i=r.dataset,o=r.data||[],s=r.iScale.getLabels();if(i.points=o,t!=="resize"){let a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);let c={_loop:!0,_fullLoop:s.length===o.length,options:a};this.updateElement(i,void 0,c,t)}this.updateElements(o,0,o.length,t)}updateElements(t,r,i,o){let s=this._cachedMeta.rScale,a=o==="reset";for(let c=r;c<r+i;c++){let l=t[c],u=this.resolveDataElementOptions(c,l.active?"active":o),d=s.getPointPositionForValue(c,this.getParsed(c).r),h=a?s.xCenter:d.x,f=a?s.yCenter:d.y,p={x:h,y:f,angle:d.angle,skip:isNaN(h)||isNaN(f),options:u};this.updateElement(l,c,p,o)}}}return e})(),tj=(()=>{class e extends Zr{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=r,a=this.getParsed(t),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y);return{label:i[t]||"",value:"("+c+", "+l+")"}}update(t){let r=this._cachedMeta,{data:i=[]}=r,o=this.chart._animationsDisabled,{start:s,count:a}=Ly(r,i,o);if(this._drawStart=s,this._drawCount=a,jy(r)&&(s=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:l}=r;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=i;let u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(c,void 0,{animated:!o,options:u},t)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,s,a,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,r,i,o){let s=o==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,o),h=this.getSharedOptions(d),f=this.includeOptions(o,h),p=a.axis,g=c.axis,{spanGaps:m,segment:y}=this.options,v=io(m)?m:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||s||o==="none",b=r>0&&this.getParsed(r-1);for(let w=r;w<r+i;++w){let D=t[w],S=this.getParsed(w),E=_?D:{},N=Z(S[g]),j=E[p]=a.getPixelForValue(S[p],w),q=E[g]=s||N?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,S,l):S[g],w);E.skip=isNaN(j)||isNaN(q)||N,E.stop=w>0&&Math.abs(S[p]-b[p])>v,y&&(E.parsed=S,E.raw=u.data[w]),f&&(E.options=h||this.resolveDataElementOptions(w,D.active?"active":o)),_||this.updateElement(D,w,E,o),b=S}this.updateSharedOptions(h,o,d)}getMaxOverflow(){let t=this._cachedMeta,r=t.data||[];if(!this.options.showLine){let c=0;for(let l=r.length-1;l>=0;--l)c=Math.max(c,r[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}let i=t.dataset,o=i.options&&i.options.borderWidth||0;if(!r.length)return o;let s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(o,s,a)/2}}return e})(),nj=Object.freeze({__proto__:null,BarController:YL,BubbleController:JL,DoughnutController:Nv,LineController:QL,PieController:XL,PolarAreaController:SI,RadarController:ej,ScatterController:tj});function so(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var pv=class e{static override(n){Object.assign(e.prototype,n)}options;constructor(n){this.options=n||{}}init(){}formats(){return so()}parse(){return so()}format(){return so()}add(){return so()}diff(){return so()}startOf(){return so()}endOf(){return so()}},rj={_date:pv};function ij(e,n,t,r){let{controller:i,data:o,_sorted:s}=e,a=i._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&n===a.axis&&n!=="r"&&s&&o.length){let l=a._reversePixels?tS:Pn;if(r){if(i._sharedOptions){let u=o[0],d=typeof u.getRange=="function"&&u.getRange(n);if(d){let h=l(o,n,t-d),f=l(o,n,t+d);return{lo:h.lo,hi:f.hi}}}}else{let u=l(o,n,t);if(c){let{vScale:d}=i._cachedMeta,{_parsed:h}=e,f=h.slice(0,u.lo+1).reverse().findIndex(g=>!Z(g[d.axis]));u.lo-=Math.max(0,f);let p=h.slice(u.hi).findIndex(g=>!Z(g[d.axis]));u.hi+=Math.max(0,p)}return u}}return{lo:0,hi:o.length-1}}function Qc(e,n,t,r,i){let o=e.getSortedVisibleDatasetMetas(),s=t[n];for(let a=0,c=o.length;a<c;++a){let{index:l,data:u}=o[a],{lo:d,hi:h}=ij(o[a],n,s,i);for(let f=d;f<=h;++f){let p=u[f];p.skip||r(p,l,f)}}}function oj(e){let n=e.indexOf("x")!==-1,t=e.indexOf("y")!==-1;return function(r,i){let o=n?Math.abs(r.x-i.x):0,s=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function ov(e,n,t,r,i){let o=[];return!i&&!e.isPointInArea(n)||Qc(e,t,n,function(a,c,l){!i&&!Fn(a,e.chartArea,0)||a.inRange(n.x,n.y,r)&&o.push({element:a,datasetIndex:c,index:l})},!0),o}function sj(e,n,t,r){let i=[];function o(s,a,c){let{startAngle:l,endAngle:u}=s.getProps(["startAngle","endAngle"],r),{angle:d}=ky(s,{x:n.x,y:n.y});As(d,l,u)&&i.push({element:s,datasetIndex:a,index:c})}return Qc(e,t,n,o),i}function aj(e,n,t,r,i,o){let s=[],a=oj(t),c=Number.POSITIVE_INFINITY;function l(u,d,h){let f=u.inRange(n.x,n.y,i);if(r&&!f)return;let p=u.getCenterPoint(i);if(!(!!o||e.isPointInArea(p))&&!f)return;let m=a(n,p);m<c?(s=[{element:u,datasetIndex:d,index:h}],c=m):m===c&&s.push({element:u,datasetIndex:d,index:h})}return Qc(e,t,n,l),s}function sv(e,n,t,r,i,o){return!o&&!e.isPointInArea(n)?[]:t==="r"&&!r?sj(e,n,t,i):aj(e,n,t,r,i,o)}function kS(e,n,t,r,i){let o=[],s=t==="x"?"inXRange":"inYRange",a=!1;return Qc(e,t,n,(c,l,u)=>{c[s]&&c[s](n[t],i)&&(o.push({element:c,datasetIndex:l,index:u}),a=a||c.inRange(n.x,n.y,i))}),r&&!a?[]:o}var cj={evaluateInteractionItems:Qc,modes:{index(e,n,t,r){let i=Yr(n,e),o=t.axis||"x",s=t.includeInvisible||!1,a=t.intersect?ov(e,i,o,r,s):sv(e,i,o,!1,r,s),c=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(l=>{let u=a[0].index,d=l.data[u];d&&!d.skip&&c.push({element:d,datasetIndex:l.index,index:u})}),c):[]},dataset(e,n,t,r){let i=Yr(n,e),o=t.axis||"xy",s=t.includeInvisible||!1,a=t.intersect?ov(e,i,o,r,s):sv(e,i,o,!1,r,s);if(a.length>0){let c=a[0].datasetIndex,l=e.getDatasetMeta(c).data;a=[];for(let u=0;u<l.length;++u)a.push({element:l[u],datasetIndex:c,index:u})}return a},point(e,n,t,r){let i=Yr(n,e),o=t.axis||"xy",s=t.includeInvisible||!1;return ov(e,i,o,r,s)},nearest(e,n,t,r){let i=Yr(n,e),o=t.axis||"xy",s=t.includeInvisible||!1;return sv(e,i,o,t.intersect,r,s)},x(e,n,t,r){let i=Yr(n,e);return kS(e,i,"x",t.intersect,r)},y(e,n,t,r){let i=Yr(n,e);return kS(e,i,"y",t.intersect,r)}}},II=["left","top","right","bottom"];function Hc(e,n){return e.filter(t=>t.pos===n)}function NS(e,n){return e.filter(t=>II.indexOf(t.pos)===-1&&t.box.axis===n)}function zc(e,n){return e.sort((t,r)=>{let i=n?r:t,o=n?t:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function lj(e){let n=[],t,r,i,o,s,a;for(t=0,r=(e||[]).length;t<r;++t)i=e[t],{position:o,options:{stack:s,stackWeight:a=1}}=i,n.push({index:t,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&o+s,stackWeight:a});return n}function uj(e){let n={};for(let t of e){let{stack:r,pos:i,stackWeight:o}=t;if(!r||!II.includes(i))continue;let s=n[r]||(n[r]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return n}function dj(e,n){let t=uj(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=n,o,s,a;for(o=0,s=e.length;o<s;++o){a=e[o];let{fullSize:c}=a.box,l=t[a.stack],u=l&&a.stackWeight/l.weight;a.horizontal?(a.width=u?u*r:c&&n.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:c&&n.availableHeight)}return t}function fj(e){let n=lj(e),t=zc(n.filter(l=>l.box.fullSize),!0),r=zc(Hc(n,"left"),!0),i=zc(Hc(n,"right")),o=zc(Hc(n,"top"),!0),s=zc(Hc(n,"bottom")),a=NS(n,"x"),c=NS(n,"y");return{fullSize:t,leftAndTop:r.concat(o),rightAndBottom:i.concat(c).concat(s).concat(a),chartArea:Hc(n,"chartArea"),vertical:r.concat(i).concat(c),horizontal:o.concat(s).concat(a)}}function OS(e,n,t,r){return Math.max(e[t],n[t])+Math.max(e[r],n[r])}function xI(e,n){e.top=Math.max(e.top,n.top),e.left=Math.max(e.left,n.left),e.bottom=Math.max(e.bottom,n.bottom),e.right=Math.max(e.right,n.right)}function hj(e,n,t,r){let{pos:i,box:o}=t,s=e.maxPadding;if(!Q(i)){t.size&&(e[i]-=t.size);let d=r[t.stack]||{size:0,count:1};d.size=Math.max(d.size,t.horizontal?o.height:o.width),t.size=d.size/d.count,e[i]+=t.size}o.getPadding&&xI(s,o.getPadding());let a=Math.max(0,n.outerWidth-OS(s,e,"left","right")),c=Math.max(0,n.outerHeight-OS(s,e,"top","bottom")),l=a!==e.w,u=c!==e.h;return e.w=a,e.h=c,t.horizontal?{same:l,other:u}:{same:u,other:l}}function pj(e){let n=e.maxPadding;function t(r){let i=Math.max(n[r]-e[r],0);return e[r]+=i,i}e.y+=t("top"),e.x+=t("left"),t("right"),t("bottom")}function gj(e,n){let t=n.maxPadding;function r(i){let o={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{o[s]=Math.max(n[s],t[s])}),o}return r(e?["left","right"]:["top","bottom"])}function qc(e,n,t,r){let i=[],o,s,a,c,l,u;for(o=0,s=e.length,l=0;o<s;++o){a=e[o],c=a.box,c.update(a.width||n.w,a.height||n.h,gj(a.horizontal,n));let{same:d,other:h}=hj(n,t,a,r);l|=d&&i.length,u=u||h,c.fullSize||i.push(a)}return l&&qc(i,n,t,r)||u}function Tf(e,n,t,r,i){e.top=t,e.left=n,e.right=n+r,e.bottom=t+i,e.width=r,e.height=i}function PS(e,n,t,r){let i=t.padding,{x:o,y:s}=n;for(let a of e){let c=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/l.weight||1;if(a.horizontal){let d=n.w*u,h=l.size||c.height;Ts(l.start)&&(s=l.start),c.fullSize?Tf(c,i.left,s,t.outerWidth-i.right-i.left,h):Tf(c,n.left+l.placed,s,d,h),l.start=s,l.placed+=d,s=c.bottom}else{let d=n.h*u,h=l.size||c.width;Ts(l.start)&&(o=l.start),c.fullSize?Tf(c,o,i.top,h,t.outerHeight-i.bottom-i.top):Tf(c,o,n.top+l.placed,h,d),l.start=o,l.placed+=d,o=c.right}}n.x=o,n.y=s}var gt={addBox(e,n){e.boxes||(e.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(t){n.draw(t)}}]},e.boxes.push(n)},removeBox(e,n){let t=e.boxes?e.boxes.indexOf(n):-1;t!==-1&&e.boxes.splice(t,1)},configure(e,n,t){n.fullSize=t.fullSize,n.position=t.position,n.weight=t.weight},update(e,n,t,r){if(!e)return;let i=ct(e.options.layout.padding),o=Math.max(n-i.width,0),s=Math.max(t-i.height,0),a=fj(e.boxes),c=a.vertical,l=a.horizontal;he(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});let u=c.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:n,outerHeight:t,padding:i,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),h=Object.assign({},i);xI(h,ct(r));let f=Object.assign({maxPadding:h,w:o,h:s,x:i.left,y:i.top},i),p=dj(c.concat(l),d);qc(a.fullSize,f,d,p),qc(c,f,d,p),qc(l,f,d,p)&&qc(c,f,d,p),pj(f),PS(a.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,PS(a.rightAndBottom,f,d,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},he(a.chartArea,g=>{let m=g.box;Object.assign(m,e.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}},Lf=class{acquireContext(n,t){}releaseContext(n){return!1}addEventListener(n,t,r){}removeEventListener(n,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(n,t,r,i){return t=Math.max(0,t||n.width),r=r||n.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(n){return!0}updateConfig(n){}},gv=class extends Lf{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}},Of="$chartjs",mj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},FS=e=>e===null||e==="";function yj(e,n){let t=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[Of]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",FS(i)){let o=Yy(e,"width");o!==void 0&&(e.width=o)}if(FS(r))if(e.style.height==="")e.height=e.width/(n||2);else{let o=Yy(e,"height");o!==void 0&&(e.height=o)}return e}var TI=vS?{passive:!0}:!1;function vj(e,n,t){e&&e.addEventListener(n,t,TI)}function bj(e,n,t){e&&e.canvas&&e.canvas.removeEventListener(n,t,TI)}function _j(e,n){let t=mj[e.type]||e.type,{x:r,y:i}=Yr(e,n);return{type:t,chart:n,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function jf(e,n){for(let t of e)if(t===n||t.contains(n))return!0}function wj(e,n,t){let r=e.canvas,i=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||jf(a.addedNodes,r),s=s&&!jf(a.removedNodes,r);s&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function Dj(e,n,t){let r=e.canvas,i=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||jf(a.removedNodes,r),s=s&&!jf(a.addedNodes,r);s&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}var Yc=new Map,LS=0;function MI(){let e=window.devicePixelRatio;e!==LS&&(LS=e,Yc.forEach((n,t)=>{t.currentDevicePixelRatio!==e&&n()}))}function Ej(e,n){Yc.size||window.addEventListener("resize",MI),Yc.set(e,n)}function Cj(e){Yc.delete(e),Yc.size||window.removeEventListener("resize",MI)}function Sj(e,n,t){let r=e.canvas,i=r&&If(r);if(!i)return;let o=Fy((a,c)=>{let l=i.clientWidth;t(a,c),l<i.clientWidth&&t()},window),s=new ResizeObserver(a=>{let c=a[0],l=c.contentRect.width,u=c.contentRect.height;l===0&&u===0||o(l,u)});return s.observe(i),Ej(e,o),s}function av(e,n,t){t&&t.disconnect(),n==="resize"&&Cj(e)}function Ij(e,n,t){let r=e.canvas,i=Fy(o=>{e.ctx!==null&&t(_j(o,e))},e);return vj(r,n,i),i}var mv=class extends Lf{acquireContext(n,t){let r=n&&n.getContext&&n.getContext("2d");return r&&r.canvas===n?(yj(n,t),r):null}releaseContext(n){let t=n.canvas;if(!t[Of])return!1;let r=t[Of].initial;["height","width"].forEach(o=>{let s=r[o];Z(s)?t.removeAttribute(o):t.setAttribute(o,s)});let i=r.style||{};return Object.keys(i).forEach(o=>{t.style[o]=i[o]}),t.width=t.width,delete t[Of],!0}addEventListener(n,t,r){this.removeEventListener(n,t);let i=n.$proxies||(n.$proxies={}),s={attach:wj,detach:Dj,resize:Sj}[t]||Ij;i[t]=s(n,t,r)}removeEventListener(n,t){let r=n.$proxies||(n.$proxies={}),i=r[t];if(!i)return;({attach:av,detach:av,resize:av}[t]||bj)(n,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,t,r,i){return yS(n,t,r,i)}isAttached(n){let t=n&&If(n);return!!(t&&t.isConnected)}};function xj(e){return!Sf()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?gv:mv}var Dn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(n){let{x:t,y:r}=this.getProps(["x","y"],n);return{x:t,y:r}}hasValue(){return io(this.x)&&io(this.y)}getProps(n,t){let r=this.$animations;if(!t||!r)return this;let i={};return n.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}};function Tj(e,n){let t=e.options.ticks,r=Mj(e),i=Math.min(t.maxTicksLimit||r,r),o=t.major.enabled?Rj(n):[],s=o.length,a=o[0],c=o[s-1],l=[];if(s>i)return kj(n,l,o,s/i),l;let u=Aj(o,n,i);if(s>0){let d,h,f=s>1?Math.round((c-a)/(s-1)):null;for(Mf(n,l,u,Z(f)?0:a-f,a),d=0,h=s-1;d<h;d++)Mf(n,l,u,o[d],o[d+1]);return Mf(n,l,u,c,Z(f)?n.length:c+f),l}return Mf(n,l,u),l}function Mj(e){let n=e.options.offset,t=e._tickSize(),r=e._length/t+(n?0:1),i=e._maxLength/t;return Math.floor(Math.min(r,i))}function Aj(e,n,t){let r=Nj(e),i=n.length/t;if(!r)return Math.max(i,1);let o=QC(r);for(let s=0,a=o.length-1;s<a;s++){let c=o[s];if(c>i)return c}return Math.max(i,1)}function Rj(e){let n=[],t,r;for(t=0,r=e.length;t<r;t++)e[t].major&&n.push(t);return n}function kj(e,n,t,r){let i=0,o=t[0],s;for(r=Math.ceil(r),s=0;s<e.length;s++)s===o&&(n.push(e[s]),i++,o=t[i*r])}function Mf(e,n,t,r,i){let o=U(r,0),s=Math.min(U(i,e.length),e.length),a=0,c,l,u;for(t=Math.ceil(t),i&&(c=i-r,t=c/Math.floor(c/t)),u=o;u<0;)a++,u=Math.round(o+a*t);for(l=Math.max(o,0);l<s;l++)l===u&&(n.push(e[l]),a++,u=Math.round(o+a*t))}function Nj(e){let n=e.length,t,r;if(n<2)return!1;for(r=e[0],t=1;t<n;++t)if(e[t]-e[t-1]!==r)return!1;return r}var Oj=e=>e==="left"?"right":e==="right"?"left":e,jS=(e,n,t)=>n==="top"||n==="left"?e[n]+t:e[n]-t,VS=(e,n)=>Math.min(n||e,e);function BS(e,n){let t=[],r=e.length/n,i=e.length,o=0;for(;o<i;o+=r)t.push(e[Math.floor(o)]);return t}function Pj(e,n,t){let r=e.ticks.length,i=Math.min(n,r-1),o=e._startPixel,s=e._endPixel,a=1e-6,c=e.getPixelForTick(i),l;if(!(t&&(r===1?l=Math.max(c-o,s-c):n===0?l=(e.getPixelForTick(1)-c)/2:l=(c-e.getPixelForTick(i-1))/2,c+=i<n?l:-l,c<o-a||c>s+a)))return c}function Fj(e,n){he(e,t=>{let r=t.gc,i=r.length/2,o;if(i>n){for(o=0;o<i;++o)delete t.data[r[o]];r.splice(0,i)}})}function Wc(e){return e.drawTicks?e.tickLength:0}function US(e,n){if(!e.display)return 0;let t=Pe(e.font,n),r=ct(e.padding);return(ye(e.text)?e.text.length:1)*t.lineHeight+r.height}function Lj(e,n){return ar(e,{scale:n,type:"scale"})}function jj(e,n,t){return ar(e,{tick:t,index:n,type:"tick"})}function Vj(e,n,t){let r=_f(e);return(t&&n!=="right"||!t&&n==="right")&&(r=Oj(r)),r}function Bj(e,n,t,r){let{top:i,left:o,bottom:s,right:a,chart:c}=e,{chartArea:l,scales:u}=c,d=0,h,f,p,g=s-i,m=a-o;if(e.isHorizontal()){if(f=at(r,o,a),Q(t)){let y=Object.keys(t)[0],v=t[y];p=u[y].getPixelForValue(v)+g-n}else t==="center"?p=(l.bottom+l.top)/2+g-n:p=jS(e,t,n);h=a-o}else{if(Q(t)){let y=Object.keys(t)[0],v=t[y];f=u[y].getPixelForValue(v)-m+n}else t==="center"?f=(l.left+l.right)/2-m+n:f=jS(e,t,n);p=at(r,s,i),d=t==="left"?-Re:Re}return{titleX:f,titleY:p,maxWidth:h,rotation:d}}var co=class e extends Dn{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,t){return n}getUserBounds(){let{_userMin:n,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return n=Mt(n,Number.POSITIVE_INFINITY),t=Mt(t,Number.NEGATIVE_INFINITY),r=Mt(r,Number.POSITIVE_INFINITY),i=Mt(i,Number.NEGATIVE_INFINITY),{min:Mt(n,r),max:Mt(t,i),minDefined:xe(n),maxDefined:xe(t)}}getMinMax(n){let{min:t,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),s;if(i&&o)return{min:t,max:r};let a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)s=a[c].controller.getMinMax(this,n),i||(t=Math.min(t,s.min)),o||(r=Math.max(r,s.max));return t=o&&t>r?r:t,r=i&&t>r?t:r,{min:Mt(t,Mt(r,t)),max:Mt(r,Mt(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}getLabelItems(n=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(n))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ge(this.options.beforeUpdate,[this])}update(n,t,r){let{beginAtZero:i,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=dS(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?BS(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=Tj(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let n=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,n=!n),this._startPixel=t,this._endPixel=r,this._reversePixels=n,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ge(this.options.afterUpdate,[this])}beforeSetDimensions(){ge(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ge(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),ge(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ge(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){let t=this.options.ticks,r,i,o;for(r=0,i=n.length;r<i;r++)o=n[r],o.label=ge(t.callback,[o.value,r,n],this)}afterTickToLabelConversion(){ge(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ge(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let n=this.options,t=n.ticks,r=VS(this.ticks.length,n.ticks.maxTicksLimit),i=t.minRotation||0,o=t.maxRotation,s=i,a,c,l;if(!this._isVisible()||!t.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}let u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=Be(this.chart.width-d,0,this.maxWidth);a=n.offset?this.maxWidth/r:f/(r-1),d+6>a&&(a=f/(r-(n.offset?.5:1)),c=this.maxHeight-Wc(n.grid)-t.padding-US(n.title,this.chart.options.font),l=Math.sqrt(d*d+h*h),s=vf(Math.min(Math.asin(Be((u.highest.height+6)/a,-1,1)),Math.asin(Be(c/l,-1,1))-Math.asin(Be(h/l,-1,1)))),s=Math.max(i,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){ge(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ge(this.options.beforeFit,[this])}fit(){let n={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let c=US(i,t.options.font);if(a?(n.width=this.maxWidth,n.height=Wc(o)+c):(n.height=this.maxHeight,n.width=Wc(o)+c),r.display&&this.ticks.length){let{first:l,last:u,widest:d,highest:h}=this._getLabelSizes(),f=r.padding*2,p=Qt(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){let y=r.mirror?0:m*d.width+g*h.height;n.height=Math.min(this.maxHeight,n.height+y+f)}else{let y=r.mirror?0:g*d.width+m*h.height;n.width=Math.min(this.maxWidth,n.width+y+f)}this._calculatePadding(l,u,m,g)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,t,r,i){let{ticks:{align:o,padding:s},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),h=0,f=0;c?l?(h=i*n.width,f=r*t.height):(h=r*n.height,f=i*t.width):o==="start"?f=t.width:o==="end"?h=n.width:o!=="inner"&&(h=n.width/2,f=t.width/2),this.paddingLeft=Math.max((h-u+s)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+s)*this.width/(this.width-d),0)}else{let u=t.height/2,d=n.height/2;o==="start"?(u=0,d=n.height):o==="end"&&(u=t.height,d=0),this.paddingTop=u+s,this.paddingBottom=d+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ge(this.options.afterFit,[this])}isHorizontal(){let{axis:n,position:t}=this.options;return t==="top"||t==="bottom"||n==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){this.beforeTickToLabelConversion(),this.generateTickLabels(n);let t,r;for(t=0,r=n.length;t<r;t++)Z(n[t].label)&&(n.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){let t=this.options.ticks.sampleSize,r=this.ticks;t<r.length&&(r=BS(r,t)),this._labelSizes=n=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return n}_computeLabelSizes(n,t,r){let{ctx:i,_longestTextCache:o}=this,s=[],a=[],c=Math.floor(t/VS(t,r)),l=0,u=0,d,h,f,p,g,m,y,v,_,b,w;for(d=0;d<t;d+=c){if(p=n[d].label,g=this._resolveTickFontOptions(d),i.font=m=g.string,y=o[m]=o[m]||{data:{},gc:[]},v=g.lineHeight,_=b=0,!Z(p)&&!ye(p))_=Lc(i,y.data,y.gc,_,p),b=v;else if(ye(p))for(h=0,f=p.length;h<f;++h)w=p[h],!Z(w)&&!ye(w)&&(_=Lc(i,y.data,y.gc,_,w),b+=v);s.push(_),a.push(b),l=Math.max(_,l),u=Math.max(b,u)}Fj(o,t);let D=s.indexOf(l),S=a.indexOf(u),E=N=>({width:s[N]||0,height:a[N]||0});return{first:E(0),last:E(t-1),widest:E(D),highest:E(S),widths:s,heights:a}}getLabelForValue(n){return n}getPixelForValue(n,t){return NaN}getValueForPixel(n){}getPixelForTick(n){let t=this.ticks;return n<0||n>t.length-1?null:this.getPixelForValue(t[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);let t=this._startPixel+n*this._length;return eS(this._alignToPixels?Gr(this.chart,t,0):t)}getDecimalForPixel(n){let t=(n-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:n,max:t}=this;return n<0&&t<0?t:n>0&&t>0?n:0}getContext(n){let t=this.ticks||[];if(n>=0&&n<t.length){let r=t[n];return r.$context||(r.$context=jj(this.getContext(),n,r))}return this.$context||(this.$context=Lj(this.chart.getContext(),this))}_tickSize(){let n=this.options.ticks,t=Qt(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),o=this._getLabelSizes(),s=n.autoSkipPadding||0,a=o?o.widest.width+s:0,c=o?o.highest.height+s:0;return this.isHorizontal()?c*r>a*i?a/r:c/i:c*i<a*r?c/r:a/i}_isVisible(){let n=this.options.display;return n!=="auto"?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){let t=this.axis,r=this.chart,i=this.options,{grid:o,position:s,border:a}=i,c=o.offset,l=this.isHorizontal(),d=this.ticks.length+(c?1:0),h=Wc(o),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,y=function(we){return Gr(r,we,g)},v,_,b,w,D,S,E,N,j,q,X,Ze;if(s==="top")v=y(this.bottom),S=this.bottom-h,N=v-m,q=y(n.top)+m,Ze=n.bottom;else if(s==="bottom")v=y(this.top),q=n.top,Ze=y(n.bottom)-m,S=v+m,N=this.top+h;else if(s==="left")v=y(this.right),D=this.right-h,E=v-m,j=y(n.left)+m,X=n.right;else if(s==="right")v=y(this.left),j=n.left,X=y(n.right)-m,D=v+m,E=this.left+h;else if(t==="x"){if(s==="center")v=y((n.top+n.bottom)/2+.5);else if(Q(s)){let we=Object.keys(s)[0],ke=s[we];v=y(this.chart.scales[we].getPixelForValue(ke))}q=n.top,Ze=n.bottom,S=v+m,N=S+h}else if(t==="y"){if(s==="center")v=y((n.left+n.right)/2);else if(Q(s)){let we=Object.keys(s)[0],ke=s[we];v=y(this.chart.scales[we].getPixelForValue(ke))}D=v-m,E=D-h,j=n.left,X=n.right}let kt=U(i.ticks.maxTicksLimit,d),pe=Math.max(1,Math.ceil(d/kt));for(_=0;_<d;_+=pe){let we=this.getContext(_),ke=o.setContext(we),Xt=a.setContext(we),lt=ke.lineWidth,lo=ke.color,Xc=Xt.dash||[],uo=Xt.dashOffset,Ls=ke.tickWidth,Qr=ke.tickColor,js=ke.tickBorderDash||[],Xr=ke.tickBorderDashOffset;b=Pj(this,_,c),b!==void 0&&(w=Gr(r,b,lt),l?D=E=j=X=w:S=N=q=Ze=w,f.push({tx1:D,ty1:S,tx2:E,ty2:N,x1:j,y1:q,x2:X,y2:Ze,width:lt,color:lo,borderDash:Xc,borderDashOffset:uo,tickWidth:Ls,tickColor:Qr,tickBorderDash:js,tickBorderDashOffset:Xr}))}return this._ticksLength=d,this._borderValue=v,f}_computeLabelItems(n){let t=this.axis,r=this.options,{position:i,ticks:o}=r,s=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:u,mirror:d}=o,h=Wc(r.grid),f=h+u,p=d?-u:f,g=-Qt(this.labelRotation),m=[],y,v,_,b,w,D,S,E,N,j,q,X,Ze="middle";if(i==="top")D=this.bottom-p,S=this._getXAxisLabelAlignment();else if(i==="bottom")D=this.top+p,S=this._getXAxisLabelAlignment();else if(i==="left"){let pe=this._getYAxisLabelAlignment(h);S=pe.textAlign,w=pe.x}else if(i==="right"){let pe=this._getYAxisLabelAlignment(h);S=pe.textAlign,w=pe.x}else if(t==="x"){if(i==="center")D=(n.top+n.bottom)/2+f;else if(Q(i)){let pe=Object.keys(i)[0],we=i[pe];D=this.chart.scales[pe].getPixelForValue(we)+f}S=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")w=(n.left+n.right)/2-f;else if(Q(i)){let pe=Object.keys(i)[0],we=i[pe];w=this.chart.scales[pe].getPixelForValue(we)}S=this._getYAxisLabelAlignment(h).textAlign}t==="y"&&(c==="start"?Ze="top":c==="end"&&(Ze="bottom"));let kt=this._getLabelSizes();for(y=0,v=a.length;y<v;++y){_=a[y],b=_.label;let pe=o.setContext(this.getContext(y));E=this.getPixelForTick(y)+o.labelOffset,N=this._resolveTickFontOptions(y),j=N.lineHeight,q=ye(b)?b.length:1;let we=q/2,ke=pe.color,Xt=pe.textStrokeColor,lt=pe.textStrokeWidth,lo=S;s?(w=E,S==="inner"&&(y===v-1?lo=this.options.reverse?"left":"right":y===0?lo=this.options.reverse?"right":"left":lo="center"),i==="top"?l==="near"||g!==0?X=-q*j+j/2:l==="center"?X=-kt.highest.height/2-we*j+j:X=-kt.highest.height+j/2:l==="near"||g!==0?X=j/2:l==="center"?X=kt.highest.height/2-we*j:X=kt.highest.height-q*j,d&&(X*=-1),g!==0&&!pe.showLabelBackdrop&&(w+=j/2*Math.sin(g))):(D=E,X=(1-q)*j/2);let Xc;if(pe.showLabelBackdrop){let uo=ct(pe.backdropPadding),Ls=kt.heights[y],Qr=kt.widths[y],js=X-uo.top,Xr=0-uo.left;switch(Ze){case"middle":js-=Ls/2;break;case"bottom":js-=Ls;break}switch(S){case"center":Xr-=Qr/2;break;case"right":Xr-=Qr;break;case"inner":y===v-1?Xr-=Qr:y>0&&(Xr-=Qr/2);break}Xc={left:Xr,top:js,width:Qr+uo.width,height:Ls+uo.height,color:pe.backdropColor}}m.push({label:b,font:N,textOffset:X,options:{rotation:g,color:ke,strokeColor:Xt,strokeWidth:lt,textAlign:lo,textBaseline:Ze,translation:[w,D],backdrop:Xc}})}return m}_getXAxisLabelAlignment(){let{position:n,ticks:t}=this.options;if(-Qt(this.labelRotation))return n==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(n){let{position:t,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,s=this._getLabelSizes(),a=n+o,c=s.widest.width,l,u;return t==="left"?i?(u=this.right+o,r==="near"?l="left":r==="center"?(l="center",u+=c/2):(l="right",u+=c)):(u=this.right-a,r==="near"?l="right":r==="center"?(l="center",u-=c/2):(l="left",u=this.left)):t==="right"?i?(u=this.left+o,r==="near"?l="right":r==="center"?(l="center",u-=c/2):(l="left",u-=c)):(u=this.left+a,r==="near"?l="left":r==="center"?(l="center",u+=c/2):(l="right",u=this.right)):l="right",{textAlign:l,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let n=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:n.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:n.width}}drawBackground(){let{ctx:n,options:{backgroundColor:t},left:r,top:i,width:o,height:s}=this;t&&(n.save(),n.fillStyle=t,n.fillRect(r,i,o,s),n.restore())}getLineWidthForValue(n){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let i=this.ticks.findIndex(o=>o.value===n);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(n){let t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n)),o,s,a=(c,l,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(l.x,l.y),r.stroke(),r.restore())};if(t.display)for(o=0,s=i.length;o<s;++o){let c=i[o];t.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:n,ctx:t,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),s=r.display?o.width:0;if(!s)return;let a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue,l,u,d,h;this.isHorizontal()?(l=Gr(n,this.left,s)-s/2,u=Gr(n,this.right,a)+a/2,d=h=c):(d=Gr(n,this.top,s)-s/2,h=Gr(n,this.bottom,a)+a/2,l=u=c),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(l,d),t.lineTo(u,h),t.stroke(),t.restore()}drawLabels(n){if(!this.options.ticks.display)return;let r=this.ctx,i=this._computeLabelArea();i&&Bc(r,i);let o=this.getLabelItems(n);for(let s of o){let a=s.options,c=s.font,l=s.label,u=s.textOffset;qr(r,l,0,u,c,a)}i&&Uc(r)}drawTitle(){let{ctx:n,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;let o=Pe(r.font),s=ct(r.padding),a=r.align,c=o.lineHeight/2;t==="bottom"||t==="center"||Q(t)?(c+=s.bottom,ye(r.text)&&(c+=o.lineHeight*(r.text.length-1))):c+=s.top;let{titleX:l,titleY:u,maxWidth:d,rotation:h}=Bj(this,c,t,a);qr(n,r.text,0,0,o,{color:r.color,maxWidth:d,rotation:h,textAlign:Vj(a,t,i),textBaseline:"middle",translation:[l,u]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){let n=this.options,t=n.ticks&&n.ticks.z||0,r=U(n.grid&&n.grid.z,-1),i=U(n.border&&n.border.z,0);return!this._isVisible()||this.draw!==e.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(n){let t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[],o,s;for(o=0,s=t.length;o<s;++o){let a=t[o];a[r]===this.id&&(!n||a.type===n)&&i.push(a)}return i}_resolveTickFontOptions(n){let t=this.options.ticks.setContext(this.getContext(n));return Pe(t.font)}_maxDigits(){let n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}},Ps=class{constructor(n,t,r){this.type=n,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){let t=Object.getPrototypeOf(n),r;Hj(t)&&(r=this.register(t));let i=this.items,o=n.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+n);return o in i||(i[o]=n,Uj(n,s,r),this.override&&_e.override(n.id,n.overrides)),s}get(n){return this.items[n]}unregister(n){let t=this.items,r=n.id,i=this.scope;r in t&&delete t[r],i&&r in _e[i]&&(delete _e[i][r],this.override&&delete Wr[r])}};function Uj(e,n,t){let r=Ss(Object.create(null),[t?_e.get(t):{},_e.get(n),e.defaults]);_e.set(n,r),e.defaultRoutes&&$j(n,e.defaultRoutes),e.descriptors&&_e.describe(n,e.descriptors)}function $j(e,n){Object.keys(n).forEach(t=>{let r=t.split("."),i=r.pop(),o=[e].concat(r).join("."),s=n[t].split("."),a=s.pop(),c=s.join(".");_e.route(o,i,c,a)})}function Hj(e){return"id"in e&&"defaults"in e}var yv=class{constructor(){this.controllers=new Ps(Zr,"datasets",!0),this.elements=new Ps(Dn,"elements"),this.plugins=new Ps(Object,"plugins"),this.scales=new Ps(co,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,t,r){[...t].forEach(i=>{let o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(n,o,i):he(i,s=>{let a=r||this._getRegistryForType(s);this._exec(n,a,s)})})}_exec(n,t,r){let i=yf(n);ge(r["before"+i],[],r),t[n](r),ge(r["after"+i],[],r)}_getRegistryForType(n){for(let t=0;t<this._typedRegistries.length;t++){let r=this._typedRegistries[t];if(r.isForType(n))return r}return this.plugins}_get(n,t,r){let i=t.get(n);if(i===void 0)throw new Error('"'+n+'" is not a registered '+r+".");return i}},Bn=new yv,vv=class{constructor(){this._init=void 0}notify(n,t,r,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install")),this._init===void 0)return;let o=i?this._descriptors(n).filter(i):this._descriptors(n),s=this._notify(o,n,t,r);return t==="afterDestroy"&&(this._notify(o,n,"stop"),this._notify(this._init,n,"uninstall"),this._init=void 0),s}_notify(n,t,r,i){i=i||{};for(let o of n){let s=o.plugin,a=s[r],c=[t,i,o.options];if(ge(a,c,s)===!1&&i.cancelable)return!1}return!0}invalidate(){Z(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),t}_createDescriptors(n,t){let r=n&&n.config,i=U(r.options&&r.options.plugins,{}),o=zj(r);return i===!1&&!t?[]:Gj(n,o,i,t)}_notifyStateChanges(n){let t=this._oldCache||[],r=this._cache,i=(o,s)=>o.filter(a=>!s.some(c=>a.plugin.id===c.plugin.id));this._notify(i(t,r),n,"stop"),this._notify(i(r,t),n,"start")}};function zj(e){let n={},t=[],r=Object.keys(Bn.plugins.items);for(let o=0;o<r.length;o++)t.push(Bn.getPlugin(r[o]));let i=e.plugins||[];for(let o=0;o<i.length;o++){let s=i[o];t.indexOf(s)===-1&&(t.push(s),n[s.id]=!0)}return{plugins:t,localIds:n}}function Wj(e,n){return!n&&e===!1?null:e===!0?{}:e}function Gj(e,{plugins:n,localIds:t},r,i){let o=[],s=e.getContext();for(let a of n){let c=a.id,l=Wj(r[c],i);l!==null&&o.push({plugin:a,options:qj(e.config,{plugin:a,local:t[c]},l,s)})}return o}function qj(e,{plugin:n,local:t},r,i){let o=e.pluginScopeKeys(n),s=e.getOptionScopes(r,o);return t&&n.defaults&&s.push(n.defaults),e.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bv(e,n){let t=_e.datasets[e]||{};return((n.datasets||{})[e]||{}).indexAxis||n.indexAxis||t.indexAxis||"x"}function Kj(e,n){let t=e;return e==="_index_"?t=n:e==="_value_"&&(t=n==="x"?"y":"x"),t}function Yj(e,n){return e===n?"_index_":"_value_"}function $S(e){if(e==="x"||e==="y"||e==="r")return e}function Jj(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function _v(e,...n){if($S(e))return e;for(let t of n){let r=t.axis||Jj(t.position)||e.length>1&&$S(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function HS(e,n,t){if(t[n+"AxisID"]===e)return{axis:n}}function Zj(e,n){if(n.data&&n.data.datasets){let t=n.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(t.length)return HS(e,"x",t[0])||HS(e,"y",t[0])}return{}}function Qj(e,n){let t=Wr[e.type]||{scales:{}},r=n.scales||{},i=bv(e.type,n),o=Object.create(null);return Object.keys(r).forEach(s=>{let a=r[s];if(!Q(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let c=_v(s,a,Zj(s,e),_e.scales[a.type]),l=Yj(c,i),u=t.scales||{};o[s]=xs(Object.create(null),[{axis:c},a,u[c],u[l]])}),e.data.datasets.forEach(s=>{let a=s.type||e.type,c=s.indexAxis||bv(a,n),u=(Wr[a]||{}).scales||{};Object.keys(u).forEach(d=>{let h=Kj(d,c),f=s[h+"AxisID"]||h;o[f]=o[f]||Object.create(null),xs(o[f],[{axis:h},r[f],u[d]])})}),Object.keys(o).forEach(s=>{let a=o[s];xs(a,[_e.scales[a.type],_e.scale])}),o}function AI(e){let n=e.options||(e.options={});n.plugins=U(n.plugins,{}),n.scales=Qj(e,n)}function RI(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Xj(e){return e=e||{},e.data=RI(e.data),AI(e),e}var zS=new Map,kI=new Set;function Af(e,n){let t=zS.get(e);return t||(t=n(),zS.set(e,t),kI.add(t)),t}var Gc=(e,n,t)=>{let r=sr(n,t);r!==void 0&&e.add(r)},wv=class{constructor(n){this._config=Xj(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=RI(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){let n=this._config;this.clearCache(),AI(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return Af(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,t){return Af(`${n}.transition.${t}`,()=>[[`datasets.${n}.transitions.${t}`,`transitions.${t}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,t){return Af(`${n}-${t}`,()=>[[`datasets.${n}.elements.${t}`,`datasets.${n}`,`elements.${t}`,""]])}pluginScopeKeys(n){let t=n.id,r=this.type;return Af(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,t){let r=this._scopeCache,i=r.get(n);return(!i||t)&&(i=new Map,r.set(n,i)),i}getOptionScopes(n,t,r){let{options:i,type:o}=this,s=this._cachedScopes(n,r),a=s.get(t);if(a)return a;let c=new Set;t.forEach(u=>{n&&(c.add(n),u.forEach(d=>Gc(c,n,d))),u.forEach(d=>Gc(c,i,d)),u.forEach(d=>Gc(c,Wr[o]||{},d)),u.forEach(d=>Gc(c,_e,d)),u.forEach(d=>Gc(c,wf,d))});let l=Array.from(c);return l.length===0&&l.push(Object.create(null)),kI.has(t)&&s.set(t,l),l}chartOptionScopes(){let{options:n,type:t}=this;return[n,Wr[t]||{},_e.datasets[t]||{},{type:t},_e,wf]}resolveNamedOptions(n,t,r,i=[""]){let o={$shared:!0},{resolver:s,subPrefixes:a}=WS(this._resolverCache,n,i),c=s;if(tV(s,t)){o.$shared=!1,r=ir(r)?r():r;let l=this.createResolver(n,r,a);c=ro(s,r,l)}for(let l of t)o[l]=c[l];return o}createResolver(n,t,r=[""],i){let{resolver:o}=WS(this._resolverCache,n,r);return Q(t)?ro(o,t,void 0,i):o}};function WS(e,n,t){let r=e.get(n);r||(r=new Map,e.set(n,r));let i=t.join(),o=r.get(i);return o||(o={resolver:Cf(n,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,o)),o}var eV=e=>Q(e)&&Object.getOwnPropertyNames(e).some(n=>ir(e[n]));function tV(e,n){let{isScriptable:t,isIndexable:r}=zy(e);for(let i of n){let o=t(i),s=r(i),a=(s||o)&&e[i];if(o&&(ir(a)||eV(a))||s&&ye(a))return!0}return!1}var nV="4.5.1",rV=["top","bottom","left","right","chartArea"];function GS(e,n){return e==="top"||e==="bottom"||rV.indexOf(e)===-1&&n==="x"}function qS(e,n){return function(t,r){return t[e]===r[e]?t[n]-r[n]:t[e]-r[e]}}function KS(e){let n=e.chart,t=n.options.animation;n.notifyPlugins("afterRender"),ge(t&&t.onComplete,[e],n)}function iV(e){let n=e.chart,t=n.options.animation;ge(t&&t.onProgress,[e],n)}function NI(e){return Sf()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}var Pf={},YS=e=>{let n=NI(e);return Object.values(Pf).filter(t=>t.canvas===n).pop()};function oV(e,n,t){let r=Object.keys(e);for(let i of r){let o=+i;if(o>=n){let s=e[i];delete e[i],(t>0||o>n)&&(e[o+t]=s)}}}function sV(e,n,t,r){return!t||e.type==="mouseout"?null:r?n:e}var $f=(()=>{class e{static defaults=_e;static instances=Pf;static overrides=Wr;static registry=Bn;static version=nV;static getChart=YS;static register(...t){Bn.add(...t),JS()}static unregister(...t){Bn.remove(...t),JS()}constructor(t,r){let i=this.config=new wv(r),o=NI(t),s=YS(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||xj(o)),this.platform.updateConfig(i);let c=this.platform.acquireContext(o,a.aspectRatio),l=c&&c.canvas,u=l&&l.height,d=l&&l.width;if(this.id=KC(),this.ctx=c,this.canvas=l,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new vv,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=oS(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],Pf[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}cr.listen(this,"complete",KS),cr.listen(this,"progress",iV),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:r},width:i,height:o,_aspectRatio:s}=this;return Z(t)?r&&s?s:o?i/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Bn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ky(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Uy(this.canvas,this.ctx),this}stop(){return cr.stop(this),this}resize(t,r){cr.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){let i=this.options,o=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,t,r,s),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Ky(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),ge(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let r=this.options.scales||{};he(r,(i,o)=>{i.id=o})}buildOrUpdateScales(){let t=this.options,r=t.scales,i=this.scales,o=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{}),s=[];r&&(s=s.concat(Object.keys(r).map(a=>{let c=r[a],l=_v(a,c),u=l==="r",d=l==="x";return{options:c,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),he(s,a=>{let c=a.options,l=c.id,u=_v(l,c),d=U(c.type,a.dtype);(c.position===void 0||GS(c.position,u)!==GS(a.dposition))&&(c.position=a.dposition),o[l]=!0;let h=null;if(l in i&&i[l].type===d)h=i[l];else{let f=Bn.getScale(d);h=new f({id:l,type:d,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(c,t)}),he(o,(a,c)=>{a||delete i[c]}),he(i,a=>{gt.configure(this,a,a.options),gt.addBox(this,a)})}_updateMetasets(){let t=this._metasets,r=this.data.datasets.length,i=t.length;if(t.sort((o,s)=>o.index-s.index),i>r){for(let o=r;o<i;++o)this._destroyDatasetMeta(o);t.splice(r,i-r)}this._sortedMetasets=t.slice(0).sort(qS("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((i,o)=>{r.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let t=[],r=this.data.datasets,i,o;for(this._removeUnreferencedMetasets(),i=0,o=r.length;i<o;i++){let s=r[i],a=this.getDatasetMeta(i),c=s.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=s.indexAxis||bv(c,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{let l=Bn.getController(c),{datasetElementType:u,dataElementType:d}=_e.datasets[c];Object.assign(l,{dataElementType:Bn.getElement(d),datasetElementType:u&&Bn.getElement(u)}),a.controller=new l(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){he(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let r=this.config;r.update();let i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){let{controller:h}=this.getDatasetMeta(u),f=!o&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),o||he(s,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(qS("z","_idx"));let{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){he(this.scales,t=>{gt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Ty(r,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(let{method:i,start:o,count:s}of r){let a=i==="_removeElements"?-s:s;oV(t,o,a)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let r=this.data.datasets.length,i=s=>new Set(t.filter(a=>a[0]===s).map((a,c)=>c+","+a.splice(1).join(","))),o=i(0);for(let s=1;s<r;s++)if(!Ty(o,i(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gt.update(this,this.width,this.height,t);let r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],he(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,ir(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){let i=this.getDatasetMeta(t),o={meta:i,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(r),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(cr.has(this)?this.attached&&!cr.running(this)&&cr.start(this):(this.draw(),KS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let r=this._sortedMetasets,i=[],o,s;for(o=0,s=r.length;o<s;++o){let a=r[o];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let r=this.ctx,i={meta:t,index:t.index,cancelable:!0},o=ev(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(o&&Bc(r,o),t.controller.draw(),o&&Uc(r),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Fn(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,i,o){let s=cj.modes[r];return typeof s=="function"?s(this,t,i,o):[]}getDatasetMeta(t){let r=this.data.datasets[t],i=this._metasets,o=i.filter(s=>s&&s._dataset===r).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=ar(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let r=this.data.datasets[t];if(!r)return!1;let i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!r.hidden}setDatasetVisibility(t,r){let i=this.getDatasetMeta(t);i.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,i){let o=i?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,o);Ts(r)?(s.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(s,{visible:i}),this.update(c=>c.datasetIndex===t?o:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){let r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),cr.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Uy(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Pf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,r=this.platform,i=(s,a)=>{r.addEventListener(this,s,a),t[s]=a},o=(s,a,c)=>{s.offsetX=a,s.offsetY=c,this._eventHandler(s)};he(this.options.events,s=>i(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,r=this.platform,i=(l,u)=>{r.addEventListener(this,l,u),t[l]=u},o=(l,u)=>{t[l]&&(r.removeEventListener(this,l,u),delete t[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)},a,c=()=>{o("attach",c),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),i("attach",c)},r.isAttached(this.canvas)?c():a()}unbindEvents(){he(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},he(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,i){let o=i?"set":"remove",s,a,c,l;for(r==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),c=0,l=t.length;c<l;++c){a=t[c];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let r=this._active||[],i=t.map(({datasetIndex:s,index:a})=>{let c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[a],index:a}});!jc(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(t,r,i){return this._plugins.notify(this,t,r,i)}isPluginEnabled(t){return this._plugins._cache.filter(r=>r.plugin.id===t).length===1}_updateHoverStyles(t,r,i){let o=this.options.hover,s=(l,u)=>l.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=s(r,t),c=i?t:s(t,r);a.length&&this.updateHoverStyle(a,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(t,r){let i={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},o=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;let s=this._handleEvent(t,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(s||i.changed)&&this.render(),this}_handleEvent(t,r,i){let{_active:o=[],options:s}=this,a=r,c=this._getActiveElements(t,o,i,a),l=ZC(t),u=sV(t,this._lastEvent,i,l);i&&(this._lastEvent=null,ge(s.onHover,[t,c,this],this),l&&ge(s.onClick,[t,c,this],this));let d=!jc(c,o);return(d||r)&&(this._active=c,this._updateHoverStyles(c,o,r)),this._lastEvent=u,d}_getActiveElements(t,r,i,o){if(t.type==="mouseout")return[];if(!i)return r;let s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,o)}}return e})();function JS(){return he($f.instances,e=>e._plugins.invalidate())}function aV(e,n,t){let{startAngle:r,x:i,y:o,outerRadius:s,innerRadius:a,options:c}=n,{borderWidth:l,borderJoinStyle:u}=c,d=Math.min(l/s,st(r-t));if(e.beginPath(),e.arc(i,o,s-l/2,r+d/2,t-d/2),a>0){let h=Math.min(l/a,st(r-t));e.arc(i,o,a+l/2,t-h/2,r+h/2,!0)}else{let h=Math.min(l/2,s*st(r-t));if(u==="round")e.arc(i,o,h,t-oe/2,r+oe/2,!0);else if(u==="bevel"){let f=2*h*h,p=-f*Math.cos(t+oe/2)+i,g=-f*Math.sin(t+oe/2)+o,m=f*Math.cos(r+oe/2)+i,y=f*Math.sin(r+oe/2)+o;e.lineTo(p,g),e.lineTo(m,y)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function cV(e,n,t){let{startAngle:r,pixelMargin:i,x:o,y:s,outerRadius:a,innerRadius:c}=n,l=i/a;e.beginPath(),e.arc(o,s,a,r-l,t+l),c>i?(l=i/c,e.arc(o,s,c,t+l,r-l,!0)):e.arc(o,s,i,t+Re,r-Re),e.closePath(),e.clip()}function lV(e){return Ef(e,["outerStart","outerEnd","innerStart","innerEnd"])}function uV(e,n,t,r){let i=lV(e.options.borderRadius),o=(t-n)/2,s=Math.min(o,r*n/2),a=c=>{let l=(t-Math.min(o,c))*r/2;return Be(c,0,Math.min(o,l))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Be(i.innerStart,0,s),innerEnd:Be(i.innerEnd,0,s)}}function Os(e,n,t,r){return{x:t+e*Math.cos(n),y:r+e*Math.sin(n)}}function Vf(e,n,t,r,i,o){let{x:s,y:a,startAngle:c,pixelMargin:l,innerRadius:u}=n,d=Math.max(n.outerRadius+r+t-l,0),h=u>0?u+r+t+l:0,f=0,p=i-c;if(r){let pe=u>0?u-r:0,we=d>0?d-r:0,ke=(pe+we)/2,Xt=ke!==0?p*ke/(ke+r):p;f=(p-Xt)/2}let g=Math.max(.001,p*d-t/oe)/d,m=(p-g)/2,y=c+m+f,v=i-m-f,{outerStart:_,outerEnd:b,innerStart:w,innerEnd:D}=uV(n,h,d,v-y),S=d-_,E=d-b,N=y+_/S,j=v-b/E,q=h+w,X=h+D,Ze=y+w/q,kt=v-D/X;if(e.beginPath(),o){let pe=(N+j)/2;if(e.arc(s,a,d,N,pe),e.arc(s,a,d,pe,j),b>0){let lt=Os(E,j,s,a);e.arc(lt.x,lt.y,b,j,v+Re)}let we=Os(X,v,s,a);if(e.lineTo(we.x,we.y),D>0){let lt=Os(X,kt,s,a);e.arc(lt.x,lt.y,D,v+Re,kt+Math.PI)}let ke=(v-D/h+(y+w/h))/2;if(e.arc(s,a,h,v-D/h,ke,!0),e.arc(s,a,h,ke,y+w/h,!0),w>0){let lt=Os(q,Ze,s,a);e.arc(lt.x,lt.y,w,Ze+Math.PI,y-Re)}let Xt=Os(S,y,s,a);if(e.lineTo(Xt.x,Xt.y),_>0){let lt=Os(S,N,s,a);e.arc(lt.x,lt.y,_,y-Re,N)}}else{e.moveTo(s,a);let pe=Math.cos(N)*d+s,we=Math.sin(N)*d+a;e.lineTo(pe,we);let ke=Math.cos(j)*d+s,Xt=Math.sin(j)*d+a;e.lineTo(ke,Xt)}e.closePath()}function dV(e,n,t,r,i){let{fullCircles:o,startAngle:s,circumference:a}=n,c=n.endAngle;if(o){Vf(e,n,t,r,c,i);for(let l=0;l<o;++l)e.fill();isNaN(a)||(c=s+(a%ve||ve))}return Vf(e,n,t,r,c,i),e.fill(),c}function fV(e,n,t,r,i){let{fullCircles:o,startAngle:s,circumference:a,options:c}=n,{borderWidth:l,borderJoinStyle:u,borderDash:d,borderDashOffset:h,borderRadius:f}=c,p=c.borderAlign==="inner";if(!l)return;e.setLineDash(d||[]),e.lineDashOffset=h,p?(e.lineWidth=l*2,e.lineJoin=u||"round"):(e.lineWidth=l,e.lineJoin=u||"bevel");let g=n.endAngle;if(o){Vf(e,n,t,r,g,i);for(let m=0;m<o;++m)e.stroke();isNaN(a)||(g=s+(a%ve||ve))}p&&cV(e,n,g),c.selfJoin&&g-s>=oe&&f===0&&u!=="miter"&&aV(e,n,g),o||(Vf(e,n,t,r,g,i),e.stroke())}var Dv=class extends Dn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(n){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,t,r){let i=this.getProps(["x","y"],r),{angle:o,distance:s}=ky(i,{x:n,y:t}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),h=(this.options.spacing+this.options.borderWidth)/2,f=U(d,c-a),p=As(o,a,c)&&a!==c,g=f>=ve||p,m=jn(s,l+h,u+h);return g&&m}getCenterPoint(n){let{x:t,y:r,startAngle:i,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:l}=this.options,u=(i+o)/2,d=(s+a+l+c)/2;return{x:t+Math.cos(u)*d,y:r+Math.sin(u)*d}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){let{options:t,circumference:r}=this,i=(t.offset||0)/4,o=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=r>ve?Math.floor(r/ve):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();let a=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(a)*i,Math.sin(a)*i);let c=1-Math.sin(Math.min(oe,r||0)),l=i*c;n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor,dV(n,this,l,o,s),fV(n,this,l,o,s),n.restore()}};function OI(e,n,t=n){e.lineCap=U(t.borderCapStyle,n.borderCapStyle),e.setLineDash(U(t.borderDash,n.borderDash)),e.lineDashOffset=U(t.borderDashOffset,n.borderDashOffset),e.lineJoin=U(t.borderJoinStyle,n.borderJoinStyle),e.lineWidth=U(t.borderWidth,n.borderWidth),e.strokeStyle=U(t.borderColor,n.borderColor)}function hV(e,n,t){e.lineTo(t.x,t.y)}function pV(e){return e.stepped?lS:e.tension||e.cubicInterpolationMode==="monotone"?uS:hV}function PI(e,n,t={}){let r=e.length,{start:i=0,end:o=r-1}=t,{start:s,end:a}=n,c=Math.max(i,s),l=Math.min(o,a),u=i<s&&o<s||i>a&&o>a;return{count:r,start:c,loop:n.loop,ilen:l<c&&!u?r+l-c:l-c}}function gV(e,n,t,r){let{points:i,options:o}=n,{count:s,start:a,loop:c,ilen:l}=PI(i,t,r),u=pV(o),{move:d=!0,reverse:h}=r||{},f,p,g;for(f=0;f<=l;++f)p=i[(a+(h?l-f:f))%s],!p.skip&&(d?(e.moveTo(p.x,p.y),d=!1):u(e,g,p,h,o.stepped),g=p);return c&&(p=i[(a+(h?l:0))%s],u(e,g,p,h,o.stepped)),!!c}function mV(e,n,t,r){let i=n.points,{count:o,start:s,ilen:a}=PI(i,t,r),{move:c=!0,reverse:l}=r||{},u=0,d=0,h,f,p,g,m,y,v=b=>(s+(l?a-b:b))%o,_=()=>{g!==m&&(e.lineTo(u,m),e.lineTo(u,g),e.lineTo(u,y))};for(c&&(f=i[v(0)],e.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=i[v(h)],f.skip)continue;let b=f.x,w=f.y,D=b|0;D===p?(w<g?g=w:w>m&&(m=w),u=(d*u+b)/++d):(_(),e.lineTo(b,w),p=D,d=0,g=m=w),y=w}_()}function Ev(e){let n=e.options,t=n.borderDash&&n.borderDash.length;return!e._decimated&&!e._loop&&!n.tension&&n.cubicInterpolationMode!=="monotone"&&!n.stepped&&!t?mV:gV}function yV(e){return e.stepped?bS:e.tension||e.cubicInterpolationMode==="monotone"?_S:Hr}function vV(e,n,t,r){let i=n._path;i||(i=n._path=new Path2D,n.path(i,t,r)&&i.closePath()),OI(e,n.options),e.stroke(i)}function bV(e,n,t,r){let{segments:i,options:o}=n,s=Ev(n);for(let a of i)OI(e,o,a.style),e.beginPath(),s(e,n,a,{start:t,end:t+r-1})&&e.closePath(),e.stroke()}var _V=typeof Path2D=="function";function wV(e,n,t,r){_V&&!n.options.segment?vV(e,n,t,r):bV(e,n,t,r)}var Hf=(()=>{class e extends Dn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){let i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){let o=i.spanGaps?this._loop:this._fullLoop;mS(this._points,i,t,o,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=DS(this,this.options.segment))}first(){let t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){let t=this.segments,r=this.points,i=t.length;return i&&r[t[i-1].end]}interpolate(t,r){let i=this.options,o=t[r],s=this.points,a=Xy(this,{property:r,start:o,end:o});if(!a.length)return;let c=[],l=yV(i),u,d;for(u=0,d=a.length;u<d;++u){let{start:h,end:f}=a[u],p=s[h],g=s[f];if(p===g){c.push(p);continue}let m=Math.abs((o-p[r])/(g[r]-p[r])),y=l(p,g,m,i.stepped);y[r]=t[r],c.push(y)}return c.length===1?c[0]:c}pathSegment(t,r,i){return Ev(this)(t,this,r,i)}path(t,r,i){let o=this.segments,s=Ev(this),a=this._loop;r=r||0,i=i||this.points.length-r;for(let c of o)a&=s(t,this,c,{start:r,end:r+i-1});return!!a}draw(t,r,i,o){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),wV(t,this,i,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return e})();function ZS(e,n,t,r){let i=e.options,{[t]:o}=e.getProps([t],r);return Math.abs(n-o)<i.radius+i.hitRadius}var DV=(()=>{class e extends Dn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){let o=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(r-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,r){return ZS(this,t,"x",r)}inYRange(t,r){return ZS(this,t,"y",r)}getCenterPoint(t){let{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);let i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){let i=this.options;this.skip||i.radius<.1||!Fn(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Df(t,i,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return e})();function FI(e,n){let{x:t,y:r,base:i,width:o,height:s}=e.getProps(["x","y","base","width","height"],n),a,c,l,u,d;return e.horizontal?(d=s/2,a=Math.min(t,i),c=Math.max(t,i),l=r-d,u=r+d):(d=o/2,a=t-d,c=t+d,l=Math.min(r,i),u=Math.max(r,i)),{left:a,top:l,right:c,bottom:u}}function Jr(e,n,t,r){return e?0:Be(n,t,r)}function EV(e,n,t){let r=e.options.borderWidth,i=e.borderSkipped,o=Hy(r);return{t:Jr(i.top,o.top,0,t),r:Jr(i.right,o.right,0,n),b:Jr(i.bottom,o.bottom,0,t),l:Jr(i.left,o.left,0,n)}}function CV(e,n,t){let{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,o=Kr(i),s=Math.min(n,t),a=e.borderSkipped,c=r||Q(i);return{topLeft:Jr(!c||a.top||a.left,o.topLeft,0,s),topRight:Jr(!c||a.top||a.right,o.topRight,0,s),bottomLeft:Jr(!c||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:Jr(!c||a.bottom||a.right,o.bottomRight,0,s)}}function SV(e){let n=FI(e),t=n.right-n.left,r=n.bottom-n.top,i=EV(e,t/2,r/2),o=CV(e,t/2,r/2);return{outer:{x:n.left,y:n.top,w:t,h:r,radius:o},inner:{x:n.left+i.l,y:n.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function cv(e,n,t,r){let i=n===null,o=t===null,a=e&&!(i&&o)&&FI(e,r);return a&&(i||jn(n,a.left,a.right))&&(o||jn(t,a.top,a.bottom))}function IV(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function xV(e,n){e.rect(n.x,n.y,n.w,n.h)}function lv(e,n,t={}){let r=e.x!==t.x?-n:0,i=e.y!==t.y?-n:0,o=(e.x+e.w!==t.x+t.w?n:0)-r,s=(e.y+e.h!==t.y+t.h?n:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+o,h:e.h+s,radius:e.radius}}var Cv=class extends Dn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){let{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:o,outer:s}=SV(this),a=IV(s.radius)?ks:xV;n.save(),(s.w!==o.w||s.h!==o.h)&&(n.beginPath(),a(n,lv(s,t,o)),n.clip(),a(n,lv(o,-t,s)),n.fillStyle=r,n.fill("evenodd")),n.beginPath(),a(n,lv(o,t)),n.fillStyle=i,n.fill(),n.restore()}inRange(n,t,r){return cv(this,n,t,r)}inXRange(n,t){return cv(this,n,null,t)}inYRange(n,t){return cv(this,null,n,t)}getCenterPoint(n){let{x:t,y:r,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],n);return{x:o?(t+i)/2:t,y:o?r:(r+i)/2}}getRange(n){return n==="x"?this.width/2:this.height/2}},TV=Object.freeze({__proto__:null,ArcElement:Dv,BarElement:Cv,LineElement:Hf,PointElement:DV}),Sv=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],QS=Sv.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function LI(e){return Sv[e%Sv.length]}function jI(e){return QS[e%QS.length]}function MV(e,n){return e.borderColor=LI(n),e.backgroundColor=jI(n),++n}function AV(e,n){return e.backgroundColor=e.data.map(()=>LI(n++)),n}function RV(e,n){return e.backgroundColor=e.data.map(()=>jI(n++)),n}function kV(e){let n=0;return(t,r)=>{let i=e.getDatasetMeta(r).controller;i instanceof Nv?n=AV(t,n):i instanceof SI?n=RV(t,n):i&&(n=MV(t,n))}}function XS(e){let n;for(n in e)if(e[n].borderColor||e[n].backgroundColor)return!0;return!1}function NV(e){return e&&(e.borderColor||e.backgroundColor)}function OV(){return _e.borderColor!=="rgba(0,0,0,0.1)"||_e.backgroundColor!=="rgba(0,0,0,0.1)"}var PV={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,n,t){if(!t.enabled)return;let{data:{datasets:r},options:i}=e.config,{elements:o}=i,s=XS(r)||NV(i)||o&&XS(o)||OV();if(!t.forceOverride&&s)return;let a=kV(e);r.forEach(a)}};function FV(e,n,t,r,i){let o=i.samples||r;if(o>=t)return e.slice(n,n+t);let s=[],a=(t-2)/(o-2),c=0,l=n+t-1,u=n,d,h,f,p,g;for(s[c++]=e[u],d=0;d<o-2;d++){let m=0,y=0,v,_=Math.floor((d+1)*a)+1+n,b=Math.min(Math.floor((d+2)*a)+1,t)+n,w=b-_;for(v=_;v<b;v++)m+=e[v].x,y+=e[v].y;m/=w,y/=w;let D=Math.floor(d*a)+1+n,S=Math.min(Math.floor((d+1)*a)+1,t)+n,{x:E,y:N}=e[u];for(f=p=-1,v=D;v<S;v++)p=.5*Math.abs((E-m)*(e[v].y-N)-(E-e[v].x)*(y-N)),p>f&&(f=p,h=e[v],g=v);s[c++]=h,u=g}return s[c++]=e[l],s}function LV(e,n,t,r){let i=0,o=0,s,a,c,l,u,d,h,f,p,g,m=[],y=n+t-1,v=e[n].x,b=e[y].x-v;for(s=n;s<n+t;++s){a=e[s],c=(a.x-v)/b*r,l=a.y;let w=c|0;if(w===u)l<p?(p=l,d=s):l>g&&(g=l,h=s),i=(o*i+a.x)/++o;else{let D=s-1;if(!Z(d)&&!Z(h)){let S=Math.min(d,h),E=Math.max(d,h);S!==f&&S!==D&&m.push(Y(T({},e[S]),{x:i})),E!==f&&E!==D&&m.push(Y(T({},e[E]),{x:i}))}s>0&&D!==f&&m.push(e[D]),m.push(a),u=w,o=0,p=g=l,d=h=f=s}}return m}function VI(e){if(e._decimated){let n=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:n})}}function eI(e){e.data.datasets.forEach(n=>{VI(n)})}function jV(e,n){let t=n.length,r=0,i,{iScale:o}=e,{min:s,max:a,minDefined:c,maxDefined:l}=o.getUserBounds();return c&&(r=Be(Pn(n,o.axis,s).lo,0,t-1)),l?i=Be(Pn(n,o.axis,a).hi+1,r,t)-r:i=t-r,{start:r,count:i}}var VV={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,n,t)=>{if(!t.enabled){eI(e);return}let r=e.width;e.data.datasets.forEach((i,o)=>{let{_data:s,indexAxis:a}=i,c=e.getDatasetMeta(o),l=s||i.data;if(Ns([a,e.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let u=e.scales[c.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:d,count:h}=jV(c,l),f=t.threshold||4*r;if(h<=f){VI(i);return}Z(s)&&(i._data=l,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(t.algorithm){case"lttb":p=FV(l,d,h,r,t);break;case"min-max":p=LV(l,d,h,r);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=p})},destroy(e){eI(e)}};function BV(e,n,t){let r=e.segments,i=e.points,o=n.points,s=[];for(let a of r){let{start:c,end:l}=a;l=zf(c,l,i);let u=Iv(t,i[c],i[l],a.loop);if(!n.segments){s.push({source:a,target:u,start:i[c],end:i[l]});continue}let d=Xy(n,u);for(let h of d){let f=Iv(t,o[h.start],o[h.end],h.loop),p=Qy(a,i,f);for(let g of p)s.push({source:g,target:h,start:{[t]:tI(u,f,"start",Math.max)},end:{[t]:tI(u,f,"end",Math.min)}})}}return s}function Iv(e,n,t,r){if(r)return;let i=n[e],o=t[e];return e==="angle"&&(i=st(i),o=st(o)),{property:e,start:i,end:o}}function UV(e,n){let{x:t=null,y:r=null}=e||{},i=n.points,o=[];return n.segments.forEach(({start:s,end:a})=>{a=zf(s,a,i);let c=i[s],l=i[a];r!==null?(o.push({x:c.x,y:r}),o.push({x:l.x,y:r})):t!==null&&(o.push({x:t,y:c.y}),o.push({x:t,y:l.y}))}),o}function zf(e,n,t){for(;n>e;n--){let r=t[n];if(!isNaN(r.x)&&!isNaN(r.y))break}return n}function tI(e,n,t,r){return e&&n?r(e[t],n[t]):e?e[t]:n?n[t]:0}function BI(e,n){let t=[],r=!1;return ye(e)?(r=!0,t=e):t=UV(e,n),t.length?new Hf({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function nI(e){return e&&e.fill!==!1}function $V(e,n,t){let i=e[n].fill,o=[n],s;if(!t)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!xe(i))return i;if(s=e[i],!s)return!1;if(s.visible)return i;o.push(i),i=s.fill}return!1}function HV(e,n,t){let r=qV(e);if(Q(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return xe(i)&&Math.floor(i)===i?zV(r[0],n,i,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function zV(e,n,t,r){return(e==="-"||e==="+")&&(t=n+t),t===n||t<0||t>=r?!1:t}function WV(e,n){let t=null;return e==="start"?t=n.bottom:e==="end"?t=n.top:Q(e)?t=n.getPixelForValue(e.value):n.getBasePixel&&(t=n.getBasePixel()),t}function GV(e,n,t){let r;return e==="start"?r=t:e==="end"?r=n.options.reverse?n.min:n.max:Q(e)?r=e.value:r=n.getBaseValue(),r}function qV(e){let n=e.options,t=n.fill,r=U(t&&t.target,t);return r===void 0&&(r=!!n.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function KV(e){let{scale:n,index:t,line:r}=e,i=[],o=r.segments,s=r.points,a=YV(n,t);a.push(BI({x:null,y:n.bottom},r));for(let c=0;c<o.length;c++){let l=o[c];for(let u=l.start;u<=l.end;u++)JV(i,s[u],a)}return new Hf({points:i,options:{}})}function YV(e,n){let t=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){let o=r[i];if(o.index===n)break;o.hidden||t.unshift(o.dataset)}return t}function JV(e,n,t){let r=[];for(let i=0;i<t.length;i++){let o=t[i],{first:s,last:a,point:c}=ZV(o,n,"x");if(!(!c||s&&a)){if(s)r.unshift(c);else if(e.push(c),!a)break}}e.push(...r)}function ZV(e,n,t){let r=e.interpolate(n,t);if(!r)return{};let i=r[t],o=e.segments,s=e.points,a=!1,c=!1;for(let l=0;l<o.length;l++){let u=o[l],d=s[u.start][t],h=s[u.end][t];if(jn(i,d,h)){a=i===d,c=i===h;break}}return{first:a,last:c,point:r}}var Bf=class{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,t,r){let{x:i,y:o,radius:s}=this;return t=t||{start:0,end:ve},n.arc(i,o,s,t.end,t.start,!0),!r.bounds}interpolate(n){let{x:t,y:r,radius:i}=this,o=n.angle;return{x:t+Math.cos(o)*i,y:r+Math.sin(o)*i,angle:o}}};function QV(e){let{chart:n,fill:t,line:r}=e;if(xe(t))return XV(n,t);if(t==="stack")return KV(e);if(t==="shape")return!0;let i=e2(e);return i instanceof Bf?i:BI(i,r)}function XV(e,n){let t=e.getDatasetMeta(n);return t&&e.isDatasetVisible(n)?t.dataset:null}function e2(e){return(e.scale||{}).getPointPositionForValue?n2(e):t2(e)}function t2(e){let{scale:n={},fill:t}=e,r=WV(t,n);if(xe(r)){let i=n.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function n2(e){let{scale:n,fill:t}=e,r=n.options,i=n.getLabels().length,o=r.reverse?n.max:n.min,s=GV(t,n,o),a=[];if(r.grid.circular){let c=n.getPointPositionForValue(0,o);return new Bf({x:c.x,y:c.y,radius:n.getDistanceFromCenterForValue(s)})}for(let c=0;c<i;++c)a.push(n.getPointPositionForValue(c,s));return a}function uv(e,n,t){let r=QV(n),{chart:i,index:o,line:s,scale:a,axis:c}=n,l=s.options,u=l.fill,d=l.backgroundColor,{above:h=d,below:f=d}=u||{},p=i.getDatasetMeta(o),g=ev(i,p);r&&s.points.length&&(Bc(e,t),r2(e,{line:s,target:r,above:h,below:f,area:t,scale:a,axis:c,clip:g}),Uc(e))}function r2(e,n){let{line:t,target:r,above:i,below:o,area:s,scale:a,clip:c}=n,l=t._loop?"angle":n.axis;e.save();let u=o;o!==i&&(l==="x"?(rI(e,r,s.top),dv(e,{line:t,target:r,color:i,scale:a,property:l,clip:c}),e.restore(),e.save(),rI(e,r,s.bottom)):l==="y"&&(iI(e,r,s.left),dv(e,{line:t,target:r,color:o,scale:a,property:l,clip:c}),e.restore(),e.save(),iI(e,r,s.right),u=i)),dv(e,{line:t,target:r,color:u,scale:a,property:l,clip:c}),e.restore()}function rI(e,n,t){let{segments:r,points:i}=n,o=!0,s=!1;e.beginPath();for(let a of r){let{start:c,end:l}=a,u=i[c],d=i[zf(c,l,i)];o?(e.moveTo(u.x,u.y),o=!1):(e.lineTo(u.x,t),e.lineTo(u.x,u.y)),s=!!n.pathSegment(e,a,{move:s}),s?e.closePath():e.lineTo(d.x,t)}e.lineTo(n.first().x,t),e.closePath(),e.clip()}function iI(e,n,t){let{segments:r,points:i}=n,o=!0,s=!1;e.beginPath();for(let a of r){let{start:c,end:l}=a,u=i[c],d=i[zf(c,l,i)];o?(e.moveTo(u.x,u.y),o=!1):(e.lineTo(t,u.y),e.lineTo(u.x,u.y)),s=!!n.pathSegment(e,a,{move:s}),s?e.closePath():e.lineTo(t,d.y)}e.lineTo(t,n.first().y),e.closePath(),e.clip()}function dv(e,n){let{line:t,target:r,property:i,color:o,scale:s,clip:a}=n,c=BV(t,r,i);for(let{source:l,target:u,start:d,end:h}of c){let{style:{backgroundColor:f=o}={}}=l,p=r!==!0;e.save(),e.fillStyle=f,i2(e,s,a,p&&Iv(i,d,h)),e.beginPath();let g=!!t.pathSegment(e,l),m;if(p){g?e.closePath():oI(e,r,h,i);let y=!!r.pathSegment(e,u,{move:g,reverse:!0});m=g&&y,m||oI(e,r,d,i)}e.closePath(),e.fill(m?"evenodd":"nonzero"),e.restore()}}function i2(e,n,t,r){let i=n.chart.chartArea,{property:o,start:s,end:a}=r||{};if(o==="x"||o==="y"){let c,l,u,d;o==="x"?(c=s,l=i.top,u=a,d=i.bottom):(c=i.left,l=s,u=i.right,d=a),e.beginPath(),t&&(c=Math.max(c,t.left),u=Math.min(u,t.right),l=Math.max(l,t.top),d=Math.min(d,t.bottom)),e.rect(c,l,u-c,d-l),e.clip()}}function oI(e,n,t,r){let i=n.interpolate(t,r);i&&e.lineTo(i.x,i.y)}var o2={id:"filler",afterDatasetsUpdate(e,n,t){let r=(e.data.datasets||[]).length,i=[],o,s,a,c;for(s=0;s<r;++s)o=e.getDatasetMeta(s),a=o.dataset,c=null,a&&a.options&&a instanceof Hf&&(c={visible:e.isDatasetVisible(s),index:s,fill:HV(a,s,r),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=c,i.push(c);for(s=0;s<r;++s)c=i[s],!(!c||c.fill===!1)&&(c.fill=$V(i,s,t.propagate))},beforeDraw(e,n,t){let r=t.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let s=i.length-1;s>=0;--s){let a=i[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),r&&a.fill&&uv(e.ctx,a,o))}},beforeDatasetsDraw(e,n,t){if(t.drawTime!=="beforeDatasetsDraw")return;let r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){let o=r[i].$filler;nI(o)&&uv(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,n,t){let r=n.meta.$filler;!nI(r)||t.drawTime!=="beforeDatasetDraw"||uv(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},sI=(e,n)=>{let{boxHeight:t=n,boxWidth:r=n}=e;return e.usePointStyle&&(t=Math.min(t,n),r=e.pointStyleWidth||Math.min(r,n)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(n,t)}},s2=(e,n)=>e!==null&&n!==null&&e.datasetIndex===n.datasetIndex&&e.index===n.index,Uf=class extends Dn{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,t,r){this.maxWidth=n,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let n=this.options.labels||{},t=ge(n.generateLabels,[this.chart],this)||[];n.filter&&(t=t.filter(r=>n.filter(r,this.chart.data))),n.sort&&(t=t.sort((r,i)=>n.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:n,ctx:t}=this;if(!n.display){this.width=this.height=0;return}let r=n.labels,i=Pe(r.font),o=i.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=sI(r,o),l,u;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(s,o,a,c)+10):(u=this.maxHeight,l=this._fitCols(s,i,a,c)+10),this.width=Math.min(l,n.maxWidth||this.maxWidth),this.height=Math.min(u,n.maxHeight||this.maxHeight)}_fitRows(n,t,r,i){let{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],u=i+a,d=n;o.textAlign="left",o.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((p,g)=>{let m=r+t/2+o.measureText(p.text).width;(g===0||l[l.length-1]+m+2*a>s)&&(d+=u,l[l.length-(g>0?0:1)]=0,f+=u,h++),c[g]={left:0,top:f,row:h,width:m,height:i},l[l.length-1]+=m+a}),d}_fitCols(n,t,r,i){let{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],u=s-n,d=a,h=0,f=0,p=0,g=0;return this.legendItems.forEach((m,y)=>{let{itemWidth:v,itemHeight:_}=a2(r,t,o,m,i);y>0&&f+_+2*a>u&&(d+=h+a,l.push({width:h,height:f}),p+=h+a,g++,h=f=0),c[y]={left:p,top:f,col:g,width:v,height:_},h=Math.max(h,v),f+=_+a}),d+=h,l.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;let n=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:o}}=this,s=oo(o,this.left,this.width);if(this.isHorizontal()){let a=0,c=at(r,this.left+i,this.right-this.lineWidths[a]);for(let l of t)a!==l.row&&(a=l.row,c=at(r,this.left+i,this.right-this.lineWidths[a])),l.top+=this.top+n+i,l.left=s.leftForLtr(s.x(c),l.width),c+=l.width+i}else{let a=0,c=at(r,this.top+n+i,this.bottom-this.columnSizes[a].height);for(let l of t)l.col!==a&&(a=l.col,c=at(r,this.top+n+i,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+i,l.left=s.leftForLtr(s.x(l.left),l.width),c+=l.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let n=this.ctx;Bc(n,this),this._draw(),Uc(n)}}_draw(){let{options:n,columnSizes:t,lineWidths:r,ctx:i}=this,{align:o,labels:s}=n,a=_e.color,c=oo(n.rtl,this.left,this.width),l=Pe(s.font),{padding:u}=s,d=l.size,h=d/2,f;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;let{boxWidth:p,boxHeight:g,itemHeight:m}=sI(s,d),y=function(D,S,E){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;i.save();let N=U(E.lineWidth,1);if(i.fillStyle=U(E.fillStyle,a),i.lineCap=U(E.lineCap,"butt"),i.lineDashOffset=U(E.lineDashOffset,0),i.lineJoin=U(E.lineJoin,"miter"),i.lineWidth=N,i.strokeStyle=U(E.strokeStyle,a),i.setLineDash(U(E.lineDash,[])),s.usePointStyle){let j={radius:g*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:N},q=c.xPlus(D,p/2),X=S+h;$y(i,j,q,X,s.pointStyleWidth&&p)}else{let j=S+Math.max((d-g)/2,0),q=c.leftForLtr(D,p),X=Kr(E.borderRadius);i.beginPath(),Object.values(X).some(Ze=>Ze!==0)?ks(i,{x:q,y:j,w:p,h:g,radius:X}):i.rect(q,j,p,g),i.fill(),N!==0&&i.stroke()}i.restore()},v=function(D,S,E){qr(i,E.text,D,S+m/2,l,{strikethrough:E.hidden,textAlign:c.textAlign(E.textAlign)})},_=this.isHorizontal(),b=this._computeTitleHeight();_?f={x:at(o,this.left+u,this.right-r[0]),y:this.top+u+b,line:0}:f={x:this.left+u,y:at(o,this.top+b+u,this.bottom-t[0].height),line:0},Jy(this.ctx,n.textDirection);let w=m+u;this.legendItems.forEach((D,S)=>{i.strokeStyle=D.fontColor,i.fillStyle=D.fontColor;let E=i.measureText(D.text).width,N=c.textAlign(D.textAlign||(D.textAlign=s.textAlign)),j=p+h+E,q=f.x,X=f.y;c.setWidth(this.width),_?S>0&&q+j+u>this.right&&(X=f.y+=w,f.line++,q=f.x=at(o,this.left+u,this.right-r[f.line])):S>0&&X+w>this.bottom&&(q=f.x=q+t[f.line].width+u,f.line++,X=f.y=at(o,this.top+b+u,this.bottom-t[f.line].height));let Ze=c.x(q);if(y(Ze,X,D),q=sS(N,q+p+h,_?q+j:this.right,n.rtl),v(c.x(q),X,D),_)f.x+=j+u;else if(typeof D.text!="string"){let kt=l.lineHeight;f.y+=UI(D,kt)+u}else f.y+=w}),Zy(this.ctx,n.textDirection)}drawTitle(){let n=this.options,t=n.title,r=Pe(t.font),i=ct(t.padding);if(!t.display)return;let o=oo(n.rtl,this.left,this.width),s=this.ctx,a=t.position,c=r.size/2,l=i.top+c,u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+l,d=at(n.align,d,this.right-h);else{let p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=l+at(n.align,this.top,this.bottom-p-n.labels.padding-this._computeTitleHeight())}let f=at(a,d,d+h);s.textAlign=o.textAlign(_f(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=r.string,qr(s,t.text,f,u,r)}_computeTitleHeight(){let n=this.options.title,t=Pe(n.font),r=ct(n.padding);return n.display?t.lineHeight+r.height:0}_getLegendItemAt(n,t){let r,i,o;if(jn(n,this.left,this.right)&&jn(t,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],jn(n,i.left,i.left+i.width)&&jn(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(n){let t=this.options;if(!u2(n.type,t))return;let r=this._getLegendItemAt(n.x,n.y);if(n.type==="mousemove"||n.type==="mouseout"){let i=this._hoveredItem,o=s2(i,r);i&&!o&&ge(t.onLeave,[n,i,this],this),this._hoveredItem=r,r&&!o&&ge(t.onHover,[n,r,this],this)}else r&&ge(t.onClick,[n,r,this],this)}};function a2(e,n,t,r,i){let o=c2(r,e,n,t),s=l2(i,r,n.lineHeight);return{itemWidth:o,itemHeight:s}}function c2(e,n,t,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((o,s)=>o.length>s.length?o:s)),n+t.size/2+r.measureText(i).width}function l2(e,n,t){let r=e;return typeof n.text!="string"&&(r=UI(n,t)),r}function UI(e,n){let t=e.text?e.text.length:0;return n*t}function u2(e,n){return!!((e==="mousemove"||e==="mouseout")&&(n.onHover||n.onLeave)||n.onClick&&(e==="click"||e==="mouseup"))}var d2={id:"legend",_element:Uf,start(e,n,t){let r=e.legend=new Uf({ctx:e.ctx,options:t,chart:e});gt.configure(e,r,t),gt.addBox(e,r)},stop(e){gt.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,n,t){let r=e.legend;gt.configure(e,r,t),r.options=t},afterUpdate(e){let n=e.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(e,n){n.replay||e.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,n,t){let r=n.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),n.hidden=!0):(i.show(r),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){let n=e.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:o,useBorderRadius:s,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{let l=c.controller.getStyle(t?0:void 0),u=ct(l.borderWidth);return{text:n[c.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:s&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}},Jc=class extends Dn{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,t){let r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=n,this.height=this.bottom=t;let i=ye(r.text)?r.text.length:1;this._padding=ct(r.padding);let o=i*Pe(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let n=this.options.position;return n==="top"||n==="bottom"}_drawArgs(n){let{top:t,left:r,bottom:i,right:o,options:s}=this,a=s.align,c=0,l,u,d;return this.isHorizontal()?(u=at(a,r,o),d=t+n,l=o-r):(s.position==="left"?(u=r+n,d=at(a,i,t),c=oe*-.5):(u=o-n,d=at(a,t,i),c=oe*.5),l=i-t),{titleX:u,titleY:d,maxWidth:l,rotation:c}}draw(){let n=this.ctx,t=this.options;if(!t.display)return;let r=Pe(t.font),o=r.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(o);qr(n,t.text,0,0,r,{color:t.color,maxWidth:c,rotation:l,textAlign:_f(t.align),textBaseline:"middle",translation:[s,a]})}};function f2(e,n){let t=new Jc({ctx:e.ctx,options:n,chart:e});gt.configure(e,t,n),gt.addBox(e,t),e.titleBlock=t}var h2={id:"title",_element:Jc,start(e,n,t){f2(e,t)},stop(e){let n=e.titleBlock;gt.removeBox(e,n),delete e.titleBlock},beforeUpdate(e,n,t){let r=e.titleBlock;gt.configure(e,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Rf=new WeakMap,p2={id:"subtitle",start(e,n,t){let r=new Jc({ctx:e.ctx,options:t,chart:e});gt.configure(e,r,t),gt.addBox(e,r),Rf.set(e,r)},stop(e){gt.removeBox(e,Rf.get(e)),Rf.delete(e)},beforeUpdate(e,n,t){let r=Rf.get(e);gt.configure(e,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Kc={average(e){if(!e.length)return!1;let n,t,r=new Set,i=0,o=0;for(n=0,t=e.length;n<t;++n){let a=e[n].element;if(a&&a.hasValue()){let c=a.tooltipPosition();r.add(c.x),i+=c.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((a,c)=>a+c)/r.size,y:i/o}},nearest(e,n){if(!e.length)return!1;let t=n.x,r=n.y,i=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=e.length;o<s;++o){let c=e[o].element;if(c&&c.hasValue()){let l=c.getCenterPoint(),u=gf(n,l);u<i&&(i=u,a=c)}}if(a){let c=a.tooltipPosition();t=c.x,r=c.y}return{x:t,y:r}}};function Vn(e,n){return n&&(ye(n)?Array.prototype.push.apply(e,n):e.push(n)),e}function lr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function g2(e,n){let{element:t,datasetIndex:r,index:i}=n,o=e.getDatasetMeta(r).controller,{label:s,value:a}=o.getLabelAndValue(i);return{chart:e,label:s,parsed:o.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function aI(e,n){let t=e.chart.ctx,{body:r,footer:i,title:o}=e,{boxWidth:s,boxHeight:a}=n,c=Pe(n.bodyFont),l=Pe(n.titleFont),u=Pe(n.footerFont),d=o.length,h=i.length,f=r.length,p=ct(n.padding),g=p.height,m=0,y=r.reduce((b,w)=>b+w.before.length+w.lines.length+w.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,d&&(g+=d*l.lineHeight+(d-1)*n.titleSpacing+n.titleMarginBottom),y){let b=n.displayColors?Math.max(a,c.lineHeight):c.lineHeight;g+=f*b+(y-f)*c.lineHeight+(y-1)*n.bodySpacing}h&&(g+=n.footerMarginTop+h*u.lineHeight+(h-1)*n.footerSpacing);let v=0,_=function(b){m=Math.max(m,t.measureText(b).width+v)};return t.save(),t.font=l.string,he(e.title,_),t.font=c.string,he(e.beforeBody.concat(e.afterBody),_),v=n.displayColors?s+2+n.boxPadding:0,he(r,b=>{he(b.before,_),he(b.lines,_),he(b.after,_)}),v=0,t.font=u.string,he(e.footer,_),t.restore(),m+=p.width,{width:m,height:g}}function m2(e,n){let{y:t,height:r}=n;return t<r/2?"top":t>e.height-r/2?"bottom":"center"}function y2(e,n,t,r){let{x:i,width:o}=r,s=t.caretSize+t.caretPadding;if(e==="left"&&i+o+s>n.width||e==="right"&&i-o-s<0)return!0}function v2(e,n,t,r){let{x:i,width:o}=t,{width:s,chartArea:{left:a,right:c}}=e,l="center";return r==="center"?l=i<=(a+c)/2?"left":"right":i<=o/2?l="left":i>=s-o/2&&(l="right"),y2(l,e,n,t)&&(l="center"),l}function cI(e,n,t){let r=t.yAlign||n.yAlign||m2(e,t);return{xAlign:t.xAlign||n.xAlign||v2(e,n,t,r),yAlign:r}}function b2(e,n){let{x:t,width:r}=e;return n==="right"?t-=r:n==="center"&&(t-=r/2),t}function _2(e,n,t){let{y:r,height:i}=e;return n==="top"?r+=t:n==="bottom"?r-=i+t:r-=i/2,r}function lI(e,n,t,r){let{caretSize:i,caretPadding:o,cornerRadius:s}=e,{xAlign:a,yAlign:c}=t,l=i+o,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Kr(s),p=b2(n,a),g=_2(n,c,l);return c==="center"?a==="left"?p+=l:a==="right"&&(p-=l):a==="left"?p-=Math.max(u,h)+i:a==="right"&&(p+=Math.max(d,f)+i),{x:Be(p,0,r.width-n.width),y:Be(g,0,r.height-n.height)}}function kf(e,n,t){let r=ct(t.padding);return n==="center"?e.x+e.width/2:n==="right"?e.x+e.width-r.right:e.x+r.left}function uI(e){return Vn([],lr(e))}function w2(e,n,t){return ar(e,{tooltip:n,tooltipItems:t,type:"tooltip"})}function dI(e,n){let t=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return t?e.override(t):e}var $I={beforeTitle:Ln,title(e){if(e.length>0){let n=e[0],t=n.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return n.dataset.label||"";if(n.label)return n.label;if(r>0&&n.dataIndex<r)return t[n.dataIndex]}return""},afterTitle:Ln,beforeBody:Ln,beforeLabel:Ln,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let n=e.dataset.label||"";n&&(n+=": ");let t=e.formattedValue;return Z(t)||(n+=t),n},labelColor(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){let t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ln,afterBody:Ln,beforeFooter:Ln,footer:Ln,afterFooter:Ln};function At(e,n,t,r){let i=e[n].call(t,r);return typeof i>"u"?$I[n].call(t,r):i}var fI=(()=>{class e extends Dn{static positioners=Kc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let r=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&r.options.animation&&i.animations,s=new Ff(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=w2(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){let{callbacks:i}=r,o=At(i,"beforeTitle",this,t),s=At(i,"title",this,t),a=At(i,"afterTitle",this,t),c=[];return c=Vn(c,lr(o)),c=Vn(c,lr(s)),c=Vn(c,lr(a)),c}getBeforeBody(t,r){return uI(At(r.callbacks,"beforeBody",this,t))}getBody(t,r){let{callbacks:i}=r,o=[];return he(t,s=>{let a={before:[],lines:[],after:[]},c=dI(i,s);Vn(a.before,lr(At(c,"beforeLabel",this,s))),Vn(a.lines,At(c,"label",this,s)),Vn(a.after,lr(At(c,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(t,r){return uI(At(r.callbacks,"afterBody",this,t))}getFooter(t,r){let{callbacks:i}=r,o=At(i,"beforeFooter",this,t),s=At(i,"footer",this,t),a=At(i,"afterFooter",this,t),c=[];return c=Vn(c,lr(o)),c=Vn(c,lr(s)),c=Vn(c,lr(a)),c}_createItems(t){let r=this._active,i=this.chart.data,o=[],s=[],a=[],c=[],l,u;for(l=0,u=r.length;l<u;++l)c.push(g2(this.chart,r[l]));return t.filter&&(c=c.filter((d,h,f)=>t.filter(d,h,f,i))),t.itemSort&&(c=c.sort((d,h)=>t.itemSort(d,h,i))),he(c,d=>{let h=dI(t.callbacks,d);o.push(At(h,"labelColor",this,d)),s.push(At(h,"labelPointStyle",this,d)),a.push(At(h,"labelTextColor",this,d))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=c,c}update(t,r){let i=this.options.setContext(this.getContext()),o=this._active,s,a=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{let c=Kc[i.position].call(this,o,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);let l=this._size=aI(this,i),u=Object.assign({},c,l),d=cI(this.chart,i,u),h=lI(i,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,i,o){let s=this.getCaretPosition(t,i,o);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(t,r,i){let{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:c}=i,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:h}=Kr(c),{x:f,y:p}=t,{width:g,height:m}=r,y,v,_,b,w,D;return s==="center"?(w=p+m/2,o==="left"?(y=f,v=y-a,b=w+a,D=w-a):(y=f+g,v=y+a,b=w-a,D=w+a),_=y):(o==="left"?v=f+Math.max(l,d)+a:o==="right"?v=f+g-Math.max(u,h)-a:v=this.caretX,s==="top"?(b=p,w=b-a,y=v-a,_=v+a):(b=p+m,w=b+a,y=v+a,_=v-a),D=b),{x1:y,x2:v,x3:_,y1:b,y2:w,y3:D}}drawTitle(t,r,i){let o=this.title,s=o.length,a,c,l;if(s){let u=oo(i.rtl,this.x,this.width);for(t.x=kf(this,i.titleAlign,i),r.textAlign=u.textAlign(i.titleAlign),r.textBaseline="middle",a=Pe(i.titleFont),c=i.titleSpacing,r.fillStyle=i.titleColor,r.font=a.string,l=0;l<s;++l)r.fillText(o[l],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+c,l+1===s&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,r,i,o,s){let a=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=s,d=Pe(s.bodyFont),h=kf(this,"left",s),f=o.x(h),p=l<d.lineHeight?(d.lineHeight-l)/2:0,g=r.y+p;if(s.usePointStyle){let m={radius:Math.min(u,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},y=o.leftForLtr(f,u)+u/2,v=g+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,Df(t,m,y,v),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Df(t,m,y,v)}else{t.lineWidth=Q(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;let m=o.leftForLtr(f,u),y=o.leftForLtr(o.xPlus(f,1),u-2),v=Kr(a.borderRadius);Object.values(v).some(_=>_!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,ks(t,{x:m,y:g,w:u,h:l,radius:v}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),ks(t,{x:y,y:g+1,w:u-2,h:l-2,radius:v}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(m,g,u,l),t.strokeRect(m,g,u,l),t.fillStyle=a.backgroundColor,t.fillRect(y,g+1,u-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,r,i){let{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:u,boxPadding:d}=i,h=Pe(i.bodyFont),f=h.lineHeight,p=0,g=oo(i.rtl,this.x,this.width),m=function(N){r.fillText(N,g.x(t.x+p),t.y+f/2),t.y+=f+s},y=g.textAlign(a),v,_,b,w,D,S,E;for(r.textAlign=a,r.textBaseline="middle",r.font=h.string,t.x=kf(this,y,i),r.fillStyle=i.bodyColor,he(this.beforeBody,m),p=c&&y!=="right"?a==="center"?u/2+d:u+2+d:0,w=0,S=o.length;w<S;++w){for(v=o[w],_=this.labelTextColors[w],r.fillStyle=_,he(v.before,m),b=v.lines,c&&b.length&&(this._drawColorBox(r,t,w,g,i),f=Math.max(h.lineHeight,l)),D=0,E=b.length;D<E;++D)m(b[D]),f=h.lineHeight;he(v.after,m)}p=0,f=h.lineHeight,he(this.afterBody,m),t.y-=s}drawFooter(t,r,i){let o=this.footer,s=o.length,a,c;if(s){let l=oo(i.rtl,this.x,this.width);for(t.x=kf(this,i.footerAlign,i),t.y+=i.footerMarginTop,r.textAlign=l.textAlign(i.footerAlign),r.textBaseline="middle",a=Pe(i.footerFont),r.fillStyle=i.footerColor,r.font=a.string,c=0;c<s;++c)r.fillText(o[c],l.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,r,i,o){let{xAlign:s,yAlign:a}=this,{x:c,y:l}=t,{width:u,height:d}=i,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=Kr(o.cornerRadius);r.fillStyle=o.backgroundColor,r.strokeStyle=o.borderColor,r.lineWidth=o.borderWidth,r.beginPath(),r.moveTo(c+h,l),a==="top"&&this.drawCaret(t,r,i,o),r.lineTo(c+u-f,l),r.quadraticCurveTo(c+u,l,c+u,l+f),a==="center"&&s==="right"&&this.drawCaret(t,r,i,o),r.lineTo(c+u,l+d-g),r.quadraticCurveTo(c+u,l+d,c+u-g,l+d),a==="bottom"&&this.drawCaret(t,r,i,o),r.lineTo(c+p,l+d),r.quadraticCurveTo(c,l+d,c,l+d-p),a==="center"&&s==="left"&&this.drawCaret(t,r,i,o),r.lineTo(c,l+h),r.quadraticCurveTo(c,l,c+h,l),r.closePath(),r.fill(),o.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){let r=this.chart,i=this.$animations,o=i&&i.x,s=i&&i.y;if(o||s){let a=Kc[t.position].call(this,this._active,this._eventPosition);if(!a)return;let c=this._size=aI(this,t),l=Object.assign({},a,this._size),u=cI(r,t,l),d=lI(t,l,u,r);(o._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){let r=this.options.setContext(this.getContext()),i=this.opacity;if(!i)return;this._updateAnimationTarget(r);let o={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;let a=ct(r.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,o,r),Jy(t,r.textDirection),s.y+=a.top,this.drawTitle(s,t,r),this.drawBody(s,t,r),this.drawFooter(s,t,r),Zy(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){let i=this._active,o=t.map(({datasetIndex:c,index:l})=>{let u=this.chart.getDatasetMeta(c);if(!u)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:u.data[l],index:l}}),s=!jc(i,o),a=this._positionChanged(o,r);(s||a)&&(this._active=o,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,s=this._active||[],a=this._getActiveElements(t,s,r,i),c=this._positionChanged(a,t),l=r||!jc(a,s)||c;return l&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),l}_getActiveElements(t,r,i,o){let s=this.options;if(t.type==="mouseout")return[];if(!o)return r.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let a=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(t,r){let{caretX:i,caretY:o,options:s}=this,a=Kc[s.position].call(this,t,r);return a!==!1&&(i!==a.x||o!==a.y)}}return e})(),D2={id:"tooltip",_element:fI,positioners:Kc,afterInit(e,n,t){t&&(e.tooltip=new fI({chart:e,options:t}))},beforeUpdate(e,n,t){e.tooltip&&e.tooltip.initialize(t)},reset(e,n,t){e.tooltip&&e.tooltip.initialize(t)},afterDraw(e){let n=e.tooltip;if(n&&n._willRender()){let t={tooltip:n};if(e.notifyPlugins("beforeTooltipDraw",Y(T({},t),{cancelable:!0}))===!1)return;n.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",t)}},afterEvent(e,n){if(e.tooltip){let t=n.replay;e.tooltip.handleEvent(n.event,t,n.inChartArea)&&(n.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,n)=>n.bodyFont.size,boxWidth:(e,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:$I},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},E2=Object.freeze({__proto__:null,Colors:PV,Decimation:VV,Filler:o2,Legend:d2,SubTitle:p2,Title:h2,Tooltip:D2}),C2=(e,n,t,r)=>(typeof n=="string"?(t=e.push(n)-1,r.unshift({index:t,label:n})):isNaN(n)&&(t=null),t);function S2(e,n,t,r){let i=e.indexOf(n);if(i===-1)return C2(e,n,t,r);let o=e.lastIndexOf(n);return i!==o?t:i}var I2=(e,n)=>e===null?null:Be(Math.round(e),0,n);function hI(e){let n=this.getLabels();return e>=0&&e<n.length?n[e]:e}var x2=(()=>{class e extends co{static id="category";static defaults={ticks:{callback:hI}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let r=this._addedLabels;if(r.length){let i=this.getLabels();for(let{index:o,label:s}of r)i[o]===s&&i.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(Z(t))return null;let i=this.getLabels();return r=isFinite(r)&&i[r]===t?r:S2(i,t,U(r,t),this._addedLabels),I2(r,i.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:r}=this.getUserBounds(),{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),r||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){let t=this.min,r=this.max,i=this.options.offset,o=[],s=this.getLabels();s=t===0&&r===s.length-1?s:s.slice(t,r+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=r;a++)o.push({value:a});return o}getLabelForValue(t){return hI.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return e})();function T2(e,n){let t=[],{bounds:i,step:o,min:s,max:a,precision:c,count:l,maxTicks:u,maxDigits:d,includeBounds:h}=e,f=o||1,p=u-1,{min:g,max:m}=n,y=!Z(s),v=!Z(a),_=!Z(l),b=(m-g)/(d+1),w=My((m-g)/p/f)*f,D,S,E,N;if(w<1e-14&&!y&&!v)return[{value:g},{value:m}];N=Math.ceil(m/w)-Math.floor(g/w),N>p&&(w=My(N*w/p/f)*f),Z(c)||(D=Math.pow(10,c),w=Math.ceil(w*D)/D),i==="ticks"?(S=Math.floor(g/w)*w,E=Math.ceil(m/w)*w):(S=g,E=m),y&&v&&o&&XC((a-s)/o,w/1e3)?(N=Math.round(Math.min((a-s)/w,u)),w=(a-s)/N,S=s,E=a):_?(S=y?s:S,E=v?a:E,N=l-1,w=(E-S)/N):(N=(E-S)/w,Ms(N,Math.round(N),w/1e3)?N=Math.round(N):N=Math.ceil(N));let j=Math.max(Ry(w),Ry(S));D=Math.pow(10,Z(c)?j:c),S=Math.round(S*D)/D,E=Math.round(E*D)/D;let q=0;for(y&&(h&&S!==s?(t.push({value:s}),S<s&&q++,Ms(Math.round((S+q*w)*D)/D,s,pI(s,b,e))&&q++):S<s&&q++);q<N;++q){let X=Math.round((S+q*w)*D)/D;if(v&&X>a)break;t.push({value:X})}return v&&h&&E!==a?t.length&&Ms(t[t.length-1].value,a,pI(a,b,e))?t[t.length-1].value=a:t.push({value:a}):(!v||E===a)&&t.push({value:E}),t}function pI(e,n,{horizontal:t,minRotation:r}){let i=Qt(r),o=(t?Math.sin(i):Math.cos(i))||.001,s=.75*n*(""+e).length;return Math.min(n/o,s)}var Fs=class extends co{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,t){return Z(n)||(typeof n=="number"||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){let{beginAtZero:n}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds(),{min:i,max:o}=this,s=c=>i=t?i:c,a=c=>o=r?o:c;if(n){let c=wn(i),l=wn(o);c<0&&l<0?a(0):c>0&&l>0&&s(0)}if(i===o){let c=o===0?1:Math.abs(o*.05);a(o+c),n||s(i-c)}this.min=i,this.max=o}getTickLimit(){let n=this.options.ticks,{maxTicksLimit:t,stepSize:r}=n,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let n=this.options,t=n.ticks,r=this.getTickLimit();r=Math.max(2,r);let i={maxTicks:r,bounds:n.bounds,min:n.min,max:n.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,s=T2(i,o);return n.bounds==="ticks"&&Ay(s,this,"value"),n.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let n=this.ticks,t=this.min,r=this.max;if(super.configure(),this.options.offset&&n.length){let i=(r-t)/Math.max(n.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(n){return Rs(n,this.chart.options.locale,this.options.ticks.format)}},xv=class extends Fs{static id="linear";static defaults={ticks:{callback:Vc.formatters.numeric}};determineDataLimits(){let{min:n,max:t}=this.getMinMax(!0);this.min=xe(n)?n:0,this.max=xe(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let n=this.isHorizontal(),t=n?this.width:this.height,r=Qt(this.options.ticks.minRotation),i=(n?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/i))}getPixelForValue(n){return n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}},Zc=e=>Math.floor(or(e)),ao=(e,n)=>Math.pow(10,Zc(e)+n);function gI(e){return e/Math.pow(10,Zc(e))===1}function mI(e,n,t){let r=Math.pow(10,t),i=Math.floor(e/r);return Math.ceil(n/r)-i}function M2(e,n){let t=n-e,r=Zc(t);for(;mI(e,n,r)>10;)r++;for(;mI(e,n,r)<10;)r--;return Math.min(r,Zc(e))}function A2(e,{min:n,max:t}){n=Mt(e.min,n);let r=[],i=Zc(n),o=M2(n,t),s=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),c=i>o?Math.pow(10,i):0,l=Math.round((n-c)*s)/s,u=Math.floor((n-c)/a/10)*a*10,d=Math.floor((l-u)/Math.pow(10,o)),h=Mt(e.min,Math.round((c+u+d*Math.pow(10,o))*s)/s);for(;h<t;)r.push({value:h,major:gI(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,s=o>=0?1:s),h=Math.round((c+u+d*Math.pow(10,o))*s)/s;let f=Mt(e.max,h);return r.push({value:f,major:gI(f),significand:d}),r}var Tv=class extends co{static id="logarithmic";static defaults={ticks:{callback:Vc.formatters.logarithmic,major:{enabled:!0}}};constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,t){let r=Fs.prototype.parse.apply(this,[n,t]);if(r===0){this._zero=!0;return}return xe(r)&&r>0?r:null}determineDataLimits(){let{min:n,max:t}=this.getMinMax(!0);this.min=xe(n)?Math.max(0,n):null,this.max=xe(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!xe(this._userMin)&&(this.min=n===ao(this.min,0)?ao(this.min,-1):ao(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:n,maxDefined:t}=this.getUserBounds(),r=this.min,i=this.max,o=a=>r=n?r:a,s=a=>i=t?i:a;r===i&&(r<=0?(o(1),s(10)):(o(ao(r,-1)),s(ao(i,1)))),r<=0&&o(ao(i,-1)),i<=0&&s(ao(r,1)),this.min=r,this.max=i}buildTicks(){let n=this.options,t={min:this._userMin,max:this._userMax},r=A2(t,this);return n.bounds==="ticks"&&Ay(r,this,"value"),n.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(n){return n===void 0?"0":Rs(n,this.chart.options.locale,this.options.ticks.format)}configure(){let n=this.min;super.configure(),this._startValue=or(n),this._valueRange=or(this.max)-or(n)}getPixelForValue(n){return(n===void 0||n===0)&&(n=this.min),n===null||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(or(n)-this._startValue)/this._valueRange)}getValueForPixel(n){let t=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+t*this._valueRange)}};function Mv(e){let n=e.ticks;if(n.display&&e.display){let t=ct(n.backdropPadding);return U(n.font&&n.font.size,_e.font.size)+t.height}return 0}function R2(e,n,t){return t=ye(t)?t:[t],{w:cS(e,n.string,t),h:t.length*n.lineHeight}}function yI(e,n,t,r,i){return e===r||e===i?{start:n-t/2,end:n+t/2}:e<r||e>i?{start:n-t,end:n}:{start:n,end:n+t}}function k2(e){let n={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},t=Object.assign({},n),r=[],i=[],o=e._pointLabels.length,s=e.options.pointLabels,a=s.centerPointLabels?oe/o:0;for(let c=0;c<o;c++){let l=s.setContext(e.getPointLabelContext(c));i[c]=l.padding;let u=e.getPointPosition(c,e.drawingArea+i[c],a),d=Pe(l.font),h=R2(e.ctx,d,e._pointLabels[c]);r[c]=h;let f=st(e.getIndexAngle(c)+a),p=Math.round(vf(f)),g=yI(p,u.x,h.w,0,180),m=yI(p,u.y,h.h,90,270);N2(t,n,f,g,m)}e.setCenterPoint(n.l-t.l,t.r-n.r,n.t-t.t,t.b-n.b),e._pointLabelItems=F2(e,r,i)}function N2(e,n,t,r,i){let o=Math.abs(Math.sin(t)),s=Math.abs(Math.cos(t)),a=0,c=0;r.start<n.l?(a=(n.l-r.start)/o,e.l=Math.min(e.l,n.l-a)):r.end>n.r&&(a=(r.end-n.r)/o,e.r=Math.max(e.r,n.r+a)),i.start<n.t?(c=(n.t-i.start)/s,e.t=Math.min(e.t,n.t-c)):i.end>n.b&&(c=(i.end-n.b)/s,e.b=Math.max(e.b,n.b+c))}function O2(e,n,t){let r=e.drawingArea,{extra:i,additionalAngle:o,padding:s,size:a}=t,c=e.getPointPosition(n,r+i+s,o),l=Math.round(vf(st(c.angle+Re))),u=V2(c.y,a.h,l),d=L2(l),h=j2(c.x,a.w,d);return{visible:!0,x:c.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function P2(e,n){if(!n)return!0;let{left:t,top:r,right:i,bottom:o}=e;return!(Fn({x:t,y:r},n)||Fn({x:t,y:o},n)||Fn({x:i,y:r},n)||Fn({x:i,y:o},n))}function F2(e,n,t){let r=[],i=e._pointLabels.length,o=e.options,{centerPointLabels:s,display:a}=o.pointLabels,c={extra:Mv(o)/2,additionalAngle:s?oe/i:0},l;for(let u=0;u<i;u++){c.padding=t[u],c.size=n[u];let d=O2(e,u,c);r.push(d),a==="auto"&&(d.visible=P2(d,l),d.visible&&(l=d))}return r}function L2(e){return e===0||e===180?"center":e<180?"left":"right"}function j2(e,n,t){return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function V2(e,n,t){return t===90||t===270?e-=n/2:(t>270||t<90)&&(e-=n),e}function B2(e,n,t){let{left:r,top:i,right:o,bottom:s}=t,{backdropColor:a}=n;if(!Z(a)){let c=Kr(n.borderRadius),l=ct(n.backdropPadding);e.fillStyle=a;let u=r-l.left,d=i-l.top,h=o-r+l.width,f=s-i+l.height;Object.values(c).some(p=>p!==0)?(e.beginPath(),ks(e,{x:u,y:d,w:h,h:f,radius:c}),e.fill()):e.fillRect(u,d,h,f)}}function U2(e,n){let{ctx:t,options:{pointLabels:r}}=e;for(let i=n-1;i>=0;i--){let o=e._pointLabelItems[i];if(!o.visible)continue;let s=r.setContext(e.getPointLabelContext(i));B2(t,s,o);let a=Pe(s.font),{x:c,y:l,textAlign:u}=o;qr(t,e._pointLabels[i],c,l+a.lineHeight/2,a,{color:s.color,textAlign:u,textBaseline:"middle"})}}function HI(e,n,t,r){let{ctx:i}=e;if(t)i.arc(e.xCenter,e.yCenter,n,0,ve);else{let o=e.getPointPosition(0,n);i.moveTo(o.x,o.y);for(let s=1;s<r;s++)o=e.getPointPosition(s,n),i.lineTo(o.x,o.y)}}function $2(e,n,t,r,i){let o=e.ctx,s=n.circular,{color:a,lineWidth:c}=n;!s&&!r||!a||!c||t<0||(o.save(),o.strokeStyle=a,o.lineWidth=c,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),HI(e,t,s,r),o.closePath(),o.stroke(),o.restore())}function H2(e,n,t){return ar(e,{label:t,index:n,type:"pointLabel"})}var Av=class extends Fs{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Vc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let n=this._padding=ct(Mv(this.options)/2),t=this.width=this.maxWidth-n.width,r=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+t/2+n.left),this.yCenter=Math.floor(this.top+r/2+n.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){let{min:n,max:t}=this.getMinMax(!1);this.min=xe(n)&&!isNaN(n)?n:0,this.max=xe(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Mv(this.options))}generateTickLabels(n){Fs.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((t,r)=>{let i=ge(this.options.pointLabels.callback,[t,r],this);return i||i===0?i:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){let n=this.options;n.display&&n.pointLabels.display?k2(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,t,r,i){this.xCenter+=Math.floor((n-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,t,r,i))}getIndexAngle(n){let t=ve/(this._pointLabels.length||1),r=this.options.startAngle||0;return st(n*t+Qt(r))}getDistanceFromCenterForValue(n){if(Z(n))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*t:(n-this.min)*t}getValueForDistanceFromCenter(n){if(Z(n))return NaN;let t=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(n){let t=this._pointLabels||[];if(n>=0&&n<t.length){let r=t[n];return H2(this.getContext(),n,r)}}getPointPosition(n,t,r=0){let i=this.getIndexAngle(n)-Re+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(n,t){return this.getPointPosition(n,this.getDistanceFromCenterForValue(t))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){let{left:t,top:r,right:i,bottom:o}=this._pointLabelItems[n];return{left:t,top:r,right:i,bottom:o}}drawBackground(){let{backgroundColor:n,grid:{circular:t}}=this.options;if(n){let r=this.ctx;r.save(),r.beginPath(),HI(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=n,r.fill(),r.restore()}}drawGrid(){let n=this.ctx,t=this.options,{angleLines:r,grid:i,border:o}=t,s=this._pointLabels.length,a,c,l;if(t.pointLabels.display&&U2(this,s),i.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);let h=this.getContext(d),f=i.setContext(h),p=o.setContext(h);$2(this,f,c,s,p)}}),r.display){for(n.save(),a=s-1;a>=0;a--){let u=r.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(n.lineWidth=h,n.strokeStyle=d,n.setLineDash(u.borderDash),n.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(a,c),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(l.x,l.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let n=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;let i=this.getIndexAngle(0),o,s;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(i),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;let l=r.setContext(this.getContext(c)),u=Pe(l.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){n.font=u.string,s=n.measureText(a.label).width,n.fillStyle=l.backdropColor;let d=ct(l.backdropPadding);n.fillRect(-s/2-d.left,-o-u.size/2-d.top,s+d.width,u.size+d.height)}qr(n,a.label,0,-o,u,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),n.restore()}drawTitle(){}},Wf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rt=Object.keys(Wf);function vI(e,n){return e-n}function bI(e,n){if(Z(n))return null;let t=e._adapter,{parser:r,round:i,isoWeekday:o}=e._parseOpts,s=n;return typeof r=="function"&&(s=r(s)),xe(s)||(s=typeof r=="string"?t.parse(s,r):t.parse(s)),s===null?null:(i&&(s=i==="week"&&(io(o)||o===!0)?t.startOf(s,"isoWeek",o):t.startOf(s,i)),+s)}function _I(e,n,t,r){let i=Rt.length;for(let o=Rt.indexOf(e);o<i-1;++o){let s=Wf[Rt[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((t-n)/(a*s.size))<=r)return Rt[o]}return Rt[i-1]}function z2(e,n,t,r,i){for(let o=Rt.length-1;o>=Rt.indexOf(t);o--){let s=Rt[o];if(Wf[s].common&&e._adapter.diff(i,r,s)>=n-1)return s}return Rt[t?Rt.indexOf(t):0]}function W2(e){for(let n=Rt.indexOf(e)+1,t=Rt.length;n<t;++n)if(Wf[Rt[n]].common)return Rt[n]}function wI(e,n,t){if(!t)e[n]=!0;else if(t.length){let{lo:r,hi:i}=bf(t,n),o=t[r]>=n?t[r]:t[i];e[o]=!0}}function G2(e,n,t,r){let i=e._adapter,o=+i.startOf(n[0].value,r),s=n[n.length-1].value,a,c;for(a=o;a<=s;a=+i.add(a,1,r))c=t[a],c>=0&&(n[c].major=!0);return n}function DI(e,n,t){let r=[],i={},o=n.length,s,a;for(s=0;s<o;++s)a=n[s],i[a]=s,r.push({value:a,major:!1});return o===0||!t?r:G2(e,r,i,t)}var Rv=(()=>{class e extends co{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){let i=t.time||(t.time={}),o=this._adapter=new rj._date(t.adapters.date);o.init(r),xs(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:bI(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,r=this._adapter,i=t.time.unit||"day",{min:o,max:s,minDefined:a,maxDefined:c}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(o=Math.min(o,u.min)),!c&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!c)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),o=xe(o)&&!isNaN(o)?o:+r.startOf(Date.now(),i),s=xe(s)&&!isNaN(s)?s:+r.endOf(Date.now(),i)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){let t=this.getLabelTimestamps(),r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],i=t[t.length-1]),{min:r,max:i}}buildTicks(){let t=this.options,r=t.time,i=t.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let s=this.min,a=this.max,c=nS(o,s,a);return this._unit=r.unit||(i.autoSkip?_I(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):z2(this,c.length,r.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:W2(this._unit),this.initOffsets(o),t.reverse&&c.reverse(),DI(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r=0,i=0,o,s;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),t.length===1?r=1-o:r=(this.getDecimalForValue(t[1])-o)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);let a=t.length<3?.5:.25;r=Be(r,0,a),i=Be(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){let t=this._adapter,r=this.min,i=this.max,o=this.options,s=o.time,a=s.unit||_I(s.minUnit,r,i,this._getLabelCapacity(r)),c=U(o.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,u=io(l)||l===!0,d={},h=r,f,p;if(u&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,u?"day":a),t.diff(i,r,a)>1e5*c)throw new Error(r+" and "+i+" are too far apart with stepSize of "+c+" "+a);let g=o.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<i;f=+t.add(f,c,a),p++)wI(d,f,g);return(f===i||o.bounds==="ticks"||p===1)&&wI(d,f,g),Object.keys(d).sort(vI).map(m=>+m)}getLabelForValue(t){let r=this._adapter,i=this.options.time;return i.tooltipFormat?r.format(t,i.tooltipFormat):r.format(t,i.displayFormats.datetime)}format(t,r){let o=this.options.time.displayFormats,s=this._unit,a=r||o[s];return this._adapter.format(t,a)}_tickFormatFunction(t,r,i,o){let s=this.options,a=s.ticks.callback;if(a)return ge(a,[t,r,i],this);let c=s.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&c[l],h=u&&c[u],f=i[r],p=u&&h&&f&&f.major;return this._adapter.format(t,o||(p?h:d))}generateTickLabels(t){let r,i,o;for(r=0,i=t.length;r<i;++r)o=t[r],o.label=this._tickFormatFunction(o.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let r=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(t){let r=this._offsets,i=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){let r=this.options.ticks,i=this.ctx.measureText(t).width,o=Qt(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(o),a=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:i*s+c*a,h:i*a+c*s}}_getLabelCapacity(t){let r=this.options.time,i=r.displayFormats,o=i[r.unit]||i.millisecond,s=this._tickFormatFunction(t,0,DI(this,[t],this._majorUnit),o),a=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],r,i;if(t.length)return t;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(r=0,i=o.length;r<i;++r)t=t.concat(o[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],r,i;if(t.length)return t;let o=this.getLabels();for(r=0,i=o.length;r<i;++r)t.push(bI(this,o[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Oy(t.sort(vI))}}return e})();function Nf(e,n,t){let r=0,i=e.length-1,o,s,a,c;t?(n>=e[r].pos&&n<=e[i].pos&&({lo:r,hi:i}=Pn(e,"pos",n)),{pos:o,time:a}=e[r],{pos:s,time:c}=e[i]):(n>=e[r].time&&n<=e[i].time&&({lo:r,hi:i}=Pn(e,"time",n)),{time:o,pos:a}=e[r],{time:s,pos:c}=e[i]);let l=s-o;return l?a+(c-a)*(n-o)/l:a}var kv=class extends Rv{static id="timeseries";static defaults=Rv.defaults;constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let n=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(n);this._minPos=Nf(t,this.min),this._tableRange=Nf(t,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){let{min:t,max:r}=this,i=[],o=[],s,a,c,l,u;for(s=0,a=n.length;s<a;++s)l=n[s],l>=t&&l<=r&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(s=0,a=i.length;s<a;++s)u=i[s+1],c=i[s-1],l=i[s],Math.round((u+c)/2)!==l&&o.push({time:l,pos:s/(a-1)});return o}_generate(){let n=this.min,t=this.max,r=super.getDataTimestamps();return(!r.includes(n)||!r.length)&&r.splice(0,0,n),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;let t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?n=this.normalize(t.concat(r)):n=t.length?t:r,n=this._cache.all=n,n}getDecimalForValue(n){return(Nf(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){let t=this._offsets,r=this.getDecimalForPixel(n)/t.factor-t.end;return Nf(this._table,r*this._tableRange+this._minPos,!0)}},q2=Object.freeze({__proto__:null,CategoryScale:x2,LinearScale:xv,LogarithmicScale:Tv,RadialLinearScale:Av,TimeScale:Rv,TimeSeriesScale:kv}),zI=[nj,TV,E2,q2];$f.register(...zI);var WI=$f;function K2(e,n){if(e&1&&(x(0,"div",21)(1,"strong"),M(2),I(),ht(3,"br"),M(4),I()),e&2){let t=n.$implicit;V(2),Ti(t.name),V(2),Uo(" ",t.kcal," kcal \u2014 ",t.date," ")}}function Y2(e,n){e&1&&(x(0,"div",22),M(1," No meals recorded "),I())}var Gf=class e{constructor(n,t){this.cdr=n;this.router=t}userId;totalCalories=0;meals=[];weeklyLabels=[];weeklyCalories=[];sidebarOpen=!0;toggleSidebar(){this.sidebarOpen=!this.sidebarOpen}async ngAfterViewInit(){this.userId=Number(localStorage.getItem("user_id"));let n=localStorage.getItem("userId");if(!n){console.warn("No user logged in");return}this.userId=Number(n),await this.loadTodayCalories(),await this.loadRecentMeals(),await this.loadWeeklyChart()}async loadTodayCalories(){let n=new Date().toLocaleDateString("en-CA"),{data:t}=await pt.from("users_meals").select("kcal").eq("user_id",this.userId).eq("date",n);this.totalCalories=t?.reduce((r,i)=>r+Number(i.kcal||0),0)||0}async loadRecentMeals(){let{data:n}=await pt.from("users_meals").select(`
        date,
        kcal,
        meals!inner (
          name
        )
      `).eq("user_id",this.userId).order("date",{ascending:!1}).limit(10);this.meals=(n||[]).map(t=>({name:t.meals?.name||"Unknown meal",kcal:t.kcal,date:t.date})),this.cdr.detectChanges()}async loadWeeklyChart(){let n=new Date;n.setDate(n.getDate()-6);let t=n.toISOString().split("T")[0],{data:r}=await pt.from("users_meals").select("date, kcal").eq("user_id",this.userId).gte("date",t).order("date");if(!r||r.length===0){this.renderChart([],[]);return}let i={};for(let o of r)i[o.date]=(i[o.date]||0)+Number(o.kcal);this.weeklyLabels=Object.keys(i),this.weeklyCalories=Object.values(i),this.renderChart(this.weeklyLabels,this.weeklyCalories)}renderChart(n,t){let r=document.getElementById("weeklyChart");new WI(r,{type:"bar",data:{labels:n,datasets:[{label:"Calories",data:t,borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}})}goToUserDashboard(){this.router.navigate(["/user-dashboard"])}goToGoals(){this.router.navigate(["/check-goals"])}goToLogCal(){this.router.navigate(["/log-cal"])}logout(){localStorage.clear(),location.href="/"}static \u0275fac=function(t){return new(t||e)(F(qe),F(Ye))};static \u0275cmp=Fe({type:e,selectors:[["app-user-dashboard"]],decls:38,vars:3,consts:[[1,"page-bg"],[1,"d-flex","vh-100"],[1,"bg-dark","text-white","p-3",2,"width","240px"],[1,"mb-4"],[1,"nav","flex-column","gap-2"],[1,"nav-item"],[1,"btn","btn-outline-light","w-100",3,"click"],[1,"nav-item","mt-auto"],[1,"flex-grow-1","p-4"],[1,"row","g-4"],[1,"col-lg-8"],[1,"card","shadow-sm","mb-4","text-center","p-4"],[1,"fw-bold"],[1,"text-muted"],[1,"card","shadow-sm","p-4","bg-gray","text-white"],[1,"mb-3"],["id","weeklyChart"],[1,"col-lg-4"],[1,"card","shadow-sm","p-3","h-100"],["class","d-flex justify-content-between border-bottom py-2",4,"ngFor","ngForOf"],["class","text-muted text-center mt-3",4,"ngIf"],[1,"d-flex","justify-content-between","border-bottom","py-2"],[1,"text-muted","text-center","mt-3"]],template:function(t,r){t&1&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),M(4,"CalTrack"),I(),x(5,"ul",4)(6,"li",5)(7,"button",6),te("click",function(){return r.goToUserDashboard()}),M(8," User Dashboard "),I()(),x(9,"li",5)(10,"button",6),te("click",function(){return r.goToGoals()}),M(11," Goals "),I()(),x(12,"li",5)(13,"button",6),te("click",function(){return r.goToLogCal()}),M(14," Log Calories "),I()(),x(15,"li",7)(16,"button",6),te("click",function(){return r.logout()}),M(17," Sign Out "),I()()()(),x(18,"div",8)(19,"div",9)(20,"div",10)(21,"div",11)(22,"h5"),M(23,"Total calories today"),I(),x(24,"h1",12),M(25),I(),x(26,"span",13),M(27,"kcal"),I()(),x(28,"div",14)(29,"h5",15),M(30,"Weekly intake"),I(),ht(31,"canvas",16),I()(),x(32,"div",17)(33,"div",18)(34,"h5",15),M(35,"Meals consumed"),I(),Lt(36,K2,5,3,"div",19)(37,Y2,2,0,"div",20),I()()()()()()),t&2&&(V(25),Ti(r.totalCalories),V(11),De("ngForOf",r.meals),V(),De("ngIf",r.meals.length===0))},dependencies:[qt,Rr,mn],styles:[".page-bg[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#77498d,#f6ebe6,#ffeef9)}"]})};var qf=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Fe({type:e,selectors:[["app-check-goals"]],decls:2,vars:0,template:function(t,r){t&1&&(Vo(0,"p"),M(1,"check-goals works!"),Bo())},encapsulation:2})};var Kf=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=Fe({type:e,selectors:[["app-check-users"]],decls:2,vars:0,template:function(t,r){t&1&&(Vo(0,"p"),M(1,"check-users works!"),Bo())},encapsulation:2})};function J2(e,n){if(e&1&&ht(0,"option",26),e&2){let t=n.$implicit;De("value",t.name)}}function Z2(e,n){if(e&1&&(x(0,"div",27)(1,"span"),M(2),I(),x(3,"strong"),M(4),I()()),e&2){let t=n.$implicit;V(2),Ti(t.name),V(2),ze("",t.kcal," kcal")}}function Q2(e,n){e&1&&(x(0,"div",28),M(1," No meals today "),I())}var Yf=class e{constructor(n,t){this.cdr=n;this.router=t}userId;meals=[];selectedMeal=null;selectedMealName="";weight=0;calculatedCalories=0;todayMeals=[];loading=!1;async ngAfterViewInit(){this.userId=Number(localStorage.getItem("userId")),await this.loadMeals(),await this.loadTodayMeals()}async loadMeals(){let{data:n,error:t}=await pt.from("meals").select("id, name, kcal, weight").order("name");if(t){console.error(t);return}this.meals=n}onMealSelected(){this.selectedMeal=this.meals.find(n=>n.name.toLowerCase()===this.selectedMealName.toLowerCase())??null,this.calculateCalories()}calculateCalories(){if(!this.selectedMeal||!this.weight){this.calculatedCalories=0;return}this.calculatedCalories=Math.round(this.selectedMeal.kcal/this.selectedMeal.weight*this.weight)}async logMeal(){if(!this.selectedMeal||this.loading)return;this.loading=!0;let n=new Date().toISOString().split("T")[0],{error:t}=await pt.from("users_meals").insert({user_id:this.userId,meal_id:this.selectedMeal.id,date:n,kcal:this.calculatedCalories});if(this.loading=!1,t){console.error("Insert failed:",t);return}this.weight=0,this.calculatedCalories=0,this.selectedMealName="",this.selectedMeal=null,await this.loadTodayMeals()}async loadTodayMeals(){let n=new Date().toISOString().split("T")[0],{data:t,error:r}=await pt.from("users_meals").select(`
        kcal,
        meals!inner (
          name
        )
      `).eq("user_id",this.userId).eq("date",n).order("id",{ascending:!1});if(r){console.error(r);return}let i=t;this.todayMeals=i.map(o=>({name:o.meals?.name??"Unknown",kcal:o.kcal})),this.cdr.detectChanges()}goToUserDashboard(){this.router.navigate(["/user-dashboard"])}goToGoals(){this.router.navigate(["/check-goals"])}goToLogCal(){this.router.navigate(["/log-cal"])}logout(){localStorage.clear(),location.href="/"}static \u0275fac=function(t){return new(t||e)(F(qe),F(Ye))};static \u0275cmp=Fe({type:e,selectors:[["app-log-cal"]],decls:43,vars:8,consts:[["form","ngForm"],[1,"page-bg"],[1,"d-flex","vh-100"],[1,"bg-dark","text-white","p-3",2,"width","240px"],[1,"mb-4"],[1,"nav","flex-column","gap-2"],[1,"nav-item"],[1,"btn","btn-outline-light","w-100",3,"click"],[1,"nav-item","mt-auto"],[1,"flex-grow-1","p-4","d-flex","justify-content-center"],[1,"card","shadow-sm","p-4",2,"width","400px"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"form-label"],["list","mealsList","name","meal","required","",1,"form-control",3,"ngModelChange","input","ngModel"],["id","mealsList"],[3,"value",4,"ngFor","ngForOf"],[1,"form-label","mt-3"],["type","number","min","0","name","weight","required","",1,"form-control",3,"ngModelChange","input","ngModel"],["disabled","",1,"form-control",3,"value"],["type","submit",1,"btn","btn-primary","w-100","mt-4",3,"disabled"],[1,"p-4",2,"width","350px"],[1,"card","shadow-sm","p-3","h-100"],[1,"mb-3"],["class","d-flex justify-content-between border-bottom py-2",4,"ngFor","ngForOf"],["class","text-muted text-center mt-3",4,"ngIf"],[3,"value"],[1,"d-flex","justify-content-between","border-bottom","py-2"],[1,"text-muted","text-center","mt-3"]],template:function(t,r){if(t&1){let i=Jn();x(0,"div",1)(1,"div",2)(2,"div",3)(3,"h4",4),M(4,"CalTrack"),I(),x(5,"ul",5)(6,"li",6)(7,"button",7),te("click",function(){return ne(i),re(r.goToUserDashboard())}),M(8," User Dashboard "),I()(),x(9,"li",6)(10,"button",7),te("click",function(){return ne(i),re(r.goToGoals())}),M(11," Goals "),I()(),x(12,"li",6)(13,"button",7),te("click",function(){return ne(i),re(r.goToLogCal())}),M(14," Log Calories "),I()(),x(15,"li",8)(16,"button",7),te("click",function(){return ne(i),re(r.logout())}),M(17," Sign Out "),I()()()(),x(18,"div",9)(19,"div",10)(20,"h4",11),M(21,"Register your meal"),I(),x(22,"form",12,0),te("ngSubmit",function(){return ne(i),re(r.logMeal())}),x(24,"label",13),M(25,"Name"),I(),x(26,"input",14),Ge("ngModelChange",function(s){return ne(i),it(r.selectedMealName,s)||(r.selectedMealName=s),re(s)}),te("input",function(){return ne(i),re(r.onMealSelected())}),I(),x(27,"datalist",15),Lt(28,J2,1,1,"option",16),I(),x(29,"label",17),M(30,"Weight (g)"),I(),x(31,"input",18),Ge("ngModelChange",function(s){return ne(i),it(r.weight,s)||(r.weight=s),re(s)}),te("input",function(){return ne(i),re(r.calculateCalories())}),I(),x(32,"label",17),M(33,"Calories"),I(),ht(34,"input",19),x(35,"button",20),M(36),I()()()(),x(37,"div",21)(38,"div",22)(39,"h5",23),M(40,"Today's meals"),I(),Lt(41,Z2,5,2,"div",24)(42,Q2,2,0,"div",25),I()()()()}t&2&&(V(26),We("ngModel",r.selectedMealName),V(2),De("ngForOf",r.meals),V(3),We("ngModel",r.weight),V(3),De("value",r.calculatedCalories),V(),De("disabled",!r.selectedMeal||r.loading),V(),ze(" ",r.loading?"Logging...":"Log meal"," "),V(5),De("ngForOf",r.todayMeals),V(),De("ngIf",r.todayMeals.length===0))},dependencies:[qt,Rr,mn,ds,us,IE,TE,Fr,fc,cs,ls,$i,qm,Ui,Bi],encapsulation:2})};function X2(e,n){if(e&1){let t=Jn();x(0,"tr")(1,"td",21)(2,"div",22),M(3),I()(),x(4,"td",21),M(5),I(),x(6,"td",23),M(7),I(),x(8,"td",23),M(9),I(),x(10,"td",23)(11,"span",24),M(12),Ng(13,"number"),I()(),x(14,"td",23)(15,"span",25),M(16),I()(),x(17,"td",26)(18,"button",27),te("click",function(){let i=ne(t).$implicit,o=xr();return re(o.viewDetails(i.id))}),M(19," Ver Detalles / Metas "),I()()()}if(e&2){let t=n.$implicit,r=xr();V(3),Uo("",t.firstName," ",t.firstLastName),V(2),ze("",t.age," a\xF1os"),V(2),ze("",t.weight," kg"),V(2),ze("",t.height," cm"),V(3),ze(" ",Og(13,8,r.calculateIMC(t.weight,t.height),"1.1-1")," "),V(3),De("ngClass",r.getIMCClass(r.calculateIMC(t.weight,t.height))),V(),ze(" ",r.getIMCCategory(r.calculateIMC(t.weight,t.height))," ")}}function eB(e,n){e&1&&(x(0,"tr")(1,"td",28),M(2," No tienes pacientes asignados actualmente. "),I()())}var Jf=class e{constructor(n,t){this.router=n;this.cdr=t}nutriId=Number(localStorage.getItem("nutri_id"))||null;recentPatientMeals=[];totalGlobalCalories=0;patients=[];async ngOnInit(){if(!this.nutriId){this.router.navigate([""]);return}await this.loadPatientsData()}calculateIMC(n,t){return!n||!t?0:n/(t*t)}getIMCCategory(n){return n<=0?"Sin datos":n<18.5?"Bajo Peso":n<25?"Normal":n<30?"Sobrepeso":"Obesidad"}getIMCClass(n){return n<=0?"badge bg-secondary":n>=18.5&&n<25?"badge bg-success":n>=25&&n<30?"badge bg-warning text-dark":"badge bg-danger"}viewDetails(n){this.router.navigate(["/check-goals"],{queryParams:{userId:n}})}async loadPatientsData(){let{data:n,error:t}=await pt.from("nutritionist_users").select(`
        user_id,
        users (*) 
      `).eq("nutritionist_id",this.nutriId);if(t||!n){console.error("Error obteniendo pacientes:",t);return}if(this.patients=n.map(s=>s.users).filter(s=>s!==null),this.patients.length===0)return;let r=this.patients.map(s=>s.id),{data:i,error:o}=await pt.from("users_meals").select(`
        kcal,
        users!inner ( firstName, firstLastName ),
        meals ( name )
      `).in("user_id",r).order("date",{ascending:!1}).limit(10);this.cdr.detectChanges(),!o&&i&&(this.recentPatientMeals=i.map(s=>({patientName:`${s.users?.firstName} ${s.users?.firstLastName}`,mealName:s.meals?.name??"Comida desconocida",kcal:Number(s.kcal||0)})),this.totalGlobalCalories=this.recentPatientMeals.reduce((s,a)=>s+a.kcal,0))}goToDashboard(){this.router.navigate(["/nutri-dashboard"])}goToGestAlimentos(){this.router.navigate(["/gestion-alimentos"])}goToVerUsuarios(){this.router.navigate(["/ver-usuarios"])}logout(){localStorage.clear(),this.router.navigate([""])}static \u0275fac=function(t){return new(t||e)(F(Ye),F(qe))};static \u0275cmp=Fe({type:e,selectors:[["app-nutri-dashboard"]],decls:47,vars:3,consts:[[1,"page-bg"],[1,"d-flex","vh-100"],[1,"bg-dark","text-white","p-3",2,"width","240px"],[1,"mb-4"],[1,"nav","flex-column","gap-2"],[1,"nav-item"],[1,"btn","btn-outline-light","w-100","active","bg-primary","rounded","bg-white"],[1,"btn","btn-outline-light","w-100",3,"click"],[1,"nav-item","mt-auto"],[1,"flex-grow-1","p-4","bg-light","overflow-auto"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"badge","bg-info","text-white","bg-black"],[1,"card","shadow-sm"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-hover","mb-0"],[1,"table-dark"],[1,"text-center"],[1,"text-end"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"align-middle"],[1,"fw-bold"],[1,"text-center","align-middle"],[1,"badge","bg-light","text-dark","border"],[3,"ngClass"],[1,"text-end","align-middle"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],["colspan","7",1,"text-center","py-4","text-muted"]],template:function(t,r){t&1&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),M(4,"CalTrack"),I(),x(5,"ul",4)(6,"li",5)(7,"button",6),M(8," User Dashboard "),I()(),x(9,"li",5)(10,"button",7),te("click",function(){return r.goToGestAlimentos()}),M(11," Gesti\xF3n Alimentos "),I()(),x(12,"li",5)(13,"button",7),te("click",function(){return r.goToVerUsuarios()}),M(14," Ver Usuarios "),I()(),x(15,"li",8)(16,"button",7),te("click",function(){return r.logout()}),M(17," Sign Out "),I()()()(),x(18,"div",9)(19,"div",10)(20,"h2"),M(21,"Dashboard"),I(),x(22,"span",11),M(23),I()(),x(24,"div",12)(25,"div",13)(26,"div",14)(27,"table",15)(28,"thead",16)(29,"tr")(30,"th"),M(31,"Paciente"),I(),x(32,"th"),M(33,"Edad"),I(),x(34,"th",17),M(35,"Peso (kg)"),I(),x(36,"th",17),M(37,"Estatura (cm)"),I(),x(38,"th",17),M(39,"IMC"),I(),x(40,"th",17),M(41,"Estado"),I(),x(42,"th",18),M(43,"Acciones"),I()()(),x(44,"tbody"),Lt(45,X2,20,11,"tr",19)(46,eB,3,0,"tr",20),I()()()()()()()()),t&2&&(V(23),ze("Total Pacientes: ",r.patients.length),V(22),De("ngForOf",r.patients),V(),De("ngIf",r.patients.length===0))},dependencies:[qt,Yg,Rr,mn,Vm,Jg],encapsulation:2})};function tB(e,n){if(e&1&&(x(0,"div",36),M(1),I()),e&2){let t=xr();V(),ze(" ",t.errorMessage," ")}}var Zf=class e{constructor(n,t){this.router=n;this.cdr=t}showPassword=!1;errorMessage="";user={firstName:"",firstLastName:"",secondLastName:"",height:null,weight:null,age:null,phoneNumber:"",username:"",password:""};navigateToLogin(n){n.preventDefault(),this.router.navigate([""])}async createUser(n){let{error:t}=await pt.from("users").insert([{firstName:n.firstName,firstLastName:n.firstLastName,secondLastName:n.secondLastName,height:n.height,weight:n.weight,age:n.age,phoneNumber:n.phoneNumber,username:n.username,password:n.password}]);t?t.code==="23505"?(this.errorMessage="Email already exists",this.cdr.detectChanges()):(this.errorMessage="Something went wrong",this.cdr.detectChanges(),console.error(t)):this.router.navigate([""])}static \u0275fac=function(t){return new(t||e)(F(Ye),F(qe))};static \u0275cmp=Fe({type:e,selectors:[["app-sign-up"]],decls:66,vars:12,consts:[["form","ngForm"],[1,"page-bg"],[1,"page-bg","vh-100"],[1,"navbar","navbar-dark","bg-dark"],[1,"container-fluid"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#sidebar","aria-controls","sidebar",1,"btn","btn-outline-light","me-2"],[1,"navbar-brand","mb-0","h1"],["tabindex","-1","id","sidebar","aria-labelledby","sidebarLabel",1,"offcanvas","offcanvas-start"],[1,"offcanvas-header"],["id","sidebarLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","text-reset"],[1,"offcanvas-body","p-0"],[1,"nav","flex-column","p-3"],["data-bs-dismiss","offcanvas",1,"nav-link","active",3,"click"],[1,"container-fluid","pt-4","h-100","d-flex","justify-content-center","align-items-start"],[1,"card","shadow","p-4","w-100",2,"max-width","900px"],[1,"mb-4","text-center"],[3,"ngSubmit"],[1,"row","g-3"],[1,"col-md-4"],[1,"form-label"],["name","firstName","required","","maxlength","20",1,"form-control",3,"ngModelChange","ngModel"],["name","firstLastName","required","","maxlength","20",1,"form-control",3,"ngModelChange","ngModel"],["name","secondLastName","required","","maxlength","20",1,"form-control",3,"ngModelChange","ngModel"],["type","number","step","0.01","name","height","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","step","0.1","name","weight","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","age","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-6"],["type","email","name","username","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","phoneNumber","maxlength","20","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-12"],[1,"input-group"],["name","password","required","",1,"form-control",3,"ngModelChange","type","ngModel"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["class","text-danger mt-3",4,"ngIf"],[1,"btn","btn-success","w-100","mt-4",3,"disabled"],[1,"text-danger","mt-3"]],template:function(t,r){if(t&1){let i=Jn();x(0,"div",1)(1,"div",2)(2,"nav",3)(3,"div",4)(4,"button",5),M(5," \u2630 "),I(),x(6,"span",6),M(7,"CalTrack"),I()()(),x(8,"div",7)(9,"div",8)(10,"h5",9),M(11,"Menu"),I(),ht(12,"button",10),I(),x(13,"div",11)(14,"nav",12)(15,"a",13),te("click",function(s){return ne(i),re(r.navigateToLogin(s))}),M(16," \u2190 Back to Login "),I()()()(),x(17,"div",14)(18,"div",15)(19,"h2",16),M(20,"Create Account"),I(),x(21,"form",17,0),te("ngSubmit",function(){return ne(i),re(r.createUser(r.user))}),x(23,"div",18)(24,"div",19)(25,"label",20),M(26,"Name"),I(),x(27,"input",21),Ge("ngModelChange",function(s){return ne(i),it(r.user.firstName,s)||(r.user.firstName=s),re(s)}),I()(),x(28,"div",19)(29,"label",20),M(30,"First Last Name"),I(),x(31,"input",22),Ge("ngModelChange",function(s){return ne(i),it(r.user.firstLastName,s)||(r.user.firstLastName=s),re(s)}),I()(),x(32,"div",19)(33,"label",20),M(34,"Second Last Name"),I(),x(35,"input",23),Ge("ngModelChange",function(s){return ne(i),it(r.user.secondLastName,s)||(r.user.secondLastName=s),re(s)}),I()(),x(36,"div",19)(37,"label",20),M(38,"Height (m)"),I(),x(39,"input",24),Ge("ngModelChange",function(s){return ne(i),it(r.user.height,s)||(r.user.height=s),re(s)}),I()(),x(40,"div",19)(41,"label",20),M(42,"Weight (kg)"),I(),x(43,"input",25),Ge("ngModelChange",function(s){return ne(i),it(r.user.weight,s)||(r.user.weight=s),re(s)}),I()(),x(44,"div",19)(45,"label",20),M(46,"Age"),I(),x(47,"input",26),Ge("ngModelChange",function(s){return ne(i),it(r.user.age,s)||(r.user.age=s),re(s)}),I()(),x(48,"div",27)(49,"label",20),M(50,"Email"),I(),x(51,"input",28),Ge("ngModelChange",function(s){return ne(i),it(r.user.username,s)||(r.user.username=s),re(s)}),I()(),x(52,"div",27)(53,"label",20),M(54,"Phone Number"),I(),x(55,"input",29),Ge("ngModelChange",function(s){return ne(i),it(r.user.phoneNumber,s)||(r.user.phoneNumber=s),re(s)}),I()(),x(56,"div",30)(57,"label",20),M(58,"Password"),I(),x(59,"div",31)(60,"input",32),Ge("ngModelChange",function(s){return ne(i),it(r.user.password,s)||(r.user.password=s),re(s)}),I(),x(61,"button",33),te("click",function(){return ne(i),re(r.showPassword=!r.showPassword)}),M(62," \u{1F441} "),I()()()(),Lt(63,tB,2,1,"div",34),x(64,"button",35),M(65," Create User "),I()()()()()()}if(t&2){let i=Ia(22);V(27),We("ngModel",r.user.firstName),V(4),We("ngModel",r.user.firstLastName),V(4),We("ngModel",r.user.secondLastName),V(4),We("ngModel",r.user.height),V(4),We("ngModel",r.user.weight),V(4),We("ngModel",r.user.age),V(4),We("ngModel",r.user.username),V(4),We("ngModel",r.user.phoneNumber),V(5),De("type",r.showPassword?"text":"password"),We("ngModel",r.user.password),V(3),De("ngIf",r.errorMessage),V(),De("disabled",i.invalid)}},dependencies:[qt,mn,ds,us,Fr,fc,cs,ls,$i,Km,Ui,Bi],styles:[".page-bg[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#498d8d,#e6f6f4,#eefcff)}"]})};var GI=[{path:"",component:sf},{path:"user-dashboard",component:Gf},{path:"nutri-dashboard",component:Jf},{path:"sign-up",component:Zf},{path:"check-goals",component:qf},{path:"check-users",component:Kf},{path:"log-cal",component:Yf}];var qI={providers:[Lm(GI),um()]};om(Sd,qI);
